function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/TourEditor-CNvMTJc6.js","assets/TourEditor-C4iRtQE9.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();const Ts="modulepreload",Ds=function(t){return"/builder/"+t},ai={},Rs=function(e,n,i){let s=Promise.resolve();if(n&&n.length>0){const r=document.getElementsByTagName("link");s=Promise.all(n.map(a=>{if(a=Ds(a),a in ai)return;ai[a]=!0;const o=a.endsWith(".css"),c=o?'[rel="stylesheet"]':"";if(!!i)for(let m=r.length-1;m>=0;m--){const _=r[m];if(_.href===a&&(!o||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${c}`))return;const h=document.createElement("link");if(h.rel=o?"stylesheet":Ts,o||(h.as="script",h.crossOrigin=""),h.href=a,document.head.appendChild(h),o)return new Promise((m,_)=>{h.addEventListener("load",m),h.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${a}`)))})}))}return s.then(()=>e()).catch(r=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=r,window.dispatchEvent(a),!a.defaultPrevented)throw r})},Ae={context:void 0,registry:void 0};function an(t){Ae.context=t}const zs=(t,e)=>t===e,it=Symbol("solid-proxy"),Hn=Symbol("solid-track"),Gn={equals:zs};let Si=Mi;const yt=1,Jn=2,Ni={owned:null,cleanups:null,context:null,owner:null},Er={};var be=null;let Br=null,Os=null,Ie=null,$e=null,pt=null,mr=0;function xt(t,e){const n=Ie,i=be,s=t.length===0,r=e===void 0?i:e,a=s?Ni:{owned:null,cleanups:null,context:r?r.context:null,owner:r},o=s?t:()=>t(()=>ze(()=>_r(a)));be=a,Ie=null;try{return lt(o,!0)}finally{Ie=n,be=i}}function Re(t,e){e=e?Object.assign({},Gn,e):Gn;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},i=s=>(typeof s=="function"&&(s=s(n.value)),ji(n,s));return[Oi.bind(n),i]}function oi(t,e,n){const i=vr(t,e,!0,yt);Yt(i)}function ce(t,e,n){const i=vr(t,e,!1,yt);Yt(i)}function Ht(t,e,n){Si=Fs;const i=vr(t,e,!1,yt);(!n||!n.render)&&(i.user=!0),pt?pt.push(i):Yt(i)}function _e(t,e,n){n=n?Object.assign({},Gn,n):Gn;const i=vr(t,e,!0,0);return i.observers=null,i.observerSlots=null,i.comparator=n.equals||void 0,Yt(i),Oi.bind(i)}function js(t){return t&&typeof t=="object"&&"then"in t}function Et(t,e,n){let i,s,r;arguments.length===2&&typeof e=="object"||arguments.length===1?(i=!0,s=t,r=e||{}):(i=t,s=e,r=n||{});let a=null,o=Er,c=null,l=!1,h="initialValue"in r,m=typeof i=="function"&&_e(i);const _=new Set,[f,y]=(r.storage||Re)(r.initialValue),[u,v]=Re(void 0),[g,A]=Re(void 0,{equals:!1}),[w,x]=Re(h?"ready":"unresolved");if(Ae.context){c=`${Ae.context.id}${Ae.context.count++}`;let C;r.ssrLoadFrom==="initial"?o=r.initialValue:Ae.load&&(C=Ae.load(c))&&(o=C)}function E(C,T,$,I){return a===C&&(a=null,I!==void 0&&(h=!0),(C===o||T===o)&&r.onHydrated&&queueMicrotask(()=>r.onHydrated(I,{value:T})),o=Er,D(T,$)),T}function D(C,T){lt(()=>{T===void 0&&y(()=>C),x(T!==void 0?"errored":h?"ready":"unresolved"),v(T);for(const $ of _.keys())$.decrement();_.clear()},!1)}function B(){const C=Qs,T=f(),$=u();if($!==void 0&&!a)throw $;return Ie&&!Ie.user&&C&&oi(()=>{g(),a&&(C.resolved||_.has(C)||(C.increment(),_.add(C)))}),T}function z(C=!0){if(C!==!1&&l)return;l=!1;const T=m?m():i;if(T==null||T===!1){E(a,ze(f));return}const $=o!==Er?o:ze(()=>s(T,{value:f(),refetching:C}));return js($)?(a=$,"value"in $?($.status==="success"?E(a,$.value,void 0,T):E(a,void 0,void 0,T),$):(l=!0,queueMicrotask(()=>l=!1),lt(()=>{x(h?"refreshing":"pending"),A()},!1),$.then(I=>E($,I,void 0,T),I=>E($,void 0,Qi(I),T)))):(E(a,$,void 0,T),$)}return Object.defineProperties(B,{state:{get:()=>w()},error:{get:()=>u()},loading:{get(){const C=w();return C==="pending"||C==="refreshing"}},latest:{get(){if(!h)return B();const C=u();if(C&&!a)throw C;return f()}}}),m?oi(()=>z(!1)):z(!1),[B,{refetch:z,mutate:y}]}function Ms(t){return lt(t,!1)}function ze(t){if(Ie===null)return t();const e=Ie;Ie=null;try{return t()}finally{Ie=e}}function Ti(t,e,n){const i=Array.isArray(t);let s,r=n&&n.defer;return a=>{let o;if(i){o=Array(t.length);for(let l=0;l<t.length;l++)o[l]=t[l]()}else o=t();if(r){r=!1;return}const c=ze(()=>e(o,s,a));return s=o,c}}function Di(t){Ht(()=>ze(t))}function vt(t){return be===null||(be.cleanups===null?be.cleanups=[t]:be.cleanups.push(t)),t}function Mr(){return Ie}function Ri(){return be}function zi(t,e){const n=be,i=Ie;be=t,Ie=null;try{return lt(e,!0)}catch(s){ei(s)}finally{be=n,Ie=i}}function Ps(t){const e=Ie,n=be;return Promise.resolve().then(()=>{Ie=e,be=n;let i;return lt(t,!1),Ie=be=null,i?i.done:void 0})}function Yr(t,e){const n=Symbol("context");return{id:n,Provider:$s(n),defaultValue:t}}function gr(t){return be&&be.context&&be.context[t.id]!==void 0?be.context[t.id]:t.defaultValue}function yr(t){const e=_e(t),n=_e(()=>Pr(e()));return n.toArray=()=>{const i=n();return Array.isArray(i)?i:i!=null?[i]:[]},n}let Qs;function Oi(){if(this.sources&&this.state)if(this.state===yt)Yt(this);else{const t=$e;$e=null,lt(()=>Wn(this),!1),$e=t}if(Ie){const t=this.observers?this.observers.length:0;Ie.sources?(Ie.sources.push(this),Ie.sourceSlots.push(t)):(Ie.sources=[this],Ie.sourceSlots=[t]),this.observers?(this.observers.push(Ie),this.observerSlots.push(Ie.sources.length-1)):(this.observers=[Ie],this.observerSlots=[Ie.sources.length-1])}return this.value}function ji(t,e,n){let i=t.value;return(!t.comparator||!t.comparator(i,e))&&(t.value=e,t.observers&&t.observers.length&&lt(()=>{for(let s=0;s<t.observers.length;s+=1){const r=t.observers[s],a=Br&&Br.running;a&&Br.disposed.has(r),(a?!r.tState:!r.state)&&(r.pure?$e.push(r):pt.push(r),r.observers&&Pi(r)),a||(r.state=yt)}if($e.length>1e6)throw $e=[],new Error},!1)),e}function Yt(t){if(!t.fn)return;_r(t);const e=mr;Zs(t,t.value,e)}function Zs(t,e,n){let i;const s=be,r=Ie;Ie=be=t;try{i=t.fn(e)}catch(a){return t.pure&&(t.state=yt,t.owned&&t.owned.forEach(_r),t.owned=null),t.updatedAt=n+1,ei(a)}finally{Ie=r,be=s}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?ji(t,i):t.value=i,t.updatedAt=n)}function vr(t,e,n,i=yt,s){const r={fn:t,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:be,context:be?be.context:null,pure:n};return be===null||be!==Ni&&(be.owned?be.owned.push(r):be.owned=[r]),r}function Vn(t){if(t.state===0)return;if(t.state===Jn)return Wn(t);if(t.suspense&&ze(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<mr);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===yt)Yt(t);else if(t.state===Jn){const i=$e;$e=null,lt(()=>Wn(t,e[0]),!1),$e=i}}function lt(t,e){if($e)return t();let n=!1;e||($e=[]),pt?n=!0:pt=[],mr++;try{const i=t();return Ls(n),i}catch(i){n||(pt=null),$e=null,ei(i)}}function Ls(t){if($e&&(Mi($e),$e=null),t)return;const e=pt;pt=null,e.length&&lt(()=>Si(e),!1)}function Mi(t){for(let e=0;e<t.length;e++)Vn(t[e])}function Fs(t){let e,n=0;for(e=0;e<t.length;e++){const i=t[e];i.user?t[n++]=i:Vn(i)}if(Ae.context){if(Ae.count){Ae.effects||(Ae.effects=[]),Ae.effects.push(...t.slice(0,n));return}else Ae.effects&&(t=[...Ae.effects,...t],n+=Ae.effects.length,delete Ae.effects);an()}for(e=0;e<n;e++)Vn(t[e])}function Wn(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const i=t.sources[n];if(i.sources){const s=i.state;s===yt?i!==e&&(!i.updatedAt||i.updatedAt<mr)&&Vn(i):s===Jn&&Wn(i,e)}}}function Pi(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=Jn,n.pure?$e.push(n):pt.push(n),n.observers&&Pi(n))}}function _r(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),i=t.sourceSlots.pop(),s=n.observers;if(s&&s.length){const r=s.pop(),a=n.observerSlots.pop();i<s.length&&(r.sourceSlots[a]=i,s[i]=r,n.observerSlots[i]=a)}}if(t.owned){for(e=t.owned.length-1;e>=0;e--)_r(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function Qi(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function ei(t,e=be){throw Qi(t)}function Pr(t){if(typeof t=="function"&&!t.length)return Pr(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const i=Pr(t[n]);Array.isArray(i)?e.push.apply(e,i):e.push(i)}return e}return t}function $s(t,e){return function(i){let s;return ce(()=>s=ze(()=>(be.context={...be.context,[t]:i.value},yr(()=>i.children))),void 0),s}}const Qr=Symbol("fallback");function Xn(t){for(let e=0;e<t.length;e++)t[e]()}function Us(t,e,n={}){let i=[],s=[],r=[],a=0,o=e.length>1?[]:null;return vt(()=>Xn(r)),()=>{let c=t()||[],l,h;return c[Hn],ze(()=>{let _=c.length,f,y,u,v,g,A,w,x,E;if(_===0)a!==0&&(Xn(r),r=[],i=[],s=[],a=0,o&&(o=[])),n.fallback&&(i=[Qr],s[0]=xt(D=>(r[0]=D,n.fallback())),a=1);else if(a===0){for(s=new Array(_),h=0;h<_;h++)i[h]=c[h],s[h]=xt(m);a=_}else{for(u=new Array(_),v=new Array(_),o&&(g=new Array(_)),A=0,w=Math.min(a,_);A<w&&i[A]===c[A];A++);for(w=a-1,x=_-1;w>=A&&x>=A&&i[w]===c[x];w--,x--)u[x]=s[w],v[x]=r[w],o&&(g[x]=o[w]);for(f=new Map,y=new Array(x+1),h=x;h>=A;h--)E=c[h],l=f.get(E),y[h]=l===void 0?-1:l,f.set(E,h);for(l=A;l<=w;l++)E=i[l],h=f.get(E),h!==void 0&&h!==-1?(u[h]=s[l],v[h]=r[l],o&&(g[h]=o[l]),h=y[h],f.set(E,h)):r[l]();for(h=A;h<_;h++)h in u?(s[h]=u[h],r[h]=v[h],o&&(o[h]=g[h],o[h](h))):s[h]=xt(m);s=s.slice(0,a=_),i=c.slice(0)}return s});function m(_){if(r[h]=_,o){const[f,y]=Re(h);return o[h]=y,e(c[h],f)}return e(c[h])}}}function qs(t,e,n={}){let i=[],s=[],r=[],a=[],o=0,c;return vt(()=>Xn(r)),()=>{const l=t()||[];return l[Hn],ze(()=>{if(l.length===0)return o!==0&&(Xn(r),r=[],i=[],s=[],o=0,a=[]),n.fallback&&(i=[Qr],s[0]=xt(m=>(r[0]=m,n.fallback())),o=1),s;for(i[0]===Qr&&(r[0](),r=[],i=[],s=[],o=0),c=0;c<l.length;c++)c<i.length&&i[c]!==l[c]?a[c](()=>l[c]):c>=i.length&&(s[c]=xt(h));for(;c<i.length;c++)r[c]();return o=a.length=r.length=l.length,i=l.slice(0),s=s.slice(0,o)});function h(m){r[c]=m;const[_,f]=Re(l[c]);return a[c]=f,e(_,c)}}}function P(t,e){return ze(()=>t(e||{}))}function Tn(){return!0}const Zr={get(t,e,n){return e===it?n:t.get(e)},has(t,e){return e===it?!0:t.has(e)},set:Tn,deleteProperty:Tn,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:Tn,deleteProperty:Tn}},ownKeys(t){return t.keys()}};function Cr(t){return(t=typeof t=="function"?t():t)?t:{}}function Hs(){for(let t=0,e=this.length;t<e;++t){const n=this[t]();if(n!==void 0)return n}}function Xe(...t){let e=!1;for(let a=0;a<t.length;a++){const o=t[a];e=e||!!o&&it in o,t[a]=typeof o=="function"?(e=!0,_e(o)):o}if(e)return new Proxy({get(a){for(let o=t.length-1;o>=0;o--){const c=Cr(t[o])[a];if(c!==void 0)return c}},has(a){for(let o=t.length-1;o>=0;o--)if(a in Cr(t[o]))return!0;return!1},keys(){const a=[];for(let o=0;o<t.length;o++)a.push(...Object.keys(Cr(t[o])));return[...new Set(a)]}},Zr);const n={},i=Object.create(null);for(let a=t.length-1;a>=0;a--){const o=t[a];if(!o)continue;const c=Object.getOwnPropertyNames(o);for(let l=c.length-1;l>=0;l--){const h=c[l];if(h==="__proto__"||h==="constructor")continue;const m=Object.getOwnPropertyDescriptor(o,h);if(!i[h])i[h]=m.get?{enumerable:!0,configurable:!0,get:Hs.bind(n[h]=[m.get.bind(o)])}:m.value!==void 0?m:void 0;else{const _=n[h];_&&(m.get?_.push(m.get.bind(o)):m.value!==void 0&&_.push(()=>m.value))}}}const s={},r=Object.keys(i);for(let a=r.length-1;a>=0;a--){const o=r[a],c=i[o];c&&c.get?Object.defineProperty(s,o,c):s[o]=c?c.value:void 0}return s}function Zi(t,...e){if(it in t){const s=new Set(e.length>1?e.flat():e[0]),r=e.map(a=>new Proxy({get(o){return a.includes(o)?t[o]:void 0},has(o){return a.includes(o)&&o in t},keys(){return a.filter(o=>o in t)}},Zr));return r.push(new Proxy({get(a){return s.has(a)?void 0:t[a]},has(a){return s.has(a)?!1:a in t},keys(){return Object.keys(t).filter(a=>!s.has(a))}},Zr)),r}const n={},i=e.map(()=>({}));for(const s of Object.getOwnPropertyNames(t)){const r=Object.getOwnPropertyDescriptor(t,s),a=!r.get&&!r.set&&r.enumerable&&r.writable&&r.configurable;let o=!1,c=0;for(const l of e)l.includes(s)&&(o=!0,a?i[c][s]=r.value:Object.defineProperty(i[c],s,r)),++c;o||(a?n[s]=r.value:Object.defineProperty(n,s,r))}return[...i,n]}function Gs(t){let e,n;const i=s=>{const r=Ae.context;if(r){const[o,c]=Re();Ae.count||(Ae.count=0),Ae.count++,(n||(n=t())).then(l=>{an(r),Ae.count--,c(()=>l.default),an()}),e=o}else if(!e){const[o]=Et(()=>(n||(n=t())).then(c=>c.default));e=o}let a;return _e(()=>(a=e())&&ze(()=>{if(!r)return a(s);const o=Ae.context;an(r);const c=a(s);return an(o),c}))};return i.preload=()=>n||((n=t()).then(s=>e=()=>s.default),n),i}let Js=0;function Li(){const t=Ae.context;return t?`${t.id}${t.count++}`:`cl-${Js++}`}const Fi=t=>`Stale read from <${t}>.`;function en(t){const e="fallback"in t&&{fallback:()=>t.fallback};return _e(Us(()=>t.each,t.children,e||void 0))}function jh(t){const e="fallback"in t&&{fallback:()=>t.fallback};return _e(qs(()=>t.each,t.children,e||void 0))}function Te(t){const e=t.keyed,n=_e(()=>t.when,void 0,{equals:(i,s)=>e?i===s:!i==!s});return _e(()=>{const i=n();if(i){const s=t.children;return typeof s=="function"&&s.length>0?ze(()=>s(e?i:()=>{if(!ze(n))throw Fi("Show");return t.when})):s}return t.fallback},void 0,void 0)}function Vs(t){let e=!1;const n=(r,a)=>(e?r[1]===a[1]:!r[1]==!a[1])&&r[2]===a[2],i=yr(()=>t.children),s=_e(()=>{let r=i();Array.isArray(r)||(r=[r]);for(let a=0;a<r.length;a++){const o=r[a].when;if(o)return e=!!r[a].keyed,[a,o,r[a]]}return[-1]},void 0,{equals:n});return _e(()=>{const[r,a,o]=s();if(r<0)return t.fallback;const c=o.children;return typeof c=="function"&&c.length>0?ze(()=>c(e?a:()=>{if(ze(s)[0]!==r)throw Fi("Match");return o.when})):c},void 0,void 0)}function Dn(t){return t}const Ws=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Xs=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Ws]),Ks=new Set(["innerHTML","textContent","innerText","children"]),Ys=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),ea=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function ta(t,e){const n=ea[t];return typeof n=="object"?n[e]?n.$:void 0:n}const na=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),ra={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function ia(t,e,n){let i=n.length,s=e.length,r=i,a=0,o=0,c=e[s-1].nextSibling,l=null;for(;a<s||o<r;){if(e[a]===n[o]){a++,o++;continue}for(;e[s-1]===n[r-1];)s--,r--;if(s===a){const h=r<i?o?n[o-1].nextSibling:n[r-o]:c;for(;o<r;)t.insertBefore(n[o++],h)}else if(r===o)for(;a<s;)(!l||!l.has(e[a]))&&e[a].remove(),a++;else if(e[a]===n[r-1]&&n[o]===e[s-1]){const h=e[--s].nextSibling;t.insertBefore(n[o++],e[a++].nextSibling),t.insertBefore(n[--r],h),e[s]=n[r]}else{if(!l){l=new Map;let m=o;for(;m<r;)l.set(n[m],m++)}const h=l.get(e[a]);if(h!=null)if(o<h&&h<r){let m=a,_=1,f;for(;++m<s&&m<r&&!((f=l.get(e[m]))==null||f!==h+_);)_++;if(_>h-o){const y=e[a];for(;o<h;)t.insertBefore(n[o++],y)}else t.replaceChild(n[o++],e[a++])}else a++;else e[a++].remove()}}}const ci="_$DX_DELEGATE";function sa(t,e,n,i={}){let s;return xt(r=>{s=r,e===document?t():U(e,t(),e.firstChild?null:void 0,n)},i.owner),()=>{s(),e.textContent=""}}function ie(t,e,n){let i;const s=()=>{const a=document.createElement("template");return a.innerHTML=t,n?a.content.firstChild.firstChild:a.content.firstChild},r=e?()=>ze(()=>document.importNode(i||(i=s()),!0)):()=>(i||(i=s())).cloneNode(!0);return r.cloneNode=r,r}function Nt(t,e=window.document){const n=e[ci]||(e[ci]=new Set);for(let i=0,s=t.length;i<s;i++){const r=t[i];n.has(r)||(n.add(r),e.addEventListener(r,da))}}function Le(t,e,n){Ae.context||(n==null?t.removeAttribute(e):t.setAttribute(e,n))}function aa(t,e,n,i){Ae.context||(i==null?t.removeAttributeNS(e,n):t.setAttributeNS(e,n,i))}function G(t,e){Ae.context||(e==null?t.removeAttribute("class"):t.className=e)}function $i(t,e,n,i){if(i)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const s=n[0];t.addEventListener(e,n[0]=r=>s.call(t,n[1],r))}else t.addEventListener(e,n)}function oa(t,e,n={}){const i=Object.keys(e||{}),s=Object.keys(n);let r,a;for(r=0,a=s.length;r<a;r++){const o=s[r];!o||o==="undefined"||e[o]||(li(t,o,!1),delete n[o])}for(r=0,a=i.length;r<a;r++){const o=i[r],c=!!e[o];!o||o==="undefined"||n[o]===c||!c||(li(t,o,!0),n[o]=c)}return n}function ct(t,e,n){if(!e)return n?Le(t,"style"):e;const i=t.style;if(typeof e=="string")return i.cssText=e;typeof n=="string"&&(i.cssText=n=void 0),n||(n={}),e||(e={});let s,r;for(r in n)e[r]==null&&i.removeProperty(r),delete n[r];for(r in e)s=e[r],s!==n[r]&&(i.setProperty(r,s),n[r]=s);return n}function dt(t,e={},n,i){const s={};return i||ce(()=>s.children=Gt(t,e.children,s.children)),ce(()=>e.ref&&e.ref(t)),ce(()=>ca(t,e,n,!0,s,!0)),s}function Ui(t,e,n){return ze(()=>t(e,n))}function U(t,e,n,i){if(n!==void 0&&!i&&(i=[]),typeof e!="function")return Gt(t,e,i,n);ce(s=>Gt(t,e(),s,n),i)}function ca(t,e,n,i,s={},r=!1){e||(e={});for(const a in s)if(!(a in e)){if(a==="children")continue;s[a]=di(t,a,null,s[a],n,r)}for(const a in e){if(a==="children"){i||Gt(t,e.children);continue}const o=e[a];s[a]=di(t,a,o,s[a],n,r)}}function la(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function li(t,e,n){const i=e.trim().split(/\s+/);for(let s=0,r=i.length;s<r;s++)t.classList.toggle(i[s],n)}function di(t,e,n,i,s,r){let a,o,c,l,h;if(e==="style")return ct(t,n,i);if(e==="classList")return oa(t,n,i);if(n===i)return i;if(e==="ref")r||n(t);else if(e.slice(0,3)==="on:"){const m=e.slice(3);i&&t.removeEventListener(m,i),n&&t.addEventListener(m,n)}else if(e.slice(0,10)==="oncapture:"){const m=e.slice(10);i&&t.removeEventListener(m,i,!0),n&&t.addEventListener(m,n,!0)}else if(e.slice(0,2)==="on"){const m=e.slice(2).toLowerCase(),_=na.has(m);if(!_&&i){const f=Array.isArray(i)?i[0]:i;t.removeEventListener(m,f)}(_||n)&&($i(t,m,n,_),_&&Nt([m]))}else if(e.slice(0,5)==="attr:")Le(t,e.slice(5),n);else if((h=e.slice(0,5)==="prop:")||(c=Ks.has(e))||!s&&((l=ta(e,t.tagName))||(o=Xs.has(e)))||(a=t.nodeName.includes("-"))){if(h)e=e.slice(5),o=!0;else if(Ae.context)return n;e==="class"||e==="className"?G(t,n):a&&!o&&!c?t[la(e)]=n:t[l||e]=n}else{const m=s&&e.indexOf(":")>-1&&ra[e.split(":")[0]];m?aa(t,m,e,n):Le(t,Ys[e]||e,n)}return n}function da(t){const e=`$$${t.type}`;let n=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==n&&Object.defineProperty(t,"target",{configurable:!0,value:n}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return n||document}}),Ae.registry&&!Ae.done&&(Ae.done=_$HY.done=!0);n;){const i=n[e];if(i&&!n.disabled){const s=n[`${e}Data`];if(s!==void 0?i.call(n,s,t):i.call(n,t),t.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function Gt(t,e,n,i,s){if(Ae.context){!n&&(n=[...t.childNodes]);let o=[];for(let c=0;c<n.length;c++){const l=n[c];l.nodeType===8&&l.data.slice(0,2)==="!$"?l.remove():o.push(l)}n=o}for(;typeof n=="function";)n=n();if(e===n)return n;const r=typeof e,a=i!==void 0;if(t=a&&n[0]&&n[0].parentNode||t,r==="string"||r==="number"){if(Ae.context)return n;if(r==="number"&&(e=e.toString()),a){let o=n[0];o&&o.nodeType===3?o.data!==e&&(o.data=e):o=document.createTextNode(e),n=Zt(t,n,i,o)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||r==="boolean"){if(Ae.context)return n;n=Zt(t,n,i)}else{if(r==="function")return ce(()=>{let o=e();for(;typeof o=="function";)o=o();n=Gt(t,o,n,i)}),()=>n;if(Array.isArray(e)){const o=[],c=n&&Array.isArray(n);if(Lr(o,e,n,s))return ce(()=>n=Gt(t,o,n,i,!0)),()=>n;if(Ae.context){if(!o.length)return n;if(i===void 0)return[...t.childNodes];let l=o[0],h=[l];for(;(l=l.nextSibling)!==i;)h.push(l);return n=h}if(o.length===0){if(n=Zt(t,n,i),a)return n}else c?n.length===0?ui(t,o,i):ia(t,n,o):(n&&Zt(t),ui(t,o));n=o}else if(e.nodeType){if(Ae.context&&e.parentNode)return n=a?[e]:e;if(Array.isArray(n)){if(a)return n=Zt(t,n,i,e);Zt(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function Lr(t,e,n,i){let s=!1;for(let r=0,a=e.length;r<a;r++){let o=e[r],c=n&&n[t.length],l;if(!(o==null||o===!0||o===!1))if((l=typeof o)=="object"&&o.nodeType)t.push(o);else if(Array.isArray(o))s=Lr(t,o,c)||s;else if(l==="function")if(i){for(;typeof o=="function";)o=o();s=Lr(t,Array.isArray(o)?o:[o],Array.isArray(c)?c:[c])||s}else t.push(o),s=!0;else{const h=String(o);c&&c.nodeType===3&&c.data===h?t.push(c):t.push(document.createTextNode(h))}}return s}function ui(t,e,n=null){for(let i=0,s=e.length;i<s;i++)t.insertBefore(e[i],n)}function Zt(t,e,n,i){if(n===void 0)return t.textContent="";const s=i||document.createTextNode("");if(e.length){let r=!1;for(let a=e.length-1;a>=0;a--){const o=e[a];if(s!==o){const c=o.parentNode===t;!r&&!a?c?t.replaceChild(s,o):t.insertBefore(s,n):c&&o.remove()}else r=!0}}else t.insertBefore(s,n);return[s]}const qi=!1;function Hi(){let t=new Set;function e(s){return t.add(s),()=>t.delete(s)}let n=!1;function i(s,r){if(n)return!(n=!1);const a={to:s,options:r,defaultPrevented:!1,preventDefault:()=>a.defaultPrevented=!0};for(const o of t)o.listener({...a,from:o.location,retry:c=>{c&&(n=!0),o.navigate(s,{...r,resolve:!1})}});return!a.defaultPrevented}return{subscribe:e,confirm:i}}let Fr;function ti(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),Fr=window.history.state._depth}ti();function ua(t){return{...t,_depth:window.history.state&&window.history.state._depth}}function ha(t,e){let n=!1;return()=>{const i=Fr;ti();const s=i==null?null:Fr-i;if(n){n=!1;return}s&&e(s)?(n=!0,window.history.go(-s)):t()}}const fa=/^(?:[a-z0-9]+:)?\/\//i,pa=/^\/+|(\/)\/+$/g,Gi="http://sr";function Dt(t,e=!1){const n=t.replace(pa,"$1");return n?e||/^[?#]/.test(n)?n:"/"+n:""}function $n(t,e,n){if(fa.test(e))return;const i=Dt(t),s=n&&Dt(n);let r="";return!s||e.startsWith("/")?r=i:s.toLowerCase().indexOf(i.toLowerCase())!==0?r=i+s:r=s,(r||"/")+Dt(e,!r)}function ma(t,e){if(t==null)throw new Error(e);return t}function ga(t,e){return Dt(t).replace(/\/*(\*.*)?$/g,"")+Dt(e)}function Ji(t){const e={};return t.searchParams.forEach((n,i)=>{e[i]=n}),e}function ya(t,e,n){const[i,s]=t.split("/*",2),r=i.split("/").filter(Boolean),a=r.length;return o=>{const c=o.split("/").filter(Boolean),l=c.length-a;if(l<0||l>0&&s===void 0&&!e)return null;const h={path:a?"":"/",params:{}},m=_=>n===void 0?void 0:n[_];for(let _=0;_<a;_++){const f=r[_],y=c[_],u=f[0]===":",v=u?f.slice(1):f;if(u&&Sr(y,m(v)))h.params[v]=y;else if(u||!Sr(y,f))return null;h.path+=`/${y}`}if(s){const _=l?c.slice(-l).join("/"):"";if(Sr(_,m(s)))h.params[s]=_;else return null}return h}}function Sr(t,e){const n=i=>i.localeCompare(t,void 0,{sensitivity:"base"})===0;return e===void 0?!0:typeof e=="string"?n(e):typeof e=="function"?e(t):Array.isArray(e)?e.some(n):e instanceof RegExp?e.test(t):!1}function va(t){const[e,n]=t.pattern.split("/*",2),i=e.split("/").filter(Boolean);return i.reduce((s,r)=>s+(r.startsWith(":")?2:3),i.length-(n===void 0?0:1))}function Vi(t){const e=new Map,n=Ri();return new Proxy({},{get(i,s){return e.has(s)||zi(n,()=>e.set(s,_e(()=>t()[s]))),e.get(s)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(t())}})}function Wi(t){let e=/(\/?\:[^\/]+)\?/.exec(t);if(!e)return[t];let n=t.slice(0,e.index),i=t.slice(e.index+e[0].length);const s=[n,n+=e[1]];for(;e=/^(\/\:[^\/]+)\?/.exec(i);)s.push(n+=e[1]),i=i.slice(e[0].length);return Wi(i).reduce((r,a)=>[...r,...s.map(o=>o+a)],[])}const _a=100,Xi=Yr(),Ar=Yr(),br=()=>ma(gr(Xi),"<A> and 'use' router primitives can be only used inside a Route."),Ki=()=>gr(Ar)||br().base,Aa=t=>{const e=Ki();return _e(()=>e.resolvePath(t()))},ba=t=>{const e=br();return _e(()=>{const n=t();return n!==void 0?e.renderPath(n):n})},wa=()=>br().navigatorFactory(),ka=()=>br().location,Yi=()=>Ki().params;function Ia(t,e=""){const{component:n,load:i,children:s,info:r}=t,a=!s||Array.isArray(s)&&!s.length,o={key:t,component:n,load:i,info:r};return es(t.path).reduce((c,l)=>{for(const h of Wi(l)){const m=ga(e,h);let _=a?m:m.split("/*",1)[0];_=_.split("/").map(f=>f.startsWith(":")||f.startsWith("*")?f:encodeURIComponent(f)).join("/"),c.push({...o,originalPath:h,pattern:_,matcher:ya(_,!a,t.matchFilters)})}return c},[])}function xa(t,e=0){return{routes:t,score:va(t[t.length-1])*1e4-e,matcher(n){const i=[];for(let s=t.length-1;s>=0;s--){const r=t[s],a=r.matcher(n);if(!a)return null;i.unshift({...a,route:r})}return i}}}function es(t){return Array.isArray(t)?t:[t]}function ts(t,e="",n=[],i=[]){const s=es(t);for(let r=0,a=s.length;r<a;r++){const o=s[r];if(o&&typeof o=="object"){o.hasOwnProperty("path")||(o.path="");const c=Ia(o,e);for(const l of c){n.push(l);const h=Array.isArray(o.children)&&o.children.length===0;if(o.children&&!h)ts(o.children,l.pattern,n,i);else{const m=xa([...n],i.length);i.push(m)}n.pop()}}}return n.length?i:i.sort((r,a)=>a.score-r.score)}function ns(t,e){for(let n=0,i=t.length;n<i;n++){const s=t[n].matcher(e);if(s)return s}return[]}function Ea(t,e){const n=new URL(Gi),i=_e(c=>{const l=t();try{return new URL(l,n)}catch{return console.error(`Invalid path ${l}`),c}},n,{equals:(c,l)=>c.href===l.href}),s=_e(()=>i().pathname),r=_e(()=>i().search,!0),a=_e(()=>i().hash),o=()=>"";return{get pathname(){return s()},get search(){return r()},get hash(){return a()},get state(){return e()},get key(){return o()},query:Vi(Ti(r,()=>Ji(i())))}}let kt;function Ba(t,e,n,i={}){const{signal:[s,r],utils:a={}}=t,o=a.parsePath||(T=>T),c=a.renderPath||(T=>T),l=a.beforeLeave||Hi(),h=$n("",i.base||"");if(h===void 0)throw new Error(`${h} is not a valid base path`);h&&!s().value&&r({value:h,replace:!0,scroll:!1});const[m,_]=Re(!1),f=async T=>{_(!0);try{await Ps(T)}finally{_(!1)}},[y,u]=Re(s().value),[v,g]=Re(s().state),A=Ea(y,v),w=[],x=Re([]),E={pattern:h,params:{},path:()=>h,outlet:()=>null,resolvePath(T){return $n(h,T)}};return ce(()=>{const{value:T,state:$}=s();ze(()=>{T!==y()&&f(()=>{kt="native",u(T),g($),x[1]([])}).then(()=>{kt=void 0})})}),{base:E,location:A,isRouting:m,renderPath:c,parsePath:o,navigatorFactory:B,beforeLeave:l,preloadRoute:C,singleFlight:i.singleFlight===void 0?!0:i.singleFlight,submissions:x};function D(T,$,I){ze(()=>{if(typeof $=="number"){$&&(a.go?a.go($):console.warn("Router integration does not support relative routing"));return}const{replace:M,resolve:p,scroll:Q,state:re}={replace:!1,resolve:!0,scroll:!0,...I},F=p?T.resolvePath($):$n("",$);if(F===void 0)throw new Error(`Path '${$}' is not a routable path`);if(w.length>=_a)throw new Error("Too many redirects");const ue=y();if((F!==ue||re!==v())&&!qi){if(l.confirm(F,I)){const H=w.push({value:ue,replace:M,scroll:Q,state:v()});f(()=>{kt="navigate",u(F),g(re),x[1]([])}).then(()=>{w.length===H&&(kt=void 0,z({value:F,state:re}))})}}})}function B(T){return T=T||gr(Ar)||E,($,I)=>D(T,$,I)}function z(T){const $=w[0];$&&((T.value!==$.value||T.state!==$.state)&&r({...T,replace:$.replace,scroll:$.scroll}),w.length=0)}function C(T,$){const I=ns(n(),T.pathname),M=kt;kt="preload";for(let p in I){const{route:Q,params:re}=I[p];Q.component&&Q.component.preload&&Q.component.preload();const{load:F}=Q;$&&F&&zi(e(),()=>F({params:re,location:{pathname:T.pathname,search:T.search,hash:T.hash,query:Ji(T),state:null,key:""},intent:"preload"}))}kt=M}}function Ca(t,e,n,i,s){const{base:r,location:a}=t,{pattern:o,component:c,load:l}=i().route,h=_e(()=>i().path);c&&c.preload&&c.preload();const m=l?l({params:s,location:a,intent:kt||"initial"}):void 0;return{parent:e,pattern:o,path:h,params:s,outlet:()=>c?P(c,{params:s,location:a,data:m,get children(){return n()}}):n(),resolvePath(f){return $n(r.path(),f,h())}}}const Sa=t=>e=>{const{base:n}=e,i=yr(()=>e.children),s=_e(()=>ts(e.root?{component:e.root,load:e.rootLoad,children:i()}:i(),e.base||""));let r;const a=Ba(t,()=>r,s,{base:n,singleFlight:e.singleFlight});return t.create&&t.create(a),P(Xi.Provider,{value:a,get children(){return[_e(()=>(r=Ri())&&null),P(Na,{routerState:a,get branches(){return s()}})]}})};function Na(t){const e=_e(()=>ns(t.branches,t.routerState.location.pathname)),n=Vi(()=>{const a=e(),o={};for(let c=0;c<a.length;c++)Object.assign(o,a[c].params);return o}),i=[];let s;const r=_e(Ti(e,(a,o,c)=>{let l=o&&a.length===o.length;const h=[];for(let m=0,_=a.length;m<_;m++){const f=o&&o[m],y=a[m];c&&f&&y.route.key===f.route.key?h[m]=c[m]:(l=!1,i[m]&&i[m](),xt(u=>{i[m]=u,h[m]=Ca(t.routerState,h[m-1]||t.routerState.base,Ta(()=>r()[m+1]),()=>e()[m],n)}))}return i.splice(a.length).forEach(m=>m()),c&&l?c:(s=h[0],h)}));return P(Te,{get when(){return r()&&s},keyed:!0,children:a=>P(Ar.Provider,{value:a,get children(){return a.outlet()}})})}const Ta=t=>()=>P(Te,{get when(){return t()},keyed:!0,children:e=>P(Ar.Provider,{value:e,get children(){return e.outlet()}})}),Ke=t=>{const e=yr(()=>t.children);return Xe(t,{get children(){return e()}})};function Da([t,e],n,i){return[n?()=>n(t()):t,i?s=>e(i(s)):e]}function Ra(t){if(t==="#")return null;try{return document.querySelector(t)}catch{return null}}function za(t){let e=!1;const n=s=>typeof s=="string"?{value:s}:s,i=Da(Re(n(t.get()),{equals:(s,r)=>s.value===r.value}),void 0,s=>(!e&&t.set(s),s));return t.init&&vt(t.init((s=t.get())=>{e=!0,i[1](n(s)),e=!1})),Sa({signal:i,create:t.create,utils:t.utils})}function Oa(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}function ja(t,e){const n=Ra(`#${t}`);n?n.scrollIntoView():e&&window.scrollTo(0,0)}const Ma=new Map;function Pa(t=!0,e=!1,n="/_server"){return i=>{const s=i.base.path(),r=i.navigatorFactory(i.base);let a={};function o(y){return y.namespaceURI==="http://www.w3.org/2000/svg"}function c(y){if(y.defaultPrevented||y.button!==0||y.metaKey||y.altKey||y.ctrlKey||y.shiftKey)return;const u=y.composedPath().find(E=>E instanceof Node&&E.nodeName.toUpperCase()==="A");if(!u||e&&!u.hasAttribute("link"))return;const v=o(u),g=v?u.href.baseVal:u.href;if((v?u.target.baseVal:u.target)||!g&&!u.hasAttribute("state"))return;const w=(u.getAttribute("rel")||"").split(/\s+/);if(u.hasAttribute("download")||w&&w.includes("external"))return;const x=v?new URL(g,document.baseURI):new URL(g);if(!(x.origin!==window.location.origin||s&&x.pathname&&!x.pathname.toLowerCase().startsWith(s.toLowerCase())))return[u,x]}function l(y){const u=c(y);if(!u)return;const[v,g]=u,A=i.parsePath(g.pathname+g.search+g.hash),w=v.getAttribute("state");y.preventDefault(),r(A,{resolve:!1,replace:v.hasAttribute("replace"),scroll:!v.hasAttribute("noscroll"),state:w&&JSON.parse(w)})}function h(y){const u=c(y);if(!u)return;const[v,g]=u;a[g.pathname]||i.preloadRoute(g,v.getAttribute("preload")!=="false")}function m(y){const u=c(y);if(!u)return;const[v,g]=u;a[g.pathname]||(a[g.pathname]=setTimeout(()=>{i.preloadRoute(g,v.getAttribute("preload")!=="false"),delete a[g.pathname]},200))}function _(y){const u=c(y);if(!u)return;const[,v]=u;a[v.pathname]&&(clearTimeout(a[v.pathname]),delete a[v.pathname])}function f(y){let u=y.submitter&&y.submitter.hasAttribute("formaction")?y.submitter.getAttribute("formaction"):y.target.getAttribute("action");if(!u)return;if(!u.startsWith("https://action/")){const g=new URL(u,Gi);if(u=i.parsePath(g.pathname+g.search),!u.startsWith(n))return}if(y.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const v=Ma.get(u);if(v){y.preventDefault();const g=new FormData(y.target);y.submitter&&y.submitter.name&&g.append(y.submitter.name,y.submitter.value),v.call(i,g)}}Nt(["click","submit"]),document.addEventListener("click",l),t&&(document.addEventListener("mouseover",m),document.addEventListener("mouseout",_),document.addEventListener("focusin",h),document.addEventListener("touchstart",h)),document.addEventListener("submit",f),vt(()=>{document.removeEventListener("click",l),t&&(document.removeEventListener("mouseover",m),document.removeEventListener("mouseout",_),document.removeEventListener("focusin",h),document.removeEventListener("touchstart",h)),document.removeEventListener("submit",f)})}}function Qa(t){const e=t.replace(/^.*?#/,"");if(!e.startsWith("/")){const[,n="/"]=window.location.hash.split("#",2);return`${n}#${e}`}return e}function Za(t){const e=()=>window.location.hash.slice(1),n=Hi();return za({get:e,set({value:i,replace:s,scroll:r,state:a}){s?window.history.replaceState(ua(a),"","#"+i):window.location.hash=i;const o=i.indexOf("#"),c=o>=0?i.slice(o+1):"";ja(c,r),ti()},init:i=>Oa(window,"hashchange",ha(i,s=>!n.confirm(s&&s<0?s:e()))),create:Pa(t.preload,t.explicitLinks,t.actionBase),utils:{go:i=>window.history.go(i),renderPath:i=>`#${i}`,parsePath:Qa,beforeLeave:n}})(t)}var La=ie("<a>");function Qe(t){t=Xe({inactiveClass:"inactive",activeClass:"active"},t);const[,e]=Zi(t,["href","state","class","activeClass","inactiveClass","end"]),n=Aa(()=>t.href),i=ba(n),s=ka(),r=_e(()=>{const a=n();if(a===void 0)return[!1,!1];const o=Dt(a.split(/[?#]/,1)[0]).toLowerCase(),c=Dt(s.pathname).toLowerCase();return[t.end?o===c:c.startsWith(o),o===c]});return(()=>{var a=La();return dt(a,Xe(e,{get href(){return i()||t.href},get state(){return JSON.stringify(t.state)},get classList(){return{...t.class&&{[t.class]:!0},[t.inactiveClass]:!r()[0],[t.activeClass]:r()[0],...e.classList}},link:"",get"aria-current"(){return r()[1]?"page":void 0}}),!1,!1),a})()}const Kn=Symbol("store-raw"),$t=Symbol("store-node"),ft=Symbol("store-has"),rs=Symbol("store-self");function is(t){let e=t[it];if(!e&&(Object.defineProperty(t,it,{value:e=new Proxy(t,Ua)}),!Array.isArray(t))){const n=Object.keys(t),i=Object.getOwnPropertyDescriptors(t);for(let s=0,r=n.length;s<r;s++){const a=n[s];i[a].get&&Object.defineProperty(t,a,{enumerable:i[a].enumerable,get:i[a].get.bind(e)})}}return e}function Jt(t){let e;return t!=null&&typeof t=="object"&&(t[it]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function Vt(t,e=new Set){let n,i,s,r;if(n=t!=null&&t[Kn])return n;if(!Jt(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let a=0,o=t.length;a<o;a++)s=t[a],(i=Vt(s,e))!==s&&(t[a]=i)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const a=Object.keys(t),o=Object.getOwnPropertyDescriptors(t);for(let c=0,l=a.length;c<l;c++)r=a[c],!o[r].get&&(s=t[r],(i=Vt(s,e))!==s&&(t[r]=i))}return t}function Yn(t,e){let n=t[e];return n||Object.defineProperty(t,e,{value:n=Object.create(null)}),n}function un(t,e,n){if(t[e])return t[e];const[i,s]=Re(n,{equals:!1,internal:!0});return i.$=s,t[e]=i}function Fa(t,e){const n=Reflect.getOwnPropertyDescriptor(t,e);return!n||n.get||!n.configurable||e===it||e===$t||(delete n.value,delete n.writable,n.get=()=>t[it][e]),n}function ss(t){Mr()&&un(Yn(t,$t),rs)()}function $a(t){return ss(t),Reflect.ownKeys(t)}const Ua={get(t,e,n){if(e===Kn)return t;if(e===it)return n;if(e===Hn)return ss(t),n;const i=Yn(t,$t),s=i[e];let r=s?s():t[e];if(e===$t||e===ft||e==="__proto__")return r;if(!s){const a=Object.getOwnPropertyDescriptor(t,e);Mr()&&(typeof r!="function"||t.hasOwnProperty(e))&&!(a&&a.get)&&(r=un(i,e,r)())}return Jt(r)?is(r):r},has(t,e){return e===Kn||e===it||e===Hn||e===$t||e===ft||e==="__proto__"?!0:(Mr()&&un(Yn(t,ft),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:$a,getOwnPropertyDescriptor:Fa};function Wt(t,e,n,i=!1){if(!i&&t[e]===n)return;const s=t[e],r=t.length;n===void 0?(delete t[e],t[ft]&&t[ft][e]&&s!==void 0&&t[ft][e].$()):(t[e]=n,t[ft]&&t[ft][e]&&s===void 0&&t[ft][e].$());let a=Yn(t,$t),o;if((o=un(a,e,s))&&o.$(()=>n),Array.isArray(t)&&t.length!==r){for(let c=t.length;c<r;c++)(o=a[c])&&o.$();(o=un(a,"length",r))&&o.$(t.length)}(o=a[rs])&&o.$()}function as(t,e){const n=Object.keys(e);for(let i=0;i<n.length;i+=1){const s=n[i];Wt(t,s,e[s])}}function qa(t,e){if(typeof e=="function"&&(e=e(t)),e=Vt(e),Array.isArray(e)){if(t===e)return;let n=0,i=e.length;for(;n<i;n++){const s=e[n];t[n]!==s&&Wt(t,n,s)}Wt(t,"length",i)}else as(t,e)}function on(t,e,n=[]){let i,s=t;if(e.length>1){i=e.shift();const a=typeof i,o=Array.isArray(t);if(Array.isArray(i)){for(let c=0;c<i.length;c++)on(t,[i[c]].concat(e),n);return}else if(o&&a==="function"){for(let c=0;c<t.length;c++)i(t[c],c)&&on(t,[c].concat(e),n);return}else if(o&&a==="object"){const{from:c=0,to:l=t.length-1,by:h=1}=i;for(let m=c;m<=l;m+=h)on(t,[m].concat(e),n);return}else if(e.length>1){on(t[i],e,[i].concat(n));return}s=t[i],n=[i].concat(n)}let r=e[0];typeof r=="function"&&(r=r(s,n),r===s)||i===void 0&&r==null||(r=Vt(r),i===void 0||Jt(s)&&Jt(r)&&!Array.isArray(r)?as(s,r):Wt(t,i,r))}function Ha(...[t,e]){const n=Vt(t||{}),i=Array.isArray(n),s=is(n);function r(...a){Ms(()=>{i&&a.length===1?qa(n,a[0]):on(n,a)})}return[s,r]}const er=new WeakMap,os={get(t,e){if(e===Kn)return t;const n=t[e];let i;return Jt(n)?er.get(n)||(er.set(n,i=new Proxy(n,os)),i):n},set(t,e,n){return Wt(t,e,Vt(n)),!0},deleteProperty(t,e){return Wt(t,e,void 0,!0),!0}};function Rn(t){return e=>{if(Jt(e)){let n;(n=er.get(e))||er.set(e,n=new Proxy(e,os)),t(n)}return e}}const Ga=t=>typeof t=="function",tr=(t,e)=>Ga(t)?t(e):t;var Me;(function(t){t[t.ADD_TOAST=0]="ADD_TOAST",t[t.UPDATE_TOAST=1]="UPDATE_TOAST",t[t.UPSERT_TOAST=2]="UPSERT_TOAST",t[t.DISMISS_TOAST=3]="DISMISS_TOAST",t[t.REMOVE_TOAST=4]="REMOVE_TOAST",t[t.START_PAUSE=5]="START_PAUSE",t[t.END_PAUSE=6]="END_PAUSE"})(Me||(Me={}));const[Rt,wt]=Ha({toasts:[],pausedAt:void 0}),Ja=()=>{const{pausedAt:t,toasts:e}=Rt;if(t)return;const n=Date.now();return e.map(s=>{if(s.duration===1/0)return;const r=(s.duration||0)+s.pauseDuration-(n-s.createdAt);if(r<=0){s.visible&&st({type:Me.DISMISS_TOAST,toastId:s.id});return}return setTimeout(()=>{st({type:Me.DISMISS_TOAST,toastId:s.id})},r)})},dn=new Map,hi=(t,e)=>{if(dn.has(t))return;const n=setTimeout(()=>{dn.delete(t),st({type:Me.REMOVE_TOAST,toastId:t})},e);dn.set(t,n)},Va=t=>{const e=dn.get(t);dn.delete(t),e&&clearTimeout(e)},st=t=>{switch(t.type){case Me.ADD_TOAST:wt("toasts",s=>{const r=s;return[t.toast,...r]});break;case Me.DISMISS_TOAST:const{toastId:e}=t,n=Rt.toasts;if(e){const s=n.find(r=>r.id===e);s&&hi(e,s.unmountDelay),wt("toasts",r=>r.id===e,Rn(r=>r.visible=!1))}else n.forEach(s=>{hi(s.id,s.unmountDelay)}),wt("toasts",s=>s.id!==void 0,Rn(s=>s.visible=!1));break;case Me.REMOVE_TOAST:if(!t.toastId){wt("toasts",[]);break}wt("toasts",s=>s.filter(a=>a.id!==t.toastId));break;case Me.UPDATE_TOAST:t.toast.id&&Va(t.toast.id),wt("toasts",s=>s.id===t.toast.id,s=>({...s,...t.toast}));break;case Me.UPSERT_TOAST:Rt.toasts.find(s=>s.id===t.toast.id)?st({type:Me.UPDATE_TOAST,toast:t.toast}):st({type:Me.ADD_TOAST,toast:t.toast});break;case Me.START_PAUSE:wt(Rn(s=>{s.pausedAt=Date.now(),s.toasts.forEach(r=>{r.paused=!0})}));break;case Me.END_PAUSE:const i=t.time-(Rt.pausedAt||0);wt(Rn(s=>{s.pausedAt=void 0,s.toasts.forEach(r=>{r.pauseDuration+=i,r.paused=!1})}));break}},Wa={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Ut={id:"",icon:"",unmountDelay:500,duration:3e3,ariaProps:{role:"status","aria-live":"polite"},className:"",style:{},position:"top-right",iconTheme:{}},cs={position:"top-right",toastOptions:Ut,gutter:8,containerStyle:{},containerClassName:""},zn="16px",Xa={position:"fixed","z-index":9999,top:zn,bottom:zn,left:zn,right:zn,"pointer-events":"none"},Ka=(()=>{let t=0;return()=>String(++t)})(),Ya=t=>{ao(e=>({containerClassName:t.containerClassName??e.containerClassName,containerStyle:t.containerStyle??e.containerStyle,gutter:t.gutter??e.gutter,position:t.position??e.position,toastOptions:{...t.toastOptions}}))},eo=(t,e)=>{const i=t.includes("top")?{top:0,"margin-top":`${e}px`}:{bottom:0,"margin-bottom":`${e}px`},s=t.includes("center")?{"justify-content":"center"}:t.includes("right")?{"justify-content":"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:"all 230ms cubic-bezier(.21,1.02,.73,1)",...i,...s}},to=(t,e)=>{const n=t.getBoundingClientRect();n.height!==e.height&&st({type:Me.UPDATE_TOAST,toast:{id:e.id,height:n.height}})},no=(t,e)=>{const{toasts:n}=Rt,i=Lt().gutter||cs.gutter||8,s=n.filter(c=>(c.position||e)===e&&c.height),r=s.findIndex(c=>c.id===t.id),a=s.filter((c,l)=>l<r&&c.visible).length;return s.slice(0,a).reduce((c,l)=>c+i+(l.height||0),0)},ro=(t,e)=>(t.position||e).includes("top")?1:-1,io={display:"flex","align-items":"center",color:"#363636",background:"white","box-shadow":"0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05)","max-width":"350px","pointer-events":"auto",padding:"8px 10px","border-radius":"4px","line-height":"1.3","will-change":"transform"},so={display:"flex","align-items":"center",flex:"1 1 auto",margin:"4px 10px","white-space":"pre-line"},On={"flex-shrink":0,"min-width":"20px","min-height":"20px",display:"flex","align-items":"center","justify-content":"center","text-align":"center"},nr=t=>({calcMode:"spline",keyTimes:"0; 1",keySplines:t}),[Lt,ao]=Re(cs),oo=(t,e="blank",n)=>({...Ut,...Lt().toastOptions,...n,type:e,message:t,pauseDuration:0,createdAt:Date.now(),visible:!0,id:n.id||Ka(),paused:!1,style:{...Ut.style,...Lt().toastOptions?.style,...n.style},duration:n.duration||Lt().toastOptions?.duration||Wa[e],position:n.position||Lt().toastOptions?.position||Lt().position||Ut.position}),En=t=>(e,n={})=>xt(()=>{const i=Rt.toasts.find(r=>r.id===n.id),s=oo(e,t,{...i,duration:void 0,...n});return st({type:Me.UPSERT_TOAST,toast:s}),s.id}),Ze=(t,e)=>En("blank")(t,e);ze(()=>Ze);Ze.error=En("error");Ze.success=En("success");Ze.loading=En("loading");Ze.custom=En("custom");Ze.dismiss=t=>{st({type:Me.DISMISS_TOAST,toastId:t})};Ze.promise=(t,e,n)=>{const i=Ze.loading(e.loading,{...n});return t.then(s=>(Ze.success(tr(e.success,s),{id:i,...n}),s)).catch(s=>{Ze.error(tr(e.error,s),{id:i,...n})}),t};Ze.remove=t=>{st({type:Me.REMOVE_TOAST,toastId:t})};var co=ie("<div><style>.sldt-active{z-index:9999;}.sldt-active>*{pointer-events:auto;}");const lo=t=>(Ht(()=>{Ya(t)}),Ht(()=>{const e=Ja();vt(()=>{e&&e.forEach(n=>n&&clearTimeout(n))})}),(()=>{var e=co();return e.firstChild,U(e,P(en,{get each(){return Rt.toasts},children:n=>P(po,{toast:n})}),null),ce(n=>{var i={...Xa,...t.containerStyle},s=t.containerClassName;return n.e=ct(e,i,n.e),s!==n.t&&G(e,n.t=s),n},{e:void 0,t:void 0}),e})());var jn=ie("<div>"),uo=ie("<div><div>");const ho=t=>{let e;return Ht(()=>{if(!e)return;const n=ro(t.toast,t.position);t.toast.visible?e.animate([{transform:`translate3d(0,${n*-200}%,0) scale(.6)`,opacity:.5},{transform:"translate3d(0,0,0) scale(1)",opacity:1}],{duration:350,fill:"forwards",easing:"cubic-bezier(.21,1.02,.73,1)"}):e.animate([{transform:"translate3d(0,0,-1px) scale(1)",opacity:1},{transform:`translate3d(0,${n*-150}%,-1px) scale(.4)`,opacity:0}],{duration:400,fill:"forwards",easing:"cubic-bezier(.06,.71,.55,1)"})}),(()=>{var n=uo(),i=n.firstChild,s=e;return typeof s=="function"?Ui(s,n):e=n,U(n,P(Vs,{get children(){return[P(Dn,{get when(){return t.toast.icon},get children(){var r=jn();return U(r,()=>t.toast.icon),ce(a=>ct(r,On,a)),r}}),P(Dn,{get when(){return t.toast.type==="loading"},get children(){var r=jn();return U(r,P(wo,Xe(()=>t.toast.iconTheme))),ce(a=>ct(r,On,a)),r}}),P(Dn,{get when(){return t.toast.type==="success"},get children(){var r=jn();return U(r,P(vo,Xe(()=>t.toast.iconTheme))),ce(a=>ct(r,On,a)),r}}),P(Dn,{get when(){return t.toast.type==="error"},get children(){var r=jn();return U(r,P(Ao,Xe(()=>t.toast.iconTheme))),ce(a=>ct(r,On,a)),r}})]}}),i),dt(i,Xe(()=>t.toast.ariaProps),!1,!0),U(i,()=>tr(t.toast.message,t.toast)),ce(r=>{var a=t.toast.className,o={...io,...t.toast.style},c=so;return a!==r.e&&G(n,r.e=a),r.t=ct(n,o,r.t),r.a=ct(i,c,r.a),r},{e:void 0,t:void 0,a:void 0}),n})()};var fo=ie("<div>");const po=t=>{const e=()=>{const s=t.toast.position||Ut.position,r=no(t.toast,s);return eo(s,r)},n=_e(()=>e());let i;return Di(()=>{i&&to(i,t.toast)}),(()=>{var s=fo();s.addEventListener("mouseleave",()=>st({type:Me.END_PAUSE,time:Date.now()})),s.addEventListener("mouseenter",()=>st({type:Me.START_PAUSE,time:Date.now()}));var r=i;return typeof r=="function"?Ui(r,s):i=s,U(s,(()=>{var a=_e(()=>t.toast.type==="custom");return()=>a()?tr(t.toast.message,t.toast):P(ho,{get toast(){return t.toast},get position(){return t.toast.position||Ut.position}})})()),ce(a=>{var o=n(),c=t.toast.visible?"sldt-active":"";return a.e=ct(s,o,a.e),c!==a.t&&G(s,a.t=c),a},{e:void 0,t:void 0}),s})()};var mo=ie('<svg><circle cx=16 cy=16 r=0><animate attributeName=opacity values="0; 1; 1"></animate><animate attributeName=r values="0; 17.5; 16"></svg>',!1,!0),go=ie('<svg><circle cx=16 cy=16 r=12 opacity=0><animate attributeName=opacity values="1; 0"></animate><animate attributeName=r values="12; 26"></svg>',!1,!0);const ls=t=>{const e={dur:"0.35s",begin:"100ms",fill:"freeze",calcMode:"spline",keyTimes:"0; 0.6; 1",keySplines:"0.25 0.71 0.4 0.88; .59 .22 .87 .63"};return(()=>{var n=mo(),i=n.firstChild,s=i.nextSibling;return dt(i,e,!0,!1),dt(s,e,!0,!1),ce(()=>Le(n,"fill",t.fill)),n})()},ds=t=>{const e={dur:"1s",begin:t.begin||"320ms",fill:"freeze",...nr("0.0 0.0 0.2 1")};return(()=>{var n=go(),i=n.firstChild,s=i.nextSibling;return dt(i,e,!0,!1),dt(s,e,!0,!1),ce(()=>Le(n,"fill",t.fill)),n})()};var yo=ie('<svg viewBox="0 0 32 32"width=1.25rem height=1.25rem><path fill=none stroke-width=4 stroke-dasharray=22 stroke-dashoffset=22 stroke-linecap=round stroke-miterlimit=10 d=M9.8,17.2l3.8,3.6c0.1,0.1,0.3,0.1,0.4,0l9.6-9.7><animate attributeName=stroke-dashoffset values=22;0 dur=0.25s begin=250ms fill=freeze>');const vo=t=>{const e=t.primary||"#34C759";return(()=>{var n=yo(),i=n.firstChild,s=i.firstChild;return n.style.setProperty("overflow","visible"),U(n,P(ls,{fill:e}),i),U(n,P(ds,{fill:e,begin:"350ms"}),i),dt(s,Xe(()=>nr("0.0, 0.0, 0.58, 1.0")),!0,!1),ce(()=>Le(i,"stroke",t.secondary||"#FCFCFC")),n})()};var _o=ie('<svg viewBox="0 0 32 32"width=1.25rem height=1.25rem><path fill=none stroke-width=4 stroke-dasharray=9 stroke-dashoffset=9 stroke-linecap=round d=M16,7l0,9><animate attributeName=stroke-dashoffset values=9;0 dur=0.2s begin=250ms fill=freeze></animate></path><circle cx=16 cy=23 r=2.5 opacity=0><animate attributeName=opacity values=0;1 dur=0.25s begin=350ms fill=freeze>');const Ao=t=>{const e=t.primary||"#FF3B30";return(()=>{var n=_o(),i=n.firstChild,s=i.firstChild,r=i.nextSibling,a=r.firstChild;return n.style.setProperty("overflow","visible"),U(n,P(ls,{fill:e}),i),U(n,P(ds,{fill:e}),i),dt(s,Xe(()=>nr("0.0, 0.0, 0.58, 1.0")),!0,!1),dt(a,Xe(()=>nr("0.0, 0.0, 0.58, 1.0")),!0,!1),ce(o=>{var c=t.secondary||"#FFFFFF",l=t.secondary||"#FFFFFF";return c!==o.e&&Le(i,"stroke",o.e=c),l!==o.t&&Le(r,"fill",o.t=l),o},{e:void 0,t:void 0}),n})()};var bo=ie('<svg viewBox="0 0 32 32"width=1.25rem height=1.25rem><path fill=none stroke-width=4 stroke-miterlimit=10 d=M16,6c3,0,5.7,1.3,7.5,3.4c1.5,1.8,2.5,4,2.5,6.6c0,5.5-4.5,10-10,10S6,21.6,6,16S10.5,6,16,6z></path><path fill=none stroke-width=4 stroke-linecap=round stroke-miterlimit=10 d=M16,6c3,0,5.7,1.3,7.5,3.4c0.6,0.7,1.1,1.4,1.5,2.2><animateTransform attributeName=transform type=rotate from="0 16 16"to="360 16 16"dur=0.75s repeatCount=indefinite>');const wo=t=>(()=>{var e=bo(),n=e.firstChild,i=n.nextSibling;return e.style.setProperty("overflow","visible"),ce(s=>{var r=t.primary||"#E5E7EB",a=t.secondary||"#4b5563";return r!==s.e&&Le(n,"stroke",s.e=r),a!==s.t&&Le(i,"stroke",s.t=a),s},{e:void 0,t:void 0}),e})(),ko="_Wrapper_1bw0o_1",Io="_Nav_1bw0o_9",xo="_NavButton_1bw0o_17",Eo="_NavHeader_1bw0o_26",Bo="_AdminPanelButton_1bw0o_40",Co="_LogOutButton_1bw0o_46",So="_Main_1bw0o_50",rn={Wrapper:ko,Nav:Io,NavButton:xo,NavHeader:Eo,AdminPanelButton:Bo,LogOutButton:Co,Main:So},$r=(t,e)=>e.some(n=>t instanceof n);let fi,pi;function No(){return fi||(fi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function To(){return pi||(pi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ur=new WeakMap,Nr=new WeakMap,wr=new WeakMap;function Do(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",a)},r=()=>{n(zt(t.result)),s()},a=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",a)});return wr.set(e,t),e}function Ro(t){if(Ur.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",a),t.removeEventListener("abort",a)},r=()=>{n(),s()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",a),t.addEventListener("abort",a)});Ur.set(t,e)}let qr={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ur.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function us(t){qr=t(qr)}function zo(t){return To().includes(t)?function(...e){return t.apply(Hr(this),e),zt(this.request)}:function(...e){return zt(t.apply(Hr(this),e))}}function Oo(t){return typeof t=="function"?zo(t):(t instanceof IDBTransaction&&Ro(t),$r(t,No())?new Proxy(t,qr):t)}function zt(t){if(t instanceof IDBRequest)return Do(t);if(Nr.has(t))return Nr.get(t);const e=Oo(t);return e!==t&&(Nr.set(t,e),wr.set(e,t)),e}const Hr=t=>wr.get(t);function jo(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(t,e),o=zt(a);return i&&a.addEventListener("upgradeneeded",c=>{i(zt(a.result),c.oldVersion,c.newVersion,zt(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),o.then(c=>{r&&c.addEventListener("close",()=>r()),s&&c.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),o}const Mo=["get","getKey","getAll","getAllKeys","count"],Po=["put","add","delete","clear"],Tr=new Map;function mi(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tr.get(e))return Tr.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=Po.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||Mo.includes(n)))return;const r=async function(a,...o){const c=this.transaction(a,s?"readwrite":"readonly");let l=c.store;return i&&(l=l.index(o.shift())),(await Promise.all([l[n](...o),s&&c.done]))[0]};return Tr.set(e,r),r}us(t=>({...t,get:(e,n,i)=>mi(e,n)||t.get(e,n,i),has:(e,n)=>!!mi(e,n)||t.has(e,n)}));const Qo=["continue","continuePrimaryKey","advance"],gi={},Gr=new WeakMap,hs=new WeakMap,Zo={get(t,e){if(!Qo.includes(e))return t[e];let n=gi[e];return n||(n=gi[e]=function(...i){Gr.set(this,hs.get(this)[e](...i))}),n}};async function*Lo(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,Zo);for(hs.set(n,e),wr.set(n,Hr(e));e;)yield n,e=await(Gr.get(n)||e.continue()),Gr.delete(n)}function yi(t,e){return e===Symbol.asyncIterator&&$r(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&$r(t,[IDBIndex,IDBObjectStore])}us(t=>({...t,get(e,n,i){return yi(e,n)?Lo:t.get(e,n,i)},has(e,n){return yi(e,n)||t.has(e,n)}}));/*!
 * hash-wasm (https://www.npmjs.com/package/hash-wasm)
 * (c) Dani Biro
 * @license MIT
 */function Un(t,e,n,i){function s(r){return r instanceof n?r:new n(function(a){a(r)})}return new(n||(n=Promise))(function(r,a){function o(h){try{l(i.next(h))}catch(m){a(m)}}function c(h){try{l(i.throw(h))}catch(m){a(m)}}function l(h){h.done?r(h.value):s(h.value).then(o,c)}l((i=i.apply(t,e||[])).next())})}class Ne{constructor(){this.mutex=Promise.resolve()}lock(){let e=()=>{};return this.mutex=this.mutex.then(()=>new Promise(e)),new Promise(n=>{e=n})}dispatch(e){return Un(this,void 0,void 0,function*(){const n=yield this.lock();try{return yield Promise.resolve(e())}finally{n()}})}}var Dr;function Fo(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global}const Jr=Fo(),Rr=(Dr=Jr.Buffer)!==null&&Dr!==void 0?Dr:null,$o=Jr.TextEncoder?new Jr.TextEncoder:null;function fs(t,e){return(t&15)+(t>>6|t>>3&8)<<4|(e&15)+(e>>6|e>>3&8)}function Uo(t,e){const n=e.length>>1;for(let i=0;i<n;i++){const s=i<<1;t[i]=fs(e.charCodeAt(s),e.charCodeAt(s+1))}}function qo(t,e){if(t.length!==e.length*2)return!1;for(let n=0;n<e.length;n++){const i=n<<1;if(e[n]!==fs(t.charCodeAt(i),t.charCodeAt(i+1)))return!1}return!0}const vi=87,_i=48;function Ai(t,e,n){let i=0;for(let s=0;s<n;s++){let r=e[s]>>>4;t[i++]=r>9?r+vi:r+_i,r=e[s]&15,t[i++]=r>9?r+vi:r+_i}return String.fromCharCode.apply(null,t)}const bi=Rr!==null?t=>{if(typeof t=="string"){const e=Rr.from(t,"utf8");return new Uint8Array(e.buffer,e.byteOffset,e.length)}if(Rr.isBuffer(t))return new Uint8Array(t.buffer,t.byteOffset,t.length);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Invalid data type!")}:t=>{if(typeof t=="string")return $o.encode(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Invalid data type!")},wi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cn=new Uint8Array(256);for(let t=0;t<wi.length;t++)cn[wi.charCodeAt(t)]=t;function Ho(t){let e=Math.floor(t.length*.75);const n=t.length;return t[n-1]==="="&&(e-=1,t[n-2]==="="&&(e-=1)),e}function Go(t){const e=Ho(t),n=t.length,i=new Uint8Array(e);let s=0;for(let r=0;r<n;r+=4){const a=cn[t.charCodeAt(r)],o=cn[t.charCodeAt(r+1)],c=cn[t.charCodeAt(r+2)],l=cn[t.charCodeAt(r+3)];i[s]=a<<2|o>>4,s+=1,i[s]=(o&15)<<4|c>>2,s+=1,i[s]=(c&3)<<6|l&63,s+=1}return i}const Mn=16*1024,sn=4,Jo=new Ne,zr=new Map;function Vo(t,e){return Un(this,void 0,void 0,function*(){let n=null,i=null,s=!1;if(typeof WebAssembly>"u")throw new Error("WebAssembly is not supported in this environment!");const r=(D,B=0)=>{i.set(D,B)},a=()=>i,o=()=>n.exports,c=D=>{n.exports.Hash_SetMemorySize(D);const B=n.exports.Hash_GetBuffer(),z=n.exports.memory.buffer;i=new Uint8Array(z,B,D)},l=()=>new DataView(n.exports.memory.buffer).getUint32(n.exports.STATE_SIZE,!0),h=Jo.dispatch(()=>Un(this,void 0,void 0,function*(){if(!zr.has(t.name)){const B=Go(t.data),z=WebAssembly.compile(B);zr.set(t.name,z)}const D=yield zr.get(t.name);n=yield WebAssembly.instantiate(D,{})})),m=()=>Un(this,void 0,void 0,function*(){n||(yield h);const D=n.exports.Hash_GetBuffer(),B=n.exports.memory.buffer;i=new Uint8Array(B,D,Mn)}),_=(D=null)=>{s=!0,n.exports.Hash_Init(D)},f=D=>{let B=0;for(;B<D.length;){const z=D.subarray(B,B+Mn);B+=z.length,i.set(z),n.exports.Hash_Update(z.length)}},y=D=>{if(!s)throw new Error("update() called before init()");const B=bi(D);f(B)},u=new Uint8Array(e*2),v=(D,B=null)=>{if(!s)throw new Error("digest() called before init()");return s=!1,n.exports.Hash_Final(B),D==="binary"?i.slice(0,e):Ai(u,i,e)},g=()=>{if(!s)throw new Error("save() can only be called after init() and before digest()");const D=n.exports.Hash_GetState(),B=l(),z=n.exports.memory.buffer,C=new Uint8Array(z,D,B),T=new Uint8Array(sn+B);return Uo(T,t.hash),T.set(C,sn),T},A=D=>{if(!(D instanceof Uint8Array))throw new Error("load() expects an Uint8Array generated by save()");const B=n.exports.Hash_GetState(),z=l(),C=sn+z,T=n.exports.memory.buffer;if(D.length!==C)throw new Error(`Bad state length (expected ${C} bytes, got ${D.length})`);if(!qo(t.hash,D.subarray(0,sn)))throw new Error("This state was written by an incompatible hash implementation");const $=D.subarray(sn);new Uint8Array(T,B,z).set($),s=!0},w=D=>typeof D=="string"?D.length<Mn/4:D.byteLength<Mn;let x=w;switch(t.name){case"argon2":case"scrypt":x=()=>!0;break;case"blake2b":case"blake2s":x=(D,B)=>B<=512&&w(D);break;case"blake3":x=(D,B)=>B===0&&w(D);break;case"xxhash64":case"xxhash3":case"xxhash128":x=()=>!1;break}const E=(D,B=null,z=null)=>{if(!x(D,B))return _(B),y(D),v("hex",z);const C=bi(D);return i.set(C),n.exports.Hash_Calculate(C.length,B,z),Ai(u,i,e)};return yield m(),{getMemory:a,writeMemory:r,getExports:o,setMemorySize:c,init:_,update:y,digest:v,save:g,load:A,calculate:E,hashLength:e}})}new Ne;new Ne;new Ne;new Ne;new Ne;new Ne;new Ne;new Ne;new Ne;new Ne;new Ne;var Wo="sha256",Xo="AGFzbQEAAAABEQRgAAF/YAF/AGAAAGACf38AAwgHAAEBAQIAAwUEAQECAgYOAn8BQfCJBQt/AEGACAsHcAgGbWVtb3J5AgAOSGFzaF9HZXRCdWZmZXIAAAlIYXNoX0luaXQAAQtIYXNoX1VwZGF0ZQACCkhhc2hfRmluYWwABA1IYXNoX0dldFN0YXRlAAUOSGFzaF9DYWxjdWxhdGUABgpTVEFURV9TSVpFAwEKoEoHBQBBgAkLnQEAQQBCADcDwIkBQQBBHEEgIABB4AFGIgAbNgLoiQFBAEKnn+anxvST/b5/Qquzj/yRo7Pw2wAgABs3A+CJAUEAQrGWgP6fooWs6ABC/6S5iMWR2oKbfyAAGzcD2IkBQQBCl7rDg5Onlod3QvLmu+Ojp/2npX8gABs3A9CJAUEAQti9loj8oLW+NkLnzKfQ1tDrs7t/IAAbNwPIiQEL7wICAX4Gf0EAQQApA8CJASIBIACtfDcDwIkBAkACQAJAIAGnQT9xIgINAEGACSEDDAELAkBBwAAgAmsiBCAAIAQgAEkbIgNFDQAgA0EDcSEFIAJBgIkBaiEGQQAhAgJAIANBBEkNACADQfwAcSEHQQAhAgNAIAYgAmoiAyACQYAJai0AADoAACADQQFqIAJBgQlqLQAAOgAAIANBAmogAkGCCWotAAA6AAAgA0EDaiACQYMJai0AADoAACAHIAJBBGoiAkcNAAsLIAVFDQADQCAGIAJqIAJBgAlqLQAAOgAAIAJBAWohAiAFQX9qIgUNAAsLIAQgAEsNAUGAiQEQAyAAIARrIQAgBEGACWohAwsCQCAAQcAASQ0AA0AgAxADIANBwABqIQMgAEFAaiIAQT9LDQALCyAARQ0AQQAhAkEAIQUDQCACQYCJAWogAyACai0AADoAACACQQFqIQIgACAFQQFqIgVB/wFxSw0ACwsLoz4BRX9BACAAKAI8IgFBGHQgAUGA/gNxQQh0ciABQQh2QYD+A3EgAUEYdnJyIgFBGXcgAUEOd3MgAUEDdnMgACgCOCICQRh0IAJBgP4DcUEIdHIgAkEIdkGA/gNxIAJBGHZyciICaiAAKAIgIgNBGHQgA0GA/gNxQQh0ciADQQh2QYD+A3EgA0EYdnJyIgRBGXcgBEEOd3MgBEEDdnMgACgCHCIDQRh0IANBgP4DcUEIdHIgA0EIdkGA/gNxIANBGHZyciIFaiAAKAIEIgNBGHQgA0GA/gNxQQh0ciADQQh2QYD+A3EgA0EYdnJyIgZBGXcgBkEOd3MgBkEDdnMgACgCACIDQRh0IANBgP4DcUEIdHIgA0EIdkGA/gNxIANBGHZyciIHaiAAKAIkIgNBGHQgA0GA/gNxQQh0ciADQQh2QYD+A3EgA0EYdnJyIghqIAJBD3cgAkENd3MgAkEKdnNqIgNqIAAoAhgiCUEYdCAJQYD+A3FBCHRyIAlBCHZBgP4DcSAJQRh2cnIiCkEZdyAKQQ53cyAKQQN2cyAAKAIUIglBGHQgCUGA/gNxQQh0ciAJQQh2QYD+A3EgCUEYdnJyIgtqIAJqIAAoAhAiCUEYdCAJQYD+A3FBCHRyIAlBCHZBgP4DcSAJQRh2cnIiDEEZdyAMQQ53cyAMQQN2cyAAKAIMIglBGHQgCUGA/gNxQQh0ciAJQQh2QYD+A3EgCUEYdnJyIg1qIAAoAjAiCUEYdCAJQYD+A3FBCHRyIAlBCHZBgP4DcSAJQRh2cnIiDmogACgCCCIJQRh0IAlBgP4DcUEIdHIgCUEIdkGA/gNxIAlBGHZyciIPQRl3IA9BDndzIA9BA3ZzIAZqIAAoAigiCUEYdCAJQYD+A3FBCHRyIAlBCHZBgP4DcSAJQRh2cnIiEGogAUEPdyABQQ13cyABQQp2c2oiCUEPdyAJQQ13cyAJQQp2c2oiEUEPdyARQQ13cyARQQp2c2oiEkEPdyASQQ13cyASQQp2c2oiE2ogACgCNCIUQRh0IBRBgP4DcUEIdHIgFEEIdkGA/gNxIBRBGHZyciIVQRl3IBVBDndzIBVBA3ZzIA5qIBJqIAAoAiwiAEEYdCAAQYD+A3FBCHRyIABBCHZBgP4DcSAAQRh2cnIiFkEZdyAWQQ53cyAWQQN2cyAQaiARaiAIQRl3IAhBDndzIAhBA3ZzIARqIAlqIAVBGXcgBUEOd3MgBUEDdnMgCmogAWogC0EZdyALQQ53cyALQQN2cyAMaiAVaiANQRl3IA1BDndzIA1BA3ZzIA9qIBZqIANBD3cgA0ENd3MgA0EKdnNqIhRBD3cgFEENd3MgFEEKdnNqIhdBD3cgF0ENd3MgF0EKdnNqIhhBD3cgGEENd3MgGEEKdnNqIhlBD3cgGUENd3MgGUEKdnNqIhpBD3cgGkENd3MgGkEKdnNqIhtBD3cgG0ENd3MgG0EKdnNqIhxBGXcgHEEOd3MgHEEDdnMgAkEZdyACQQ53cyACQQN2cyAVaiAYaiAOQRl3IA5BDndzIA5BA3ZzIBZqIBdqIBBBGXcgEEEOd3MgEEEDdnMgCGogFGogE0EPdyATQQ13cyATQQp2c2oiHUEPdyAdQQ13cyAdQQp2c2oiHkEPdyAeQQ13cyAeQQp2c2oiH2ogE0EZdyATQQ53cyATQQN2cyAYaiADQRl3IANBDndzIANBA3ZzIAFqIBlqIB9BD3cgH0ENd3MgH0EKdnNqIiBqIBJBGXcgEkEOd3MgEkEDdnMgF2ogH2ogEUEZdyARQQ53cyARQQN2cyAUaiAeaiAJQRl3IAlBDndzIAlBA3ZzIANqIB1qIBxBD3cgHEENd3MgHEEKdnNqIiFBD3cgIUENd3MgIUEKdnNqIiJBD3cgIkENd3MgIkEKdnNqIiNBD3cgI0ENd3MgI0EKdnNqIiRqIBtBGXcgG0EOd3MgG0EDdnMgHmogI2ogGkEZdyAaQQ53cyAaQQN2cyAdaiAiaiAZQRl3IBlBDndzIBlBA3ZzIBNqICFqIBhBGXcgGEEOd3MgGEEDdnMgEmogHGogF0EZdyAXQQ53cyAXQQN2cyARaiAbaiAUQRl3IBRBDndzIBRBA3ZzIAlqIBpqICBBD3cgIEENd3MgIEEKdnNqIiVBD3cgJUENd3MgJUEKdnNqIiZBD3cgJkENd3MgJkEKdnNqIidBD3cgJ0ENd3MgJ0EKdnNqIihBD3cgKEENd3MgKEEKdnNqIilBD3cgKUENd3MgKUEKdnNqIipBD3cgKkENd3MgKkEKdnNqIitBGXcgK0EOd3MgK0EDdnMgH0EZdyAfQQ53cyAfQQN2cyAbaiAnaiAeQRl3IB5BDndzIB5BA3ZzIBpqICZqIB1BGXcgHUEOd3MgHUEDdnMgGWogJWogJEEPdyAkQQ13cyAkQQp2c2oiLEEPdyAsQQ13cyAsQQp2c2oiLUEPdyAtQQ13cyAtQQp2c2oiLmogJEEZdyAkQQ53cyAkQQN2cyAnaiAgQRl3ICBBDndzICBBA3ZzIBxqIChqIC5BD3cgLkENd3MgLkEKdnNqIi9qICNBGXcgI0EOd3MgI0EDdnMgJmogLmogIkEZdyAiQQ53cyAiQQN2cyAlaiAtaiAhQRl3ICFBDndzICFBA3ZzICBqICxqICtBD3cgK0ENd3MgK0EKdnNqIjBBD3cgMEENd3MgMEEKdnNqIjFBD3cgMUENd3MgMUEKdnNqIjJBD3cgMkENd3MgMkEKdnNqIjNqICpBGXcgKkEOd3MgKkEDdnMgLWogMmogKUEZdyApQQ53cyApQQN2cyAsaiAxaiAoQRl3IChBDndzIChBA3ZzICRqIDBqICdBGXcgJ0EOd3MgJ0EDdnMgI2ogK2ogJkEZdyAmQQ53cyAmQQN2cyAiaiAqaiAlQRl3ICVBDndzICVBA3ZzICFqIClqIC9BD3cgL0ENd3MgL0EKdnNqIjRBD3cgNEENd3MgNEEKdnNqIjVBD3cgNUENd3MgNUEKdnNqIjZBD3cgNkENd3MgNkEKdnNqIjdBD3cgN0ENd3MgN0EKdnNqIjhBD3cgOEENd3MgOEEKdnNqIjlBD3cgOUENd3MgOUEKdnNqIjogOCA0IC4gLCAhIBsgGSADIA4gBEEAKALYiQEiO0EadyA7QRV3cyA7QQd3c0EAKALkiQEiPGpBACgC4IkBIj1BACgC3IkBIj5zIDtxID1zaiAHakGY36iUBGoiB0EAKALUiQEiP2oiACAMaiA7IA1qID4gD2ogPSAGaiAAID4gO3NxID5zaiAAQRp3IABBFXdzIABBB3dzakGRid2JB2oiQEEAKALQiQEiQWoiDCAAIDtzcSA7c2ogDEEadyAMQRV3cyAMQQd3c2pBz/eDrntqIkJBACgCzIkBIkNqIg0gDCAAc3EgAHNqIA1BGncgDUEVd3MgDUEHd3NqQaW3181+aiJEQQAoAsiJASIAaiIPIA0gDHNxIAxzaiAPQRp3IA9BFXdzIA9BB3dzakHbhNvKA2oiRSBBIEMgAHNxIEMgAHFzIABBHncgAEETd3MgAEEKd3NqIAdqIgZqIgdqIAUgD2ogCiANaiALIAxqIAcgDyANc3EgDXNqIAdBGncgB0EVd3MgB0EHd3NqQfGjxM8FaiIKIAYgAHMgQ3EgBiAAcXMgBkEedyAGQRN3cyAGQQp3c2ogQGoiDGoiBCAHIA9zcSAPc2ogBEEadyAEQRV3cyAEQQd3c2pBpIX+kXlqIgsgDCAGcyAAcSAMIAZxcyAMQR53IAxBE3dzIAxBCndzaiBCaiINaiIPIAQgB3NxIAdzaiAPQRp3IA9BFXdzIA9BB3dzakHVvfHYemoiQCANIAxzIAZxIA0gDHFzIA1BHncgDUETd3MgDUEKd3NqIERqIgZqIgcgDyAEc3EgBHNqIAdBGncgB0EVd3MgB0EHd3NqQZjVnsB9aiJCIAYgDXMgDHEgBiANcXMgBkEedyAGQRN3cyAGQQp3c2ogRWoiDGoiBWogFiAHaiAQIA9qIAggBGogBSAHIA9zcSAPc2ogBUEadyAFQRV3cyAFQQd3c2pBgbaNlAFqIgggDCAGcyANcSAMIAZxcyAMQR53IAxBE3dzIAxBCndzaiAKaiINaiIPIAUgB3NxIAdzaiAPQRp3IA9BFXdzIA9BB3dzakG+i8ahAmoiDiANIAxzIAZxIA0gDHFzIA1BHncgDUETd3MgDUEKd3NqIAtqIgZqIgcgDyAFc3EgBXNqIAdBGncgB0EVd3MgB0EHd3NqQcP7sagFaiIQIAYgDXMgDHEgBiANcXMgBkEedyAGQRN3cyAGQQp3c2ogQGoiDGoiBCAHIA9zcSAPc2ogBEEadyAEQRV3cyAEQQd3c2pB9Lr5lQdqIhYgDCAGcyANcSAMIAZxcyAMQR53IAxBE3dzIAxBCndzaiBCaiINaiIFaiABIARqIAIgB2ogFSAPaiAFIAQgB3NxIAdzaiAFQRp3IAVBFXdzIAVBB3dzakH+4/qGeGoiByANIAxzIAZxIA0gDHFzIA1BHncgDUETd3MgDUEKd3NqIAhqIgFqIgYgBSAEc3EgBHNqIAZBGncgBkEVd3MgBkEHd3NqQaeN8N55aiIEIAEgDXMgDHEgASANcXMgAUEedyABQRN3cyABQQp3c2ogDmoiAmoiDCAGIAVzcSAFc2ogDEEadyAMQRV3cyAMQQd3c2pB9OLvjHxqIgUgAiABcyANcSACIAFxcyACQR53IAJBE3dzIAJBCndzaiAQaiIDaiINIAwgBnNxIAZzaiANQRp3IA1BFXdzIA1BB3dzakHB0+2kfmoiCCADIAJzIAFxIAMgAnFzIANBHncgA0ETd3MgA0EKd3NqIBZqIgFqIg8gF2ogESANaiAUIAxqIAkgBmogDyANIAxzcSAMc2ogD0EadyAPQRV3cyAPQQd3c2pBho/5/X5qIgYgASADcyACcSABIANxcyABQR53IAFBE3dzIAFBCndzaiAHaiICaiIJIA8gDXNxIA1zaiAJQRp3IAlBFXdzIAlBB3dzakHGu4b+AGoiDCACIAFzIANxIAIgAXFzIAJBHncgAkETd3MgAkEKd3NqIARqIgNqIhEgCSAPc3EgD3NqIBFBGncgEUEVd3MgEUEHd3NqQczDsqACaiINIAMgAnMgAXEgAyACcXMgA0EedyADQRN3cyADQQp3c2ogBWoiAWoiFCARIAlzcSAJc2ogFEEadyAUQRV3cyAUQQd3c2pB79ik7wJqIg8gASADcyACcSABIANxcyABQR53IAFBE3dzIAFBCndzaiAIaiICaiIXaiATIBRqIBggEWogEiAJaiAXIBQgEXNxIBFzaiAXQRp3IBdBFXdzIBdBB3dzakGqidLTBGoiGCACIAFzIANxIAIgAXFzIAJBHncgAkETd3MgAkEKd3NqIAZqIgNqIgkgFyAUc3EgFHNqIAlBGncgCUEVd3MgCUEHd3NqQdzTwuUFaiIUIAMgAnMgAXEgAyACcXMgA0EedyADQRN3cyADQQp3c2ogDGoiAWoiESAJIBdzcSAXc2ogEUEadyARQRV3cyARQQd3c2pB2pHmtwdqIhcgASADcyACcSABIANxcyABQR53IAFBE3dzIAFBCndzaiANaiICaiISIBEgCXNxIAlzaiASQRp3IBJBFXdzIBJBB3dzakHSovnBeWoiGSACIAFzIANxIAIgAXFzIAJBHncgAkETd3MgAkEKd3NqIA9qIgNqIhNqIB4gEmogGiARaiAdIAlqIBMgEiARc3EgEXNqIBNBGncgE0EVd3MgE0EHd3NqQe2Mx8F6aiIaIAMgAnMgAXEgAyACcXMgA0EedyADQRN3cyADQQp3c2ogGGoiAWoiCSATIBJzcSASc2ogCUEadyAJQRV3cyAJQQd3c2pByM+MgHtqIhggASADcyACcSABIANxcyABQR53IAFBE3dzIAFBCndzaiAUaiICaiIRIAkgE3NxIBNzaiARQRp3IBFBFXdzIBFBB3dzakHH/+X6e2oiFCACIAFzIANxIAIgAXFzIAJBHncgAkETd3MgAkEKd3NqIBdqIgNqIhIgESAJc3EgCXNqIBJBGncgEkEVd3MgEkEHd3NqQfOXgLd8aiIXIAMgAnMgAXEgAyACcXMgA0EedyADQRN3cyADQQp3c2ogGWoiAWoiE2ogICASaiAcIBFqIB8gCWogEyASIBFzcSARc2ogE0EadyATQRV3cyATQQd3c2pBx6KerX1qIhkgASADcyACcSABIANxcyABQR53IAFBE3dzIAFBCndzaiAaaiICaiIJIBMgEnNxIBJzaiAJQRp3IAlBFXdzIAlBB3dzakHRxqk2aiIaIAIgAXMgA3EgAiABcXMgAkEedyACQRN3cyACQQp3c2ogGGoiA2oiESAJIBNzcSATc2ogEUEadyARQRV3cyARQQd3c2pB59KkoQFqIhggAyACcyABcSADIAJxcyADQR53IANBE3dzIANBCndzaiAUaiIBaiISIBEgCXNxIAlzaiASQRp3IBJBFXdzIBJBB3dzakGFldy9AmoiFCABIANzIAJxIAEgA3FzIAFBHncgAUETd3MgAUEKd3NqIBdqIgJqIhMgI2ogJiASaiAiIBFqICUgCWogEyASIBFzcSARc2ogE0EadyATQRV3cyATQQd3c2pBuMLs8AJqIhcgAiABcyADcSACIAFxcyACQR53IAJBE3dzIAJBCndzaiAZaiIDaiIJIBMgEnNxIBJzaiAJQRp3IAlBFXdzIAlBB3dzakH827HpBGoiGSADIAJzIAFxIAMgAnFzIANBHncgA0ETd3MgA0EKd3NqIBpqIgFqIhEgCSATc3EgE3NqIBFBGncgEUEVd3MgEUEHd3NqQZOa4JkFaiIaIAEgA3MgAnEgASADcXMgAUEedyABQRN3cyABQQp3c2ogGGoiAmoiEiARIAlzcSAJc2ogEkEadyASQRV3cyASQQd3c2pB1OapqAZqIhggAiABcyADcSACIAFxcyACQR53IAJBE3dzIAJBCndzaiAUaiIDaiITaiAoIBJqICQgEWogJyAJaiATIBIgEXNxIBFzaiATQRp3IBNBFXdzIBNBB3dzakG7laizB2oiFCADIAJzIAFxIAMgAnFzIANBHncgA0ETd3MgA0EKd3NqIBdqIgFqIgkgEyASc3EgEnNqIAlBGncgCUEVd3MgCUEHd3NqQa6Si454aiIXIAEgA3MgAnEgASADcXMgAUEedyABQRN3cyABQQp3c2ogGWoiAmoiESAJIBNzcSATc2ogEUEadyARQRV3cyARQQd3c2pBhdnIk3lqIhkgAiABcyADcSACIAFxcyACQR53IAJBE3dzIAJBCndzaiAaaiIDaiISIBEgCXNxIAlzaiASQRp3IBJBFXdzIBJBB3dzakGh0f+VemoiGiADIAJzIAFxIAMgAnFzIANBHncgA0ETd3MgA0EKd3NqIBhqIgFqIhNqICogEmogLSARaiApIAlqIBMgEiARc3EgEXNqIBNBGncgE0EVd3MgE0EHd3NqQcvM6cB6aiIYIAEgA3MgAnEgASADcXMgAUEedyABQRN3cyABQQp3c2ogFGoiAmoiCSATIBJzcSASc2ogCUEadyAJQRV3cyAJQQd3c2pB8JauknxqIhQgAiABcyADcSACIAFxcyACQR53IAJBE3dzIAJBCndzaiAXaiIDaiIRIAkgE3NxIBNzaiARQRp3IBFBFXdzIBFBB3dzakGjo7G7fGoiFyADIAJzIAFxIAMgAnFzIANBHncgA0ETd3MgA0EKd3NqIBlqIgFqIhIgESAJc3EgCXNqIBJBGncgEkEVd3MgEkEHd3NqQZnQy4x9aiIZIAEgA3MgAnEgASADcXMgAUEedyABQRN3cyABQQp3c2ogGmoiAmoiE2ogMCASaiAvIBFqICsgCWogEyASIBFzcSARc2ogE0EadyATQRV3cyATQQd3c2pBpIzktH1qIhogAiABcyADcSACIAFxcyACQR53IAJBE3dzIAJBCndzaiAYaiIDaiIJIBMgEnNxIBJzaiAJQRp3IAlBFXdzIAlBB3dzakGF67igf2oiGCADIAJzIAFxIAMgAnFzIANBHncgA0ETd3MgA0EKd3NqIBRqIgFqIhEgCSATc3EgE3NqIBFBGncgEUEVd3MgEUEHd3NqQfDAqoMBaiIUIAEgA3MgAnEgASADcXMgAUEedyABQRN3cyABQQp3c2ogF2oiAmoiEiARIAlzcSAJc2ogEkEadyASQRV3cyASQQd3c2pBloKTzQFqIhcgAiABcyADcSACIAFxcyACQR53IAJBE3dzIAJBCndzaiAZaiIDaiITIDZqIDIgEmogNSARaiAxIAlqIBMgEiARc3EgEXNqIBNBGncgE0EVd3MgE0EHd3NqQYjY3fEBaiIZIAMgAnMgAXEgAyACcXMgA0EedyADQRN3cyADQQp3c2ogGmoiAWoiCSATIBJzcSASc2ogCUEadyAJQRV3cyAJQQd3c2pBzO6hugJqIhogASADcyACcSABIANxcyABQR53IAFBE3dzIAFBCndzaiAYaiICaiIRIAkgE3NxIBNzaiARQRp3IBFBFXdzIBFBB3dzakG1+cKlA2oiGCACIAFzIANxIAIgAXFzIAJBHncgAkETd3MgAkEKd3NqIBRqIgNqIhIgESAJc3EgCXNqIBJBGncgEkEVd3MgEkEHd3NqQbOZ8MgDaiIUIAMgAnMgAXEgAyACcXMgA0EedyADQRN3cyADQQp3c2ogF2oiAWoiE2ogLEEZdyAsQQ53cyAsQQN2cyAoaiA0aiAzQQ93IDNBDXdzIDNBCnZzaiIXIBJqIDcgEWogMyAJaiATIBIgEXNxIBFzaiATQRp3IBNBFXdzIBNBB3dzakHK1OL2BGoiGyABIANzIAJxIAEgA3FzIAFBHncgAUETd3MgAUEKd3NqIBlqIgJqIgkgEyASc3EgEnNqIAlBGncgCUEVd3MgCUEHd3NqQc+U89wFaiIZIAIgAXMgA3EgAiABcXMgAkEedyACQRN3cyACQQp3c2ogGmoiA2oiESAJIBNzcSATc2ogEUEadyARQRV3cyARQQd3c2pB89+5wQZqIhogAyACcyABcSADIAJxcyADQR53IANBE3dzIANBCndzaiAYaiIBaiISIBEgCXNxIAlzaiASQRp3IBJBFXdzIBJBB3dzakHuhb6kB2oiHCABIANzIAJxIAEgA3FzIAFBHncgAUETd3MgAUEKd3NqIBRqIgJqIhNqIC5BGXcgLkEOd3MgLkEDdnMgKmogNmogLUEZdyAtQQ53cyAtQQN2cyApaiA1aiAXQQ93IBdBDXdzIBdBCnZzaiIUQQ93IBRBDXdzIBRBCnZzaiIYIBJqIDkgEWogFCAJaiATIBIgEXNxIBFzaiATQRp3IBNBFXdzIBNBB3dzakHvxpXFB2oiCSACIAFzIANxIAIgAXFzIAJBHncgAkETd3MgAkEKd3NqIBtqIgNqIhEgEyASc3EgEnNqIBFBGncgEUEVd3MgEUEHd3NqQZTwoaZ4aiIbIAMgAnMgAXEgAyACcXMgA0EedyADQRN3cyADQQp3c2ogGWoiAWoiEiARIBNzcSATc2ogEkEadyASQRV3cyASQQd3c2pBiISc5nhqIhkgASADcyACcSABIANxcyABQR53IAFBE3dzIAFBCndzaiAaaiICaiITIBIgEXNxIBFzaiATQRp3IBNBFXdzIBNBB3dzakH6//uFeWoiGiACIAFzIANxIAIgAXFzIAJBHncgAkETd3MgAkEKd3NqIBxqIgNqIhQgPGo2AuSJAUEAID8gAyACcyABcSADIAJxcyADQR53IANBE3dzIANBCndzaiAJaiIBIANzIAJxIAEgA3FzIAFBHncgAUETd3MgAUEKd3NqIBtqIgIgAXMgA3EgAiABcXMgAkEedyACQRN3cyACQQp3c2ogGWoiAyACcyABcSADIAJxcyADQR53IANBE3dzIANBCndzaiAaaiIJajYC1IkBQQAgPSAvQRl3IC9BDndzIC9BA3ZzICtqIDdqIBhBD3cgGEENd3MgGEEKdnNqIhggEWogFCATIBJzcSASc2ogFEEadyAUQRV3cyAUQQd3c2pB69nBonpqIhkgAWoiEWo2AuCJAUEAIEEgCSADcyACcSAJIANxcyAJQR53IAlBE3dzIAlBCndzaiAZaiIBajYC0IkBQQAgPiAwQRl3IDBBDndzIDBBA3ZzIC9qIBdqIDpBD3cgOkENd3MgOkEKdnNqIBJqIBEgFCATc3EgE3NqIBFBGncgEUEVd3MgEUEHd3NqQffH5vd7aiIXIAJqIhJqNgLciQFBACBDIAEgCXMgA3EgASAJcXMgAUEedyABQRN3cyABQQp3c2ogF2oiAmo2AsyJAUEAIDsgNEEZdyA0QQ53cyA0QQN2cyAwaiA4aiAYQQ93IBhBDXdzIBhBCnZzaiATaiASIBEgFHNxIBRzaiASQRp3IBJBFXdzIBJBB3dzakHy8cWzfGoiESADamo2AtiJAUEAIAAgAiABcyAJcSACIAFxcyACQR53IAJBE3dzIAJBCndzaiARamo2AsiJAQu2BgIEfwF+QQAoAsCJASIAQQJ2QQ9xIgFBAnRBgIkBaiICIAIoAgBBfyAAQQN0IgB0QX9zcUGAASAAdHM2AgACQAJAAkAgAUEOSQ0AAkAgAUEORw0AQQBBADYCvIkBC0GAiQEQA0EAIQMMAQsgAUENRg0BIAFBAWohAwsgAyEAAkBBBiADa0EHcSICRQ0AIANBAnRBgIkBaiEBIAMhAANAIAFBADYCACABQQRqIQEgAEEBaiEAIAJBf2oiAg0ACwsgA0F5akEHSQ0AIABBAnQhAQNAIAFBmIkBakIANwIAIAFBkIkBakIANwIAIAFBiIkBakIANwIAIAFBgIkBakIANwIAIAFBIGoiAUE4Rw0ACwtBACEBQQBBACkDwIkBIgSnIgBBG3QgAEELdEGAgPwHcXIgAEEFdkGA/gNxIABBA3RBGHZycjYCvIkBQQAgBEIdiKciAEEYdCAAQYD+A3FBCHRyIABBCHZBgP4DcSAAQRh2cnI2AriJAUGAiQEQA0EAQQAoAuSJASIAQRh0IABBgP4DcUEIdHIgAEEIdkGA/gNxIABBGHZycjYC5IkBQQBBACgC4IkBIgBBGHQgAEGA/gNxQQh0ciAAQQh2QYD+A3EgAEEYdnJyNgLgiQFBAEEAKALciQEiAEEYdCAAQYD+A3FBCHRyIABBCHZBgP4DcSAAQRh2cnI2AtyJAUEAQQAoAtiJASIAQRh0IABBgP4DcUEIdHIgAEEIdkGA/gNxIABBGHZycjYC2IkBQQBBACgC1IkBIgBBGHQgAEGA/gNxQQh0ciAAQQh2QYD+A3EgAEEYdnJyNgLUiQFBAEEAKALQiQEiAEEYdCAAQYD+A3FBCHRyIABBCHZBgP4DcSAAQRh2cnI2AtCJAUEAQQAoAsyJASIAQRh0IABBgP4DcUEIdHIgAEEIdkGA/gNxIABBGHZycjYCzIkBQQBBACgCyIkBIgBBGHQgAEGA/gNxQQh0ciAAQQh2QYD+A3EgAEEYdnJyNgLIiQECQEEAKALoiQEiAkUNAEEAIQADQCABQYAJaiABQciJAWotAAA6AAAgAUEBaiEBIAIgAEEBaiIAQf8BcUsNAAsLCwYAQYCJAQujAQBBAEIANwPAiQFBAEEcQSAgAUHgAUYiARs2AuiJAUEAQqef5qfG9JP9vn9Cq7OP/JGjs/DbACABGzcD4IkBQQBCsZaA/p+ihazoAEL/pLmIxZHagpt/IAEbNwPYiQFBAEKXusODk6eWh3dC8ua746On/aelfyABGzcD0IkBQQBC2L2WiPygtb42QufMp9DW0Ouzu38gARs3A8iJASAAEAIQBAsLCwEAQYAICwRwAAAA",Ko="64f06674",Yo={name:Wo,data:Xo,hash:Ko};new Ne;new Ne;function ec(){return Vo(Yo,32).then(t=>{t.init(256);const e={init:()=>(t.init(256),e),update:n=>(t.update(n),e),digest:n=>t.digest(n),save:()=>t.save(),load:n=>(t.load(n),e),blockSize:64,digestSize:32};return e})}new Ne;new Ne;new Ne;new Ne;new Ne;new Ne;new Ne;new Ne;new Ne;const _t=()=>ni.instance;class ni{static instance=new ni;persisted=navigator.storage.persist();hasher=ec();async isPersistent(){return await this.persisted}async storageEstimate(){return await navigator.storage.estimate()}async listProjects(){return await(await this.openDB()).getAll("projects")}async loadProject(e){return await(await this.openDB()).get("projects",e)}async storeProject(e){const n=await this.openDB(),i=await n.get("projects",e.id);await n.put("projects",{...e,createDate:i?.createDate??new Date,modifyDate:new Date})}async deleteProject(e){await(await this.openDB()).delete("projects",e)}async containsAsset(e){return await(await this.openDB()).getKey("assets",e)!==void 0}async loadAsset(e){return await(await this.openDB()).get("assets",e)}async storeAsset(e){const n=await this.hashBlob(e);return await this.storeAssetWithHash(n,e)}async storeAssetWithHash(e,n){return await(await this.openDB()).put("assets",n,e)}async hashBlob(e){const i=await this.hasher;i.init();let s=0;for(;s<e.size;){const a=await e.slice(s,s+1e6).arrayBuffer();i.update(new Uint8Array(a)),s+=1e6}return i.digest("hex")}async openDB(){return await jo("tourforge",1,{upgrade(i,s,r){i.objectStoreNames.contains("projects")||i.createObjectStore("projects",{keyPath:"id"}),i.objectStoreNames.contains("assets")||i.createObjectStore("assets")}})}}const rr="/builder/assets/shufti-logo-C-TEbxGc.png";var tc=ie("<img alt=Shufti>"),nc=ie("<div>Changes are only saved locally in your browser."),rc=ie(`<div title="You (or your browser) rejected this site's request to store data persistently.">Changes are only saved temporarily and will go away when your browser restarts.`),ic=ie("<div>Storage: <!> of <!> used (<!>)"),sc=ie("<div><nav><div style=flex:1></div></nav><main>");const ac=t=>{const e=_t(),[n]=Et(async()=>await e.isPersistent()),[i,{refetch:s}]=Et(async()=>await e.storageEstimate()),r=()=>{const l=i();if(l?.usage!==void 0)return(l.usage/1024/1024).toFixed(2)+"MB"},a=()=>{const l=i();if(l?.quota!==void 0)return(l.quota/1024/1024).toFixed(2)+"MB"},o=()=>{const l=i();if(!(l?.usage===void 0||l.quota===void 0))return Number(l.usage/l.quota/100).toLocaleString(void 0,{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2})},c=setInterval(async()=>await s(),1e4);return vt(()=>{clearInterval(c)}),(()=>{var l=sc(),h=l.firstChild,m=h.firstChild,_=h.nextSibling;return U(h,P(Qe,{get class(){return rn.NavButton},get classList(){return{[rn.NavHeader]:!0}},href:"/",get children(){return[(()=>{var f=tc();return Le(f,"src",rr),f.style.setProperty("height","32px"),f.style.setProperty("margin-right","8px"),f})(),"Builder"]}}),m),U(h,P(Te,{get when(){return n()===!0},get children(){return nc()}}),null),U(h,P(Te,{get when(){return n()===!1||n.error},get children(){return rc()}}),null),U(h,P(Te,{get when(){return _e(()=>r()!==void 0&&a()!==void 0)()&&o()!==void 0},get children(){var f=ic(),y=f.firstChild,u=y.nextSibling,v=u.nextSibling,g=v.nextSibling,A=g.nextSibling,w=A.nextSibling;return w.nextSibling,U(f,r,u),U(f,a,g),U(f,o,w),f}}),null),U(_,()=>t.children),ce(f=>{var y=rn.Wrapper,u=rn.Nav,v=rn.Main;return y!==f.e&&G(l,f.e=y),u!==f.t&&G(h,f.t=u),v!==f.a&&G(_,f.a=v),f},{e:void 0,t:void 0,a:void 0}),l})()};var oc=ie("<svg stroke-width=0>");function xe(t,e){const n=Xe(t.a,e),[i,s]=Zi(n,["src"]),[r,a]=Re(""),o=_e(()=>e.title?`${t.c}<title>${e.title}</title>`:t.c);return Ht(()=>a(o())),vt(()=>{a("")}),(()=>{var c=oc();return dt(c,Xe({get stroke(){return t.a?.stroke},get color(){return e.color||"currentColor"},get fill(){return e.color||"currentColor"},get style(){return{...e.style,overflow:"visible"}}},s,{get height(){return e.size||"1em"},get width(){return e.size||"1em"},xmlns:"http://www.w3.org/2000/svg",get innerHTML(){return r()}}),!0,!0),U(c,()=>qi),c})()}function Mh(t){return xe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M12 5 12 19"/><path d="M19 12 12 19 5 12"/>'},t)}function Ph(t){return xe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M19 12 5 12"/><path d="M12 19 5 12 12 5"/>'},t)}function Qh(t){return xe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M12 19 12 5"/><path d="M5 12 12 5 19 12"/>'},t)}function cc(t){return xe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M20 6 9 17 4 12"/>'},t)}function ln(t){return xe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M9 18 15 12 9 6"/>'},t)}function lc(t){return xe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M12 2A10 10 0 1 0 12 22 10 10 0 1 0 12 2z"/><path d="M12 6 12 12 16 14"/>'},t)}function dc(t){return xe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"/>'},t)}function ir(t){return xe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M12 2A10 10 0 1 0 12 22 10 10 0 1 0 12 2z"/><path d="M16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76z"/>'},t)}function ps(t){return xe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><path d="M7 10 12 15 17 10"/><path d="M12 15 12 3"/>'},t)}function ki(t){return xe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>'},t)}function uc(t){return xe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><path d="M14 2 14 8 20 8"/><path d="M12 18 12 12"/><path d="M9 15 15 15"/>'},t)}function ms(t){return xe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"/><path d="M13 2 13 9 20 9"/>'},t)}function hc(t){return xe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M12 2A10 10 0 1 0 12 22 10 10 0 1 0 12 2z"/><path d="M2 12 22 12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>'},t)}function fc(t){return xe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M12 2A10 10 0 1 0 12 22 10 10 0 1 0 12 2z"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><path d="M12 17 12.01 17"/>'},t)}function Zh(t){return xe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><path d="M8.5 7A1.5 1.5 0 1 0 8.5 10 1.5 1.5 0 1 0 8.5 7z"/><path d="M21 15 16 10 5 21"/>'},t)}function pc(t){return xe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><path d="M16 17 21 12 16 7"/><path d="M21 12 9 12"/>'},t)}function mc(t){return xe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><path d="M12 7A3 3 0 1 0 12 13 3 3 0 1 0 12 7z"/>'},t)}function Lh(t){return xe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6z"/><path d="M8 2 8 18"/><path d="M16 6 16 22"/>'},t)}function Fh(t){return xe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><path d="M12 19 12 23"/><path d="M8 23 16 23"/>'},t)}function gc(t){return xe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M9 18V5l12-2v13"/><path d="M6 15A3 3 0 1 0 6 21 3 3 0 1 0 6 15z"/><path d="M18 13A3 3 0 1 0 18 19 3 3 0 1 0 18 13z"/>'},t)}function yc(t){return xe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M3 11 22 2 13 21 11 13 3 11z"/>'},t)}function hn(t){return xe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M16.5 9.4 7.5 4.21"/><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/><path d="M3.27 6.96 12 12.01 20.73 6.96"/><path d="M12 22.08 12 12"/>'},t)}function vc(t){return xe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M12 9A3 3 0 1 0 12 15 3 3 0 1 0 12 9z"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>'},t)}function _c(t){return xe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2z"/>'},t)}function Ac(t){return xe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/><path d="M10 11 10 17"/><path d="M14 11 14 17"/>'},t)}function gs(t){return xe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>'},t)}function bc(t){return xe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><path d="M17 8 12 3 7 8"/><path d="M12 3 12 15"/>'},t)}function sr(t){return xe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><path d="M12 3A4 4 0 1 0 12 11 4 4 0 1 0 12 3z"/>'},t)}function wc(t){return xe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M11 5 6 9 2 9 2 15 6 15 11 19 11 5z"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"/>'},t)}const kc="_Container_yugn9_1",Ic="_EmptyState_yugn9_10",xc="_Loading_yugn9_11",Ec="_Logo_yugn9_21",Bc="_AdminLink_yugn9_37",Cc="_TourCard_yugn9_46",Sc="_CardOverlay_yugn9_61",Nc="_Header_yugn9_75",Tc="_BrandLine_yugn9_82",Dc="_BrandAccent_yugn9_88",Rc="_BrandName_yugn9_95",zc="_MapButton_yugn9_102",Oc="_CardContent_yugn9_116",jc="_LocationLine_yugn9_121",Mc="_LocationAccent_yugn9_128",Pc="_LocationText_yugn9_135",Qc="_TourTitle_yugn9_142",Zc="_ScrollIndicator_yugn9_151",Lc="_ScrollProgress_yugn9_162",Fc="_TourDescription_yugn9_169",$c="_AudioPreview_yugn9_176",Uc="_AudioButton_yugn9_186",qc="_AudioInfo_yugn9_201",Hc="_AudioLabel_yugn9_207",Gc="_AudioText_yugn9_215",Jc="_TourMeta_yugn9_220",Vc="_MetaItem_yugn9_226",Wc="_MetaIconStar_yugn9_234",Xc="_ExploreButton_yugn9_238",Kc="_SwipeControls_yugn9_256",Yc="_SwipeButton_yugn9_264",el="_SwipeCount_yugn9_284",tl="_SwipeHint_yugn9_291",nl="_pulse_yugn9_1",rl="_SwipeArrow_yugn9_306",il="_SwipeText_yugn9_311",sl="_SwipeIndicator_yugn9_318",al="_Dot_yugn9_324",ol="_DotActive_yugn9_333",cl="_BottomNav_yugn9_339",ll="_NavItem_yugn9_347",dl="_NavItemActive_yugn9_362",fe={Container:kc,EmptyState:Ic,Loading:xc,Logo:Ec,AdminLink:Bc,TourCard:Cc,CardOverlay:Sc,Header:Nc,BrandLine:Tc,BrandAccent:Dc,BrandName:Rc,MapButton:zc,CardContent:Oc,LocationLine:jc,LocationAccent:Mc,LocationText:Pc,TourTitle:Qc,ScrollIndicator:Zc,ScrollProgress:Lc,TourDescription:Fc,AudioPreview:$c,AudioButton:Uc,AudioInfo:qc,AudioLabel:Hc,AudioText:Gc,TourMeta:Jc,MetaItem:Vc,MetaIconStar:Wc,ExploreButton:Xc,SwipeControls:Kc,SwipeButton:Yc,SwipeCount:el,SwipeHint:tl,pulse:nl,SwipeArrow:rl,SwipeText:il,SwipeIndicator:sl,Dot:al,DotActive:ol,BottomNav:cl,NavItem:ll,NavItemActive:dl},ul="/builder/assets/muttrah-cover-D1RtKZUw.jpg";var hl=ie("<div><img alt=Shufti><h2>No Tours Yet</h2><p>Add tours from the admin panel to see them here."),fl=ie("<div><img alt=Shufti><p>Loading tours..."),pl=ie("<span>Discover"),ml=ie("<span>Profile"),gl=ie("<span>Bundles"),yl=ie("<div><nav>"),vl=ie("<div><span>&#8592;</span><span>Swipe to explore</span><span>&#8594;"),_l=ie("<div>"),Al=ie("<div><div><header><div><span></span><span>Shufti</span></div><button></button></header><div><div><span></span><span></span></div><h1></h1><p></p><div><button></button><div><span>Audio Preview</span><span></span></div></div><div><div><span></span></div><div><span></span></div><div><span> stops"),bl=ie("<span>");const wl=()=>{const t=_t(),[e,n]=Re(0),[i,s]=Re(0),[r,a]=Re(!1),[o,c]=Re(!1),[l]=Et(async()=>{const B=await t.listProjects(),z=[];for(const C of B)for(const T of C.tours){const I=(T.route||[]).filter(re=>re.type==="stop"),M=I.length,p=Math.max(.5,M*.3);let Q=null;if(T.title.toLowerCase().includes("muttrah"))Q=ul;else{const re=I.find(F=>F.gallery&&F.gallery.length>0);if(re&&re.gallery[0]){const F=re.gallery[0];if(C.assets[F]){const H=await t.loadAsset(F);H&&(Q=URL.createObjectURL(H))}}}z.push({id:T.id,projectId:C.id,title:T.title,location:"Oman",description:T.desc||"Explore this self-guided audio tour",imageUrl:Q,rating:4.8,duration:`${p.toFixed(1)} hours`,stopCount:M,audioPreview:"Listen to a preview of this tour..."})}return z});let h=0,m=0;const _=80,f=B=>{o()||(h=B.targetTouches[0].clientX,m=B.targetTouches[0].clientY,a(!0))},y=B=>{if(!r()||o())return;const z=B.targetTouches[0].clientX,C=B.targetTouches[0].clientY,T=z-h,$=Math.abs(C-m);Math.abs(T)>$&&(B.preventDefault(),s(T))},u=()=>{if(!r()||o())return;a(!1);const B=i(),z=l();if(!z||z.length===0){s(0);return}B<-_&&e()<z.length-1?v("left"):B>_&&e()>0?v("right"):s(0)},v=B=>{c(!0);const z=B==="left"?-window.innerWidth:window.innerWidth;s(z),setTimeout(()=>{n(B==="left"?C=>C+1:C=>C-1),s(0),c(!1)},250)},g=B=>{o()||(h=B.clientX,m=B.clientY,a(!0))},A=B=>{if(!r()||o())return;const z=B.clientX-h;s(z)},w=()=>{u()},x=()=>{r()&&u()},E=()=>{const B=l();return!B||B.length===0?null:B[e()]},D=()=>{const B=i(),z=B*.02,C=1-Math.abs(B)*2e-4,T=1-Math.abs(B)*.001;return{transform:`translateX(${B}px) rotate(${z}deg) scale(${Math.max(.95,C)})`,opacity:Math.max(.7,T),transition:r()?"none":"transform 0.25s ease-out, opacity 0.25s ease-out"}};return(()=>{var B=yl(),z=B.firstChild;return U(B,P(Te,{get when(){return _e(()=>!l.loading)()&&l()?.length===0},get children(){var C=hl(),T=C.firstChild,$=T.nextSibling;return $.nextSibling,Le(T,"src",rr),U(C,P(Qe,{href:"/admin",get class(){return fe.AdminLink},children:"Go to Admin Panel"}),null),ce(I=>{var M=fe.EmptyState,p=fe.Logo;return M!==I.e&&G(C,I.e=M),p!==I.t&&G(T,I.t=p),I},{e:void 0,t:void 0}),C}}),z),U(B,P(Te,{get when(){return l.loading},get children(){var C=fl(),T=C.firstChild;return Le(T,"src",rr),ce($=>{var I=fe.Loading,M=fe.Logo;return I!==$.e&&G(C,$.e=I),M!==$.t&&G(T,$.t=M),$},{e:void 0,t:void 0}),C}}),z),U(B,P(Te,{get when(){return E()},children:C=>(()=>{var T=Al(),$=T.firstChild,I=$.firstChild,M=I.firstChild,p=M.firstChild,Q=p.nextSibling,re=M.nextSibling,F=I.nextSibling,ue=F.firstChild,H=ue.firstChild,le=H.nextSibling,j=ue.nextSibling,O=j.nextSibling,ae=O.nextSibling,ee=ae.firstChild,X=ee.nextSibling,Be=X.firstChild,Pe=Be.nextSibling,ge=ae.nextSibling,ve=ge.firstChild,De=ve.firstChild,Ee=ve.nextSibling,Je=Ee.firstChild,qe=Ee.nextSibling,d=qe.firstChild,L=d.firstChild;return T.addEventListener("mouseleave",x),T.$$mouseup=w,T.$$mousemove=A,T.$$mousedown=g,T.$$touchend=u,T.$$touchmove=y,T.$$touchstart=f,U(re,P(mc,{})),U($,P(Te,{get when(){return(l()?.length||0)>1},get children(){var S=vl(),k=S.firstChild,b=k.nextSibling,N=b.nextSibling;return ce(Z=>{var q=fe.SwipeHint,R=fe.SwipeArrow,J=fe.SwipeText,Y=fe.SwipeArrow;return q!==Z.e&&G(S,Z.e=q),R!==Z.t&&G(k,Z.t=R),J!==Z.a&&G(b,Z.a=J),Y!==Z.o&&G(N,Z.o=Y),Z},{e:void 0,t:void 0,a:void 0,o:void 0}),S}}),F),U(le,()=>C().location),U(j,()=>C().title),U(O,()=>C().description),U(ee,P(wc,{})),U(Pe,()=>C().audioPreview),U(ve,P(_c,{get class(){return fe.MetaIconStar}}),De),U(De,()=>C().rating),U(Ee,P(lc,{}),Je),U(Je,()=>C().duration),U(qe,P(yc,{}),d),U(d,()=>C().stopCount,L),U(F,P(Qe,{get href(){return`/admin/projects/${C().projectId}/tours/${C().id}`},get class(){return fe.ExploreButton},get children(){return["Explore Tour ",P(ln,{})]}}),null),U(F,P(Te,{get when(){return(l()?.length||0)>1},get children(){var S=_l();return U(S,P(en,{get each(){return l()},children:(k,b)=>(()=>{var N=bl();return N.$$click=()=>{if(!o()){const Z=b()>e()?"left":"right";Math.abs(b()-e())===1?v(Z):n(b())}},ce(()=>G(N,`${fe.Dot} ${b()===e()?fe.DotActive:""}`)),N})()})),ce(()=>G(S,fe.SwipeIndicator)),S}}),null),ce(S=>{var k=fe.TourCard,b={"background-image":C().imageUrl?`url(${C().imageUrl})`:"linear-gradient(135deg, #2d5a27 0%, #1a3518 100%)",...D()},N=fe.CardOverlay,Z=fe.Header,q=fe.BrandLine,R=fe.BrandAccent,J=fe.BrandName,Y=fe.MapButton,V=fe.CardContent,se=fe.LocationLine,ke=fe.LocationAccent,ye=fe.LocationText,He=fe.TourTitle,At=fe.TourDescription,Ve=fe.AudioPreview,bt=fe.AudioButton,Ce=fe.AudioInfo,Tt=fe.AudioLabel,Qt=fe.AudioText,We=fe.TourMeta,tn=fe.MetaItem,Cn=fe.MetaItem,Sn=fe.MetaItem;return k!==S.e&&G(T,S.e=k),S.t=ct(T,b,S.t),N!==S.a&&G($,S.a=N),Z!==S.o&&G(I,S.o=Z),q!==S.i&&G(M,S.i=q),R!==S.n&&G(p,S.n=R),J!==S.s&&G(Q,S.s=J),Y!==S.h&&G(re,S.h=Y),V!==S.r&&G(F,S.r=V),se!==S.d&&G(ue,S.d=se),ke!==S.l&&G(H,S.l=ke),ye!==S.u&&G(le,S.u=ye),He!==S.c&&G(j,S.c=He),At!==S.w&&G(O,S.w=At),Ve!==S.m&&G(ae,S.m=Ve),bt!==S.f&&G(ee,S.f=bt),Ce!==S.y&&G(X,S.y=Ce),Tt!==S.g&&G(Be,S.g=Tt),Qt!==S.p&&G(Pe,S.p=Qt),We!==S.b&&G(ge,S.b=We),tn!==S.T&&G(ve,S.T=tn),Cn!==S.A&&G(Ee,S.A=Cn),Sn!==S.O&&G(qe,S.O=Sn),S},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0}),T})()}),z),U(z,P(Qe,{href:"/",get class(){return`${fe.NavItem} ${fe.NavItemActive}`},get children(){return[P(ir,{}),pl()]}}),null),U(z,P(Qe,{href:"/profile",get class(){return fe.NavItem},get children(){return[P(sr,{}),ml()]}}),null),U(z,P(Qe,{href:"/bundles",get class(){return fe.NavItem},get children(){return[P(hn,{}),gl()]}}),null),ce(C=>{var T=fe.Container,$=fe.BottomNav;return T!==C.e&&G(B,C.e=T),$!==C.t&&G(z,C.t=$),C},{e:void 0,t:void 0}),B})()};Nt(["touchstart","touchmove","touchend","mousedown","mousemove","mouseup","click"]);const kl="_Container_1039z_1",Il="_Content_1039z_8",xl="_Header_1039z_16",El="_Avatar_1039z_21",Bl="_MenuSection_1039z_46",Cl="_MenuItem_1039z_54",Sl="_Chevron_1039z_82",Nl="_LogoutButton_1039z_87",Tl="_BottomNav_1039z_108",Dl="_NavItem_1039z_120",Rl="_NavItemActive_1039z_136",Oe={Container:kl,Content:Il,Header:xl,Avatar:El,MenuSection:Bl,MenuItem:Cl,Chevron:Sl,LogoutButton:Nl,BottomNav:Tl,NavItem:Dl,NavItemActive:Rl};var zl=ie("<span>Admin Panel"),Ol=ie("<span>Discover"),jl=ie("<span>Profile"),Ml=ie("<span>Bundles"),Pl=ie("<div><div><header><div></div><h1>Your Profile</h1><p>Manage your account and preferences</p></header><div><button><span>Downloaded Tours</span></button><button><span>Settings</span></button><button><span>Help & Support</span></button></div><div></div><button><span>Sign Out</span></button></div><nav>");const Ql=()=>(()=>{var t=Pl(),e=t.firstChild,n=e.firstChild,i=n.firstChild,s=n.nextSibling,r=s.firstChild,a=r.firstChild,o=r.nextSibling,c=o.firstChild,l=o.nextSibling,h=l.firstChild,m=s.nextSibling,_=m.nextSibling,f=_.firstChild,y=e.nextSibling;return U(i,P(sr,{})),U(r,P(ps,{}),a),U(r,P(ln,{get class(){return Oe.Chevron}}),null),U(o,P(vc,{}),c),U(o,P(ln,{get class(){return Oe.Chevron}}),null),U(l,P(fc,{}),h),U(l,P(ln,{get class(){return Oe.Chevron}}),null),U(m,P(Qe,{href:"/admin",get class(){return Oe.MenuItem},get children(){return[P(hn,{}),zl(),P(ln,{get class(){return Oe.Chevron}})]}})),U(_,P(pc,{}),f),U(y,P(Qe,{href:"/",get class(){return Oe.NavItem},get children(){return[P(ir,{}),Ol()]}}),null),U(y,P(Qe,{href:"/profile",get class(){return`${Oe.NavItem} ${Oe.NavItemActive}`},get children(){return[P(sr,{}),jl()]}}),null),U(y,P(Qe,{href:"/bundles",get class(){return Oe.NavItem},get children(){return[P(hn,{}),Ml()]}}),null),ce(u=>{var v=Oe.Container,g=Oe.Content,A=Oe.Header,w=Oe.Avatar,x=Oe.MenuSection,E=Oe.MenuItem,D=Oe.MenuItem,B=Oe.MenuItem,z=Oe.MenuSection,C=Oe.LogoutButton,T=Oe.BottomNav;return v!==u.e&&G(t,u.e=v),g!==u.t&&G(e,u.t=g),A!==u.a&&G(n,u.a=A),w!==u.o&&G(i,u.o=w),x!==u.i&&G(s,u.i=x),E!==u.n&&G(r,u.n=E),D!==u.s&&G(o,u.s=D),B!==u.h&&G(l,u.h=B),z!==u.r&&G(m,u.r=z),C!==u.d&&G(_,u.d=C),T!==u.l&&G(y,u.l=T),u},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0}),t})(),Zl="_Container_13yh6_1",Ll="_Content_13yh6_8",Fl="_Header_13yh6_16",$l="_Loading_13yh6_32",Ul="_EmptyState_13yh6_38",ql="_EmptyIcon_13yh6_46",Hl="_DiscoverLink_13yh6_64",Gl="_BundleList_13yh6_76",Jl="_BundleCard_13yh6_82",Vl="_BundleInfo_13yh6_92",Wl="_BundleStatus_13yh6_104",Xl="_StatusIcon_13yh6_112",Kl="_BundleActions_13yh6_116",Yl="_DeleteButton_13yh6_121",ed="_AdminLink_13yh6_135",td="_BottomNav_13yh6_154",nd="_NavItem_13yh6_166",rd="_NavItemActive_13yh6_182",je={Container:Zl,Content:Ll,Header:Fl,Loading:$l,EmptyState:Ul,EmptyIcon:ql,DiscoverLink:Hl,BundleList:Gl,BundleCard:Jl,BundleInfo:Vl,BundleStatus:Wl,StatusIcon:Xl,BundleActions:Kl,DeleteButton:Yl,AdminLink:ed,BottomNav:td,NavItem:nd,NavItemActive:rd};var id=ie("<div>Loading..."),sd=ie("<div><h2>No Bundles Yet</h2><p>Download tours from the Discover page to access them offline."),ad=ie("<div>"),od=ie("<span>Discover"),cd=ie("<span>Profile"),ld=ie("<span>Bundles"),dd=ie("<div><div><header><h1>Your Bundles</h1><p>Downloaded tours ready for offline use</p></header></div><nav>"),ud=ie("<div><div><h3></h3><p> tour</p><div><span>Available offline</span></div></div><div><button>");const hd=()=>{const t=_t(),[e,{refetch:n}]=Et(async()=>await t.listProjects()),i=async(s,r)=>{confirm(`Delete "${r}"? This cannot be undone.`)&&(await t.deleteProject(s),await n())};return(()=>{var s=dd(),r=s.firstChild,a=r.firstChild,o=r.nextSibling;return U(r,P(Te,{get when(){return e.loading},get children(){var c=id();return ce(()=>G(c,je.Loading)),c}}),null),U(r,P(Te,{get when(){return _e(()=>!e.loading)()&&e()?.length===0},get children(){var c=sd(),l=c.firstChild;return l.nextSibling,U(c,P(hn,{get class(){return je.EmptyIcon}}),l),U(c,P(Qe,{href:"/",get class(){return je.DiscoverLink},get children(){return[P(ir,{})," Go to Discover"]}}),null),ce(()=>G(c,je.EmptyState)),c}}),null),U(r,P(Te,{get when(){return _e(()=>!e.loading)()&&(e()?.length||0)>0},get children(){var c=ad();return U(c,P(en,{get each(){return e()},children:l=>(()=>{var h=ud(),m=h.firstChild,_=m.firstChild,f=_.nextSibling,y=f.firstChild,u=f.nextSibling,v=u.firstChild,g=m.nextSibling,A=g.firstChild;return U(_,()=>l.title),U(f,()=>l.tours.length,y),U(f,()=>l.tours.length!==1?"s":"",null),U(u,P(cc,{get class(){return je.StatusIcon}}),v),A.$$click=()=>i(l.id,l.title),U(A,P(Ac,{})),ce(w=>{var x=je.BundleCard,E=je.BundleInfo,D=je.BundleStatus,B=je.BundleActions,z=je.DeleteButton;return x!==w.e&&G(h,w.e=x),E!==w.t&&G(m,w.t=E),D!==w.a&&G(u,w.a=D),B!==w.o&&G(g,w.o=B),z!==w.i&&G(A,w.i=z),w},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),h})()})),ce(()=>G(c,je.BundleList)),c}}),null),U(r,P(Qe,{href:"/admin",get class(){return je.AdminLink},get children(){return[P(dc,{})," Open Admin Panel"]}}),null),U(o,P(Qe,{href:"/",get class(){return je.NavItem},get children(){return[P(ir,{}),od()]}}),null),U(o,P(Qe,{href:"/profile",get class(){return je.NavItem},get children(){return[P(sr,{}),cd()]}}),null),U(o,P(Qe,{href:"/bundles",get class(){return`${je.NavItem} ${je.NavItemActive}`},get children(){return[P(hn,{}),ld()]}}),null),ce(c=>{var l=je.Container,h=je.Content,m=je.Header,_=je.BottomNav;return l!==c.e&&G(s,c.e=l),h!==c.t&&G(r,c.t=h),m!==c.a&&G(a,c.a=m),_!==c.o&&G(o,c.o=_),c},{e:void 0,t:void 0,a:void 0,o:void 0}),s})()};Nt(["click"]);let Pn;const fd=new Uint8Array(16);function pd(){if(!Pn&&(Pn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Pn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Pn(fd)}const Fe=[];for(let t=0;t<256;++t)Fe.push((t+256).toString(16).slice(1));function md(t,e=0){return Fe[t[e+0]]+Fe[t[e+1]]+Fe[t[e+2]]+Fe[t[e+3]]+"-"+Fe[t[e+4]]+Fe[t[e+5]]+"-"+Fe[t[e+6]]+Fe[t[e+7]]+"-"+Fe[t[e+8]]+Fe[t[e+9]]+"-"+Fe[t[e+10]]+Fe[t[e+11]]+Fe[t[e+12]]+Fe[t[e+13]]+Fe[t[e+14]]+Fe[t[e+15]]}const gd=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ii={randomUUID:gd};function ri(t,e,n){if(Ii.randomUUID&&!e&&!t)return Ii.randomUUID();t=t||{};const i=t.random||(t.rng||pd)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){n=n||0;for(let s=0;s<16;++s)e[n+s]=i[s];return e}return md(i)}var Qn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Zn(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ys={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(i,s,r){function a(l,h){if(!s[l]){if(!i[l]){var m=typeof Zn=="function"&&Zn;if(!h&&m)return m(l,!0);if(o)return o(l,!0);var _=new Error("Cannot find module '"+l+"'");throw _.code="MODULE_NOT_FOUND",_}var f=s[l]={exports:{}};i[l][0].call(f.exports,function(y){var u=i[l][1][y];return a(u||y)},f,f.exports,n,i,s,r)}return s[l].exports}for(var o=typeof Zn=="function"&&Zn,c=0;c<r.length;c++)a(r[c]);return a}({1:[function(n,i,s){var r=n("./utils"),a=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(c){for(var l,h,m,_,f,y,u,v=[],g=0,A=c.length,w=A,x=r.getTypeOf(c)!=="string";g<c.length;)w=A-g,m=x?(l=c[g++],h=g<A?c[g++]:0,g<A?c[g++]:0):(l=c.charCodeAt(g++),h=g<A?c.charCodeAt(g++):0,g<A?c.charCodeAt(g++):0),_=l>>2,f=(3&l)<<4|h>>4,y=1<w?(15&h)<<2|m>>6:64,u=2<w?63&m:64,v.push(o.charAt(_)+o.charAt(f)+o.charAt(y)+o.charAt(u));return v.join("")},s.decode=function(c){var l,h,m,_,f,y,u=0,v=0,g="data:";if(c.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var A,w=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===o.charAt(64)&&w--,c.charAt(c.length-2)===o.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(A=a.uint8array?new Uint8Array(0|w):new Array(0|w);u<c.length;)l=o.indexOf(c.charAt(u++))<<2|(_=o.indexOf(c.charAt(u++)))>>4,h=(15&_)<<4|(f=o.indexOf(c.charAt(u++)))>>2,m=(3&f)<<6|(y=o.indexOf(c.charAt(u++))),A[v++]=l,f!==64&&(A[v++]=h),y!==64&&(A[v++]=m);return A}},{"./support":30,"./utils":32}],2:[function(n,i,s){var r=n("./external"),a=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function l(h,m,_,f,y){this.compressedSize=h,this.uncompressedSize=m,this.crc32=_,this.compression=f,this.compressedContent=y}l.prototype={getContentWorker:function(){var h=new a(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),m=this;return h.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new a(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},l.createWorkerFrom=function(h,m,_){return h.pipe(new o).pipe(new c("uncompressedSize")).pipe(m.compressWorker(_)).pipe(new c("compressedSize")).withStreamInfo("compression",m)},i.exports=l},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,i,s){var r=n("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},s.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,i,s){var r=n("./utils"),a=function(){for(var o,c=[],l=0;l<256;l++){o=l;for(var h=0;h<8;h++)o=1&o?3988292384^o>>>1:o>>>1;c[l]=o}return c}();i.exports=function(o,c){return o!==void 0&&o.length?r.getTypeOf(o)!=="string"?function(l,h,m,_){var f=a,y=_+m;l^=-1;for(var u=_;u<y;u++)l=l>>>8^f[255&(l^h[u])];return-1^l}(0|c,o,o.length,0):function(l,h,m,_){var f=a,y=_+m;l^=-1;for(var u=_;u<y;u++)l=l>>>8^f[255&(l^h.charCodeAt(u))];return-1^l}(0|c,o,o.length,0):0}},{"./utils":32}],5:[function(n,i,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(n,i,s){var r=null;r=typeof Promise<"u"?Promise:n("lie"),i.exports={Promise:r}},{lie:37}],7:[function(n,i,s){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=n("pako"),o=n("./utils"),c=n("./stream/GenericWorker"),l=r?"uint8array":"array";function h(m,_){c.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=_,this.meta={}}s.magic="\b\0",o.inherits(h,c),h.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(l,m.data),!1)},h.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(_){m.push({data:_,meta:m.meta})}},s.compressWorker=function(m){return new h("Deflate",m)},s.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,i,s){function r(f,y){var u,v="";for(u=0;u<y;u++)v+=String.fromCharCode(255&f),f>>>=8;return v}function a(f,y,u,v,g,A){var w,x,E=f.file,D=f.compression,B=A!==l.utf8encode,z=o.transformTo("string",A(E.name)),C=o.transformTo("string",l.utf8encode(E.name)),T=E.comment,$=o.transformTo("string",A(T)),I=o.transformTo("string",l.utf8encode(T)),M=C.length!==E.name.length,p=I.length!==T.length,Q="",re="",F="",ue=E.dir,H=E.date,le={crc32:0,compressedSize:0,uncompressedSize:0};y&&!u||(le.crc32=f.crc32,le.compressedSize=f.compressedSize,le.uncompressedSize=f.uncompressedSize);var j=0;y&&(j|=8),B||!M&&!p||(j|=2048);var O=0,ae=0;ue&&(O|=16),g==="UNIX"?(ae=798,O|=function(X,Be){var Pe=X;return X||(Pe=Be?16893:33204),(65535&Pe)<<16}(E.unixPermissions,ue)):(ae=20,O|=function(X){return 63&(X||0)}(E.dosPermissions)),w=H.getUTCHours(),w<<=6,w|=H.getUTCMinutes(),w<<=5,w|=H.getUTCSeconds()/2,x=H.getUTCFullYear()-1980,x<<=4,x|=H.getUTCMonth()+1,x<<=5,x|=H.getUTCDate(),M&&(re=r(1,1)+r(h(z),4)+C,Q+="up"+r(re.length,2)+re),p&&(F=r(1,1)+r(h($),4)+I,Q+="uc"+r(F.length,2)+F);var ee="";return ee+=`
\0`,ee+=r(j,2),ee+=D.magic,ee+=r(w,2),ee+=r(x,2),ee+=r(le.crc32,4),ee+=r(le.compressedSize,4),ee+=r(le.uncompressedSize,4),ee+=r(z.length,2),ee+=r(Q.length,2),{fileRecord:m.LOCAL_FILE_HEADER+ee+z+Q,dirRecord:m.CENTRAL_FILE_HEADER+r(ae,2)+ee+r($.length,2)+"\0\0\0\0"+r(O,4)+r(v,4)+z+Q+$}}var o=n("../utils"),c=n("../stream/GenericWorker"),l=n("../utf8"),h=n("../crc32"),m=n("../signature");function _(f,y,u,v){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=u,this.encodeFileName=v,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(_,c),_.prototype.push=function(f){var y=f.meta.percent||0,u=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,c.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:u?(y+100*(u-v-1))/u:100}}))},_.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var y=this.streamFiles&&!f.file.dir;if(y){var u=a(f,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:u.fileRecord,meta:{percent:0}})}else this.accumulate=!0},_.prototype.closedSource=function(f){this.accumulate=!1;var y=this.streamFiles&&!f.file.dir,u=a(f,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(u.dirRecord),y)this.push({data:function(v){return m.DATA_DESCRIPTOR+r(v.crc32,4)+r(v.compressedSize,4)+r(v.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:u.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},_.prototype.flush=function(){for(var f=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var u=this.bytesWritten-f,v=function(g,A,w,x,E){var D=o.transformTo("string",E(x));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(g,2)+r(g,2)+r(A,4)+r(w,4)+r(D.length,2)+D}(this.dirRecords.length,u,f,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},_.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},_.prototype.registerPrevious=function(f){this._sources.push(f);var y=this;return f.on("data",function(u){y.processChunk(u)}),f.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),f.on("error",function(u){y.error(u)}),this},_.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},_.prototype.error=function(f){var y=this._sources;if(!c.prototype.error.call(this,f))return!1;for(var u=0;u<y.length;u++)try{y[u].error(f)}catch{}return!0},_.prototype.lock=function(){c.prototype.lock.call(this);for(var f=this._sources,y=0;y<f.length;y++)f[y].lock()},i.exports=_},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,i,s){var r=n("../compressions"),a=n("./ZipFileWorker");s.generateWorker=function(o,c,l){var h=new a(c.streamFiles,l,c.platform,c.encodeFileName),m=0;try{o.forEach(function(_,f){m++;var y=function(A,w){var x=A||w,E=r[x];if(!E)throw new Error(x+" is not a valid compression method !");return E}(f.options.compression,c.compression),u=f.options.compressionOptions||c.compressionOptions||{},v=f.dir,g=f.date;f._compressWorker(y,u).withStreamInfo("file",{name:_,dir:v,date:g,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(h)}),h.entriesCount=m}catch(_){h.error(_)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,i,s){function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new r;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(r.prototype=n("./object")).loadAsync=n("./load"),r.support=n("./support"),r.defaults=n("./defaults"),r.version="3.10.1",r.loadAsync=function(a,o){return new r().loadAsync(a,o)},r.external=n("./external"),i.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,i,s){var r=n("./utils"),a=n("./external"),o=n("./utf8"),c=n("./zipEntries"),l=n("./stream/Crc32Probe"),h=n("./nodejsUtils");function m(_){return new a.Promise(function(f,y){var u=_.decompressed.getContentWorker().pipe(new l);u.on("error",function(v){y(v)}).on("end",function(){u.streamInfo.crc32!==_.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}i.exports=function(_,f){var y=this;return f=r.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),h.isNode&&h.isStream(_)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",_,!0,f.optimizedBinaryString,f.base64).then(function(u){var v=new c(f);return v.load(u),v}).then(function(u){var v=[a.Promise.resolve(u)],g=u.files;if(f.checkCRC32)for(var A=0;A<g.length;A++)v.push(m(g[A]));return a.Promise.all(v)}).then(function(u){for(var v=u.shift(),g=v.files,A=0;A<g.length;A++){var w=g[A],x=w.fileNameStr,E=r.resolve(w.fileNameStr);y.file(E,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:f.createFolders}),w.dir||(y.file(E).unsafeOriginalName=x)}return v.zipComment.length&&(y.comment=v.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,i,s){var r=n("../utils"),a=n("../stream/GenericWorker");function o(c,l){a.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(l)}r.inherits(o,a),o.prototype._bindStream=function(c){var l=this;(this._stream=c).pause(),c.on("data",function(h){l.push({data:h,meta:{percent:0}})}).on("error",function(h){l.isPaused?this.generatedError=h:l.error(h)}).on("end",function(){l.isPaused?l._upstreamEnded=!0:l.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,i,s){var r=n("readable-stream").Readable;function a(o,c,l){r.call(this,c),this._helper=o;var h=this;o.on("data",function(m,_){h.push(m)||h._helper.pause(),l&&l(_)}).on("error",function(m){h.emit("error",m)}).on("end",function(){h.push(null)})}n("../utils").inherits(a,r),a.prototype._read=function(){this._helper.resume()},i.exports=a},{"../utils":32,"readable-stream":16}],14:[function(n,i,s){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(r,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(r,a);if(typeof r=="number")throw new Error('The "data" argument must not be a number');return new Buffer(r,a)},allocBuffer:function(r){if(Buffer.alloc)return Buffer.alloc(r);var a=new Buffer(r);return a.fill(0),a},isBuffer:function(r){return Buffer.isBuffer(r)},isStream:function(r){return r&&typeof r.on=="function"&&typeof r.pause=="function"&&typeof r.resume=="function"}}},{}],15:[function(n,i,s){function r(E,D,B){var z,C=o.getTypeOf(D),T=o.extend(B||{},h);T.date=T.date||new Date,T.compression!==null&&(T.compression=T.compression.toUpperCase()),typeof T.unixPermissions=="string"&&(T.unixPermissions=parseInt(T.unixPermissions,8)),T.unixPermissions&&16384&T.unixPermissions&&(T.dir=!0),T.dosPermissions&&16&T.dosPermissions&&(T.dir=!0),T.dir&&(E=g(E)),T.createFolders&&(z=v(E))&&A.call(this,z,!0);var $=C==="string"&&T.binary===!1&&T.base64===!1;B&&B.binary!==void 0||(T.binary=!$),(D instanceof m&&D.uncompressedSize===0||T.dir||!D||D.length===0)&&(T.base64=!1,T.binary=!0,D="",T.compression="STORE",C="string");var I=null;I=D instanceof m||D instanceof c?D:y.isNode&&y.isStream(D)?new u(E,D):o.prepareContent(E,D,T.binary,T.optimizedBinaryString,T.base64);var M=new _(E,I,T);this.files[E]=M}var a=n("./utf8"),o=n("./utils"),c=n("./stream/GenericWorker"),l=n("./stream/StreamHelper"),h=n("./defaults"),m=n("./compressedObject"),_=n("./zipObject"),f=n("./generate"),y=n("./nodejsUtils"),u=n("./nodejs/NodejsStreamInputAdapter"),v=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var D=E.lastIndexOf("/");return 0<D?E.substring(0,D):""},g=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},A=function(E,D){return D=D!==void 0?D:h.createFolders,E=g(E),this.files[E]||r.call(this,E,null,{dir:!0,createFolders:D}),this.files[E]};function w(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var D,B,z;for(D in this.files)z=this.files[D],(B=D.slice(this.root.length,D.length))&&D.slice(0,this.root.length)===this.root&&E(B,z)},filter:function(E){var D=[];return this.forEach(function(B,z){E(B,z)&&D.push(z)}),D},file:function(E,D,B){if(arguments.length!==1)return E=this.root+E,r.call(this,E,D,B),this;if(w(E)){var z=E;return this.filter(function(T,$){return!$.dir&&z.test(T)})}var C=this.files[this.root+E];return C&&!C.dir?C:null},folder:function(E){if(!E)return this;if(w(E))return this.filter(function(C,T){return T.dir&&E.test(C)});var D=this.root+E,B=A.call(this,D),z=this.clone();return z.root=B.name,z},remove:function(E){E=this.root+E;var D=this.files[E];if(D||(E.slice(-1)!=="/"&&(E+="/"),D=this.files[E]),D&&!D.dir)delete this.files[E];else for(var B=this.filter(function(C,T){return T.name.slice(0,E.length)===E}),z=0;z<B.length;z++)delete this.files[B[z].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var D,B={};try{if((B=o.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=B.type.toLowerCase(),B.compression=B.compression.toUpperCase(),B.type==="binarystring"&&(B.type="string"),!B.type)throw new Error("No output type specified.");o.checkSupport(B.type),B.platform!=="darwin"&&B.platform!=="freebsd"&&B.platform!=="linux"&&B.platform!=="sunos"||(B.platform="UNIX"),B.platform==="win32"&&(B.platform="DOS");var z=B.comment||this.comment||"";D=f.generateWorker(this,B,z)}catch(C){(D=new c("error")).error(C)}return new l(D,B.type||"string",B.mimeType)},generateAsync:function(E,D){return this.generateInternalStream(E).accumulate(D)},generateNodeStream:function(E,D){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(D)}};i.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,i,s){i.exports=n("stream")},{stream:void 0}],17:[function(n,i,s){var r=n("./DataReader");function a(o){r.call(this,o);for(var c=0;c<this.data.length;c++)o[c]=255&o[c]}n("../utils").inherits(a,r),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var c=o.charCodeAt(0),l=o.charCodeAt(1),h=o.charCodeAt(2),m=o.charCodeAt(3),_=this.length-4;0<=_;--_)if(this.data[_]===c&&this.data[_+1]===l&&this.data[_+2]===h&&this.data[_+3]===m)return _-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var c=o.charCodeAt(0),l=o.charCodeAt(1),h=o.charCodeAt(2),m=o.charCodeAt(3),_=this.readData(4);return c===_[0]&&l===_[1]&&h===_[2]&&m===_[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},i.exports=a},{"../utils":32,"./DataReader":18}],18:[function(n,i,s){var r=n("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var c,l=0;for(this.checkOffset(o),c=this.index+o-1;c>=this.index;c--)l=(l<<8)+this.byteAt(c);return this.index+=o,l},readString:function(o){return r.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},i.exports=a},{"../utils":32}],19:[function(n,i,s){var r=n("./Uint8ArrayReader");function a(o){r.call(this,o)}n("../utils").inherits(a,r),a.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},i.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,i,s){var r=n("./DataReader");function a(o){r.call(this,o)}n("../utils").inherits(a,r),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},i.exports=a},{"../utils":32,"./DataReader":18}],21:[function(n,i,s){var r=n("./ArrayReader");function a(o){r.call(this,o)}n("../utils").inherits(a,r),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},i.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(n,i,s){var r=n("../utils"),a=n("../support"),o=n("./ArrayReader"),c=n("./StringReader"),l=n("./NodeBufferReader"),h=n("./Uint8ArrayReader");i.exports=function(m){var _=r.getTypeOf(m);return r.checkSupport(_),_!=="string"||a.uint8array?_==="nodebuffer"?new l(m):a.uint8array?new h(r.transformTo("uint8array",m)):new o(r.transformTo("array",m)):new c(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,i,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,i,s){var r=n("./GenericWorker"),a=n("../utils");function o(c){r.call(this,"ConvertWorker to "+c),this.destType=c}a.inherits(o,r),o.prototype.processChunk=function(c){this.push({data:a.transformTo(this.destType,c.data),meta:c.meta})},i.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,i,s){var r=n("./GenericWorker"),a=n("../crc32");function o(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,r),o.prototype.processChunk=function(c){this.streamInfo.crc32=a(c.data,this.streamInfo.crc32||0),this.push(c)},i.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,i,s){var r=n("../utils"),a=n("./GenericWorker");function o(c){a.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}r.inherits(o,a),o.prototype.processChunk=function(c){if(c){var l=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=l+c.data.length}a.prototype.processChunk.call(this,c)},i.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,i,s){var r=n("../utils"),a=n("./GenericWorker");function o(c){a.call(this,"DataWorker");var l=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(h){l.dataIsReady=!0,l.data=h,l.max=h&&h.length||0,l.type=r.getTypeOf(h),l.isPaused||l._tickAndRepeat()},function(h){l.error(h)})}r.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,l=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,l);break;case"uint8array":c=this.data.subarray(this.index,l);break;case"array":case"nodebuffer":c=this.data.slice(this.index,l)}return this.index=l,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,i,s){function r(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var c=0;c<this._listeners[a].length;c++)this._listeners[a][c].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(c){o.processChunk(c)}),a.on("end",function(){o.end()}),a.on("error",function(c){o.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},i.exports=r},{}],29:[function(n,i,s){var r=n("../utils"),a=n("./ConvertWorker"),o=n("./GenericWorker"),c=n("../base64"),l=n("../support"),h=n("../external"),m=null;if(l.nodestream)try{m=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function _(y,u){return new h.Promise(function(v,g){var A=[],w=y._internalType,x=y._outputType,E=y._mimeType;y.on("data",function(D,B){A.push(D),u&&u(B)}).on("error",function(D){A=[],g(D)}).on("end",function(){try{var D=function(B,z,C){switch(B){case"blob":return r.newBlob(r.transformTo("arraybuffer",z),C);case"base64":return c.encode(z);default:return r.transformTo(B,z)}}(x,function(B,z){var C,T=0,$=null,I=0;for(C=0;C<z.length;C++)I+=z[C].length;switch(B){case"string":return z.join("");case"array":return Array.prototype.concat.apply([],z);case"uint8array":for($=new Uint8Array(I),C=0;C<z.length;C++)$.set(z[C],T),T+=z[C].length;return $;case"nodebuffer":return Buffer.concat(z);default:throw new Error("concat : unsupported type '"+B+"'")}}(w,A),E);v(D)}catch(B){g(B)}A=[]}).resume()})}function f(y,u,v){var g=u;switch(u){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=u,this._mimeType=v,r.checkSupport(g),this._worker=y.pipe(new a(g)),y.lock()}catch(A){this._worker=new o("error"),this._worker.error(A)}}f.prototype={accumulate:function(y){return _(this,y)},on:function(y,u){var v=this;return y==="data"?this._worker.on(y,function(g){u.call(v,g.data,g.meta)}):this._worker.on(y,function(){r.delay(u,arguments,v)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(r.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},y)}},i.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,i,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var r=new ArrayBuffer(0);try{s.blob=new Blob([r],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(r),s.blob=a.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!n("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(n,i,s){for(var r=n("./utils"),a=n("./support"),o=n("./nodejsUtils"),c=n("./stream/GenericWorker"),l=new Array(256),h=0;h<256;h++)l[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;l[254]=l[254]=1;function m(){c.call(this,"utf-8 decode"),this.leftOver=null}function _(){c.call(this,"utf-8 encode")}s.utf8encode=function(f){return a.nodebuffer?o.newBufferFrom(f,"utf-8"):function(y){var u,v,g,A,w,x=y.length,E=0;for(A=0;A<x;A++)(64512&(v=y.charCodeAt(A)))==55296&&A+1<x&&(64512&(g=y.charCodeAt(A+1)))==56320&&(v=65536+(v-55296<<10)+(g-56320),A++),E+=v<128?1:v<2048?2:v<65536?3:4;for(u=a.uint8array?new Uint8Array(E):new Array(E),A=w=0;w<E;A++)(64512&(v=y.charCodeAt(A)))==55296&&A+1<x&&(64512&(g=y.charCodeAt(A+1)))==56320&&(v=65536+(v-55296<<10)+(g-56320),A++),v<128?u[w++]=v:(v<2048?u[w++]=192|v>>>6:(v<65536?u[w++]=224|v>>>12:(u[w++]=240|v>>>18,u[w++]=128|v>>>12&63),u[w++]=128|v>>>6&63),u[w++]=128|63&v);return u}(f)},s.utf8decode=function(f){return a.nodebuffer?r.transformTo("nodebuffer",f).toString("utf-8"):function(y){var u,v,g,A,w=y.length,x=new Array(2*w);for(u=v=0;u<w;)if((g=y[u++])<128)x[v++]=g;else if(4<(A=l[g]))x[v++]=65533,u+=A-1;else{for(g&=A===2?31:A===3?15:7;1<A&&u<w;)g=g<<6|63&y[u++],A--;1<A?x[v++]=65533:g<65536?x[v++]=g:(g-=65536,x[v++]=55296|g>>10&1023,x[v++]=56320|1023&g)}return x.length!==v&&(x.subarray?x=x.subarray(0,v):x.length=v),r.applyFromCharCode(x)}(f=r.transformTo(a.uint8array?"uint8array":"array",f))},r.inherits(m,c),m.prototype.processChunk=function(f){var y=r.transformTo(a.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var u=y;(y=new Uint8Array(u.length+this.leftOver.length)).set(this.leftOver,0),y.set(u,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var v=function(A,w){var x;for((w=w||A.length)>A.length&&(w=A.length),x=w-1;0<=x&&(192&A[x])==128;)x--;return x<0||x===0?w:x+l[A[x]]>w?x:w}(y),g=y;v!==y.length&&(a.uint8array?(g=y.subarray(0,v),this.leftOver=y.subarray(v,y.length)):(g=y.slice(0,v),this.leftOver=y.slice(v,y.length))),this.push({data:s.utf8decode(g),meta:f.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=m,r.inherits(_,c),_.prototype.processChunk=function(f){this.push({data:s.utf8encode(f.data),meta:f.meta})},s.Utf8EncodeWorker=_},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,i,s){var r=n("./support"),a=n("./base64"),o=n("./nodejsUtils"),c=n("./external");function l(u){return u}function h(u,v){for(var g=0;g<u.length;++g)v[g]=255&u.charCodeAt(g);return v}n("setimmediate"),s.newBlob=function(u,v){s.checkSupport("blob");try{return new Blob([u],{type:v})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(u),g.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(u,v,g){var A=[],w=0,x=u.length;if(x<=g)return String.fromCharCode.apply(null,u);for(;w<x;)v==="array"||v==="nodebuffer"?A.push(String.fromCharCode.apply(null,u.slice(w,Math.min(w+g,x)))):A.push(String.fromCharCode.apply(null,u.subarray(w,Math.min(w+g,x)))),w+=g;return A.join("")},stringifyByChar:function(u){for(var v="",g=0;g<u.length;g++)v+=String.fromCharCode(u[g]);return v},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function _(u){var v=65536,g=s.getTypeOf(u),A=!0;if(g==="uint8array"?A=m.applyCanBeUsed.uint8array:g==="nodebuffer"&&(A=m.applyCanBeUsed.nodebuffer),A)for(;1<v;)try{return m.stringifyByChunk(u,g,v)}catch{v=Math.floor(v/2)}return m.stringifyByChar(u)}function f(u,v){for(var g=0;g<u.length;g++)v[g]=u[g];return v}s.applyFromCharCode=_;var y={};y.string={string:l,array:function(u){return h(u,new Array(u.length))},arraybuffer:function(u){return y.string.uint8array(u).buffer},uint8array:function(u){return h(u,new Uint8Array(u.length))},nodebuffer:function(u){return h(u,o.allocBuffer(u.length))}},y.array={string:_,array:l,arraybuffer:function(u){return new Uint8Array(u).buffer},uint8array:function(u){return new Uint8Array(u)},nodebuffer:function(u){return o.newBufferFrom(u)}},y.arraybuffer={string:function(u){return _(new Uint8Array(u))},array:function(u){return f(new Uint8Array(u),new Array(u.byteLength))},arraybuffer:l,uint8array:function(u){return new Uint8Array(u)},nodebuffer:function(u){return o.newBufferFrom(new Uint8Array(u))}},y.uint8array={string:_,array:function(u){return f(u,new Array(u.length))},arraybuffer:function(u){return u.buffer},uint8array:l,nodebuffer:function(u){return o.newBufferFrom(u)}},y.nodebuffer={string:_,array:function(u){return f(u,new Array(u.length))},arraybuffer:function(u){return y.nodebuffer.uint8array(u).buffer},uint8array:function(u){return f(u,new Uint8Array(u.length))},nodebuffer:l},s.transformTo=function(u,v){if(v=v||"",!u)return v;s.checkSupport(u);var g=s.getTypeOf(v);return y[g][u](v)},s.resolve=function(u){for(var v=u.split("/"),g=[],A=0;A<v.length;A++){var w=v[A];w==="."||w===""&&A!==0&&A!==v.length-1||(w===".."?g.pop():g.push(w))}return g.join("/")},s.getTypeOf=function(u){return typeof u=="string"?"string":Object.prototype.toString.call(u)==="[object Array]"?"array":r.nodebuffer&&o.isBuffer(u)?"nodebuffer":r.uint8array&&u instanceof Uint8Array?"uint8array":r.arraybuffer&&u instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(u){if(!r[u.toLowerCase()])throw new Error(u+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(u){var v,g,A="";for(g=0;g<(u||"").length;g++)A+="\\x"+((v=u.charCodeAt(g))<16?"0":"")+v.toString(16).toUpperCase();return A},s.delay=function(u,v,g){setImmediate(function(){u.apply(g||null,v||[])})},s.inherits=function(u,v){function g(){}g.prototype=v.prototype,u.prototype=new g},s.extend=function(){var u,v,g={};for(u=0;u<arguments.length;u++)for(v in arguments[u])Object.prototype.hasOwnProperty.call(arguments[u],v)&&g[v]===void 0&&(g[v]=arguments[u][v]);return g},s.prepareContent=function(u,v,g,A,w){return c.Promise.resolve(v).then(function(x){return r.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader<"u"?new c.Promise(function(E,D){var B=new FileReader;B.onload=function(z){E(z.target.result)},B.onerror=function(z){D(z.target.error)},B.readAsArrayBuffer(x)}):x}).then(function(x){var E=s.getTypeOf(x);return E?(E==="arraybuffer"?x=s.transformTo("uint8array",x):E==="string"&&(w?x=a.decode(x):g&&A!==!0&&(x=function(D){return h(D,r.uint8array?new Uint8Array(D.length):new Array(D.length))}(x))),x):c.Promise.reject(new Error("Can't read the data of '"+u+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,i,s){var r=n("./reader/readerFor"),a=n("./utils"),o=n("./signature"),c=n("./zipEntry"),l=n("./support");function h(m){this.files=[],this.loadOptions=m}h.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var _=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(_)+", expected "+a.pretty(m)+")")}},isSignature:function(m,_){var f=this.reader.index;this.reader.setIndex(m);var y=this.reader.readString(4)===_;return this.reader.setIndex(f),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),_=l.uint8array?"uint8array":"array",f=a.transformTo(_,m);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,_,f,y=this.zip64EndOfCentralSize-44;0<y;)m=this.reader.readInt(2),_=this.reader.readInt(4),f=this.reader.readData(_),this.zip64ExtensibleData[m]={id:m,length:_,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,_;for(m=0;m<this.files.length;m++)_=this.files[m],this.reader.setIndex(_.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),_.readLocalPart(this.reader),_.handleUTF8(),_.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(m=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var _=m;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var y=_-f;if(0<y)this.isSignature(_,o.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(m){this.reader=r(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,i,s){var r=n("./reader/readerFor"),a=n("./utils"),o=n("./compressedObject"),c=n("./crc32"),l=n("./utf8"),h=n("./compressions"),m=n("./support");function _(f,y){this.options=f,this.loadOptions=y}_.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var y,u;if(f.skip(22),this.fileNameLength=f.readInt(2),u=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(u),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=function(v){for(var g in h)if(Object.prototype.hasOwnProperty.call(h,g)&&h[g].magic===v)return h[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,y,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var y=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(y),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=r(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var y,u,v,g=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<g;)y=f.readInt(2),u=f.readInt(2),v=f.readData(u),this.extraFields[y]={id:y,length:u,value:v};f.setIndex(g)},handleUTF8:function(){var f=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var u=a.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(u)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var g=a.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var y=r(f.value);return y.readInt(1)!==1||c(this.fileName)!==y.readInt(4)?null:l.utf8decode(y.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var y=r(f.value);return y.readInt(1)!==1||c(this.fileComment)!==y.readInt(4)?null:l.utf8decode(y.readData(f.length-5))}return null}},i.exports=_},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,i,s){function r(y,u,v){this.name=y,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=u,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var a=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),c=n("./utf8"),l=n("./compressedObject"),h=n("./stream/GenericWorker");r.prototype={internalStream:function(y){var u=null,v="string";try{if(!y)throw new Error("No output type specified.");var g=(v=y.toLowerCase())==="string"||v==="text";v!=="binarystring"&&v!=="text"||(v="string"),u=this._decompressWorker();var A=!this._dataBinary;A&&!g&&(u=u.pipe(new c.Utf8EncodeWorker)),!A&&g&&(u=u.pipe(new c.Utf8DecodeWorker))}catch(w){(u=new h("error")).error(w)}return new a(u,v,"")},async:function(y,u){return this.internalStream(y).accumulate(u)},nodeStream:function(y,u){return this.internalStream(y||"nodebuffer").toNodejsStream(u)},_compressWorker:function(y,u){if(this._data instanceof l&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new c.Utf8EncodeWorker)),l.createWorkerFrom(v,y,u)},_decompressWorker:function(){return this._data instanceof l?this._data.getContentWorker():this._data instanceof h?this._data:new o(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],_=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<m.length;f++)r.prototype[m[f]]=_;i.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,i,s){(function(r){var a,o,c=r.MutationObserver||r.WebKitMutationObserver;if(c){var l=0,h=new c(y),m=r.document.createTextNode("");h.observe(m,{characterData:!0}),a=function(){m.data=l=++l%2}}else if(r.setImmediate||r.MessageChannel===void 0)a="document"in r&&"onreadystatechange"in r.document.createElement("script")?function(){var u=r.document.createElement("script");u.onreadystatechange=function(){y(),u.onreadystatechange=null,u.parentNode.removeChild(u),u=null},r.document.documentElement.appendChild(u)}:function(){setTimeout(y,0)};else{var _=new r.MessageChannel;_.port1.onmessage=y,a=function(){_.port2.postMessage(0)}}var f=[];function y(){var u,v;o=!0;for(var g=f.length;g;){for(v=f,f=[],u=-1;++u<g;)v[u]();g=f.length}o=!1}i.exports=function(u){f.push(u)!==1||o||a()}}).call(this,typeof Qn<"u"?Qn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,i,s){var r=n("immediate");function a(){}var o={},c=["REJECTED"],l=["FULFILLED"],h=["PENDING"];function m(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,g!==a&&u(this,g)}function _(g,A,w){this.promise=g,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function f(g,A,w){r(function(){var x;try{x=A(w)}catch(E){return o.reject(g,E)}x===g?o.reject(g,new TypeError("Cannot resolve promise with itself")):o.resolve(g,x)})}function y(g){var A=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof A=="function")return function(){A.apply(g,arguments)}}function u(g,A){var w=!1;function x(B){w||(w=!0,o.reject(g,B))}function E(B){w||(w=!0,o.resolve(g,B))}var D=v(function(){A(E,x)});D.status==="error"&&x(D.value)}function v(g,A){var w={};try{w.value=g(A),w.status="success"}catch(x){w.status="error",w.value=x}return w}(i.exports=m).prototype.finally=function(g){if(typeof g!="function")return this;var A=this.constructor;return this.then(function(w){return A.resolve(g()).then(function(){return w})},function(w){return A.resolve(g()).then(function(){throw w})})},m.prototype.catch=function(g){return this.then(null,g)},m.prototype.then=function(g,A){if(typeof g!="function"&&this.state===l||typeof A!="function"&&this.state===c)return this;var w=new this.constructor(a);return this.state!==h?f(w,this.state===l?g:A,this.outcome):this.queue.push(new _(w,g,A)),w},_.prototype.callFulfilled=function(g){o.resolve(this.promise,g)},_.prototype.otherCallFulfilled=function(g){f(this.promise,this.onFulfilled,g)},_.prototype.callRejected=function(g){o.reject(this.promise,g)},_.prototype.otherCallRejected=function(g){f(this.promise,this.onRejected,g)},o.resolve=function(g,A){var w=v(y,A);if(w.status==="error")return o.reject(g,w.value);var x=w.value;if(x)u(g,x);else{g.state=l,g.outcome=A;for(var E=-1,D=g.queue.length;++E<D;)g.queue[E].callFulfilled(A)}return g},o.reject=function(g,A){g.state=c,g.outcome=A;for(var w=-1,x=g.queue.length;++w<x;)g.queue[w].callRejected(A);return g},m.resolve=function(g){return g instanceof this?g:o.resolve(new this(a),g)},m.reject=function(g){var A=new this(a);return o.reject(A,g)},m.all=function(g){var A=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=g.length,x=!1;if(!w)return this.resolve([]);for(var E=new Array(w),D=0,B=-1,z=new this(a);++B<w;)C(g[B],B);return z;function C(T,$){A.resolve(T).then(function(I){E[$]=I,++D!==w||x||(x=!0,o.resolve(z,E))},function(I){x||(x=!0,o.reject(z,I))})}},m.race=function(g){var A=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=g.length,x=!1;if(!w)return this.resolve([]);for(var E=-1,D=new this(a);++E<w;)B=g[E],A.resolve(B).then(function(z){x||(x=!0,o.resolve(D,z))},function(z){x||(x=!0,o.reject(D,z))});var B;return D}},{immediate:36}],38:[function(n,i,s){var r={};(0,n("./lib/utils/common").assign)(r,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),i.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,i,s){var r=n("./zlib/deflate"),a=n("./utils/common"),o=n("./utils/strings"),c=n("./zlib/messages"),l=n("./zlib/zstream"),h=Object.prototype.toString,m=0,_=-1,f=0,y=8;function u(g){if(!(this instanceof u))return new u(g);this.options=a.assign({level:_,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},g||{});var A=this.options;A.raw&&0<A.windowBits?A.windowBits=-A.windowBits:A.gzip&&0<A.windowBits&&A.windowBits<16&&(A.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var w=r.deflateInit2(this.strm,A.level,A.method,A.windowBits,A.memLevel,A.strategy);if(w!==m)throw new Error(c[w]);if(A.header&&r.deflateSetHeader(this.strm,A.header),A.dictionary){var x;if(x=typeof A.dictionary=="string"?o.string2buf(A.dictionary):h.call(A.dictionary)==="[object ArrayBuffer]"?new Uint8Array(A.dictionary):A.dictionary,(w=r.deflateSetDictionary(this.strm,x))!==m)throw new Error(c[w]);this._dict_set=!0}}function v(g,A){var w=new u(A);if(w.push(g,!0),w.err)throw w.msg||c[w.err];return w.result}u.prototype.push=function(g,A){var w,x,E=this.strm,D=this.options.chunkSize;if(this.ended)return!1;x=A===~~A?A:A===!0?4:0,typeof g=="string"?E.input=o.string2buf(g):h.call(g)==="[object ArrayBuffer]"?E.input=new Uint8Array(g):E.input=g,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new a.Buf8(D),E.next_out=0,E.avail_out=D),(w=r.deflate(E,x))!==1&&w!==m)return this.onEnd(w),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(E.output,E.next_out))):this.onData(a.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&w!==1);return x===4?(w=r.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===m):x!==2||(this.onEnd(m),!(E.avail_out=0))},u.prototype.onData=function(g){this.chunks.push(g)},u.prototype.onEnd=function(g){g===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},s.Deflate=u,s.deflate=v,s.deflateRaw=function(g,A){return(A=A||{}).raw=!0,v(g,A)},s.gzip=function(g,A){return(A=A||{}).gzip=!0,v(g,A)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,i,s){var r=n("./zlib/inflate"),a=n("./utils/common"),o=n("./utils/strings"),c=n("./zlib/constants"),l=n("./zlib/messages"),h=n("./zlib/zstream"),m=n("./zlib/gzheader"),_=Object.prototype.toString;function f(u){if(!(this instanceof f))return new f(u);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},u||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||u&&u.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&!(15&v.windowBits)&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var g=r.inflateInit2(this.strm,v.windowBits);if(g!==c.Z_OK)throw new Error(l[g]);this.header=new m,r.inflateGetHeader(this.strm,this.header)}function y(u,v){var g=new f(v);if(g.push(u,!0),g.err)throw g.msg||l[g.err];return g.result}f.prototype.push=function(u,v){var g,A,w,x,E,D,B=this.strm,z=this.options.chunkSize,C=this.options.dictionary,T=!1;if(this.ended)return!1;A=v===~~v?v:v===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof u=="string"?B.input=o.binstring2buf(u):_.call(u)==="[object ArrayBuffer]"?B.input=new Uint8Array(u):B.input=u,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new a.Buf8(z),B.next_out=0,B.avail_out=z),(g=r.inflate(B,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&C&&(D=typeof C=="string"?o.string2buf(C):_.call(C)==="[object ArrayBuffer]"?new Uint8Array(C):C,g=r.inflateSetDictionary(this.strm,D)),g===c.Z_BUF_ERROR&&T===!0&&(g=c.Z_OK,T=!1),g!==c.Z_STREAM_END&&g!==c.Z_OK)return this.onEnd(g),!(this.ended=!0);B.next_out&&(B.avail_out!==0&&g!==c.Z_STREAM_END&&(B.avail_in!==0||A!==c.Z_FINISH&&A!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=o.utf8border(B.output,B.next_out),x=B.next_out-w,E=o.buf2string(B.output,w),B.next_out=x,B.avail_out=z-x,x&&a.arraySet(B.output,B.output,w,x,0),this.onData(E)):this.onData(a.shrinkBuf(B.output,B.next_out)))),B.avail_in===0&&B.avail_out===0&&(T=!0)}while((0<B.avail_in||B.avail_out===0)&&g!==c.Z_STREAM_END);return g===c.Z_STREAM_END&&(A=c.Z_FINISH),A===c.Z_FINISH?(g=r.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===c.Z_OK):A!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(B.avail_out=0))},f.prototype.onData=function(u){this.chunks.push(u)},f.prototype.onEnd=function(u){u===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg},s.Inflate=f,s.inflate=y,s.inflateRaw=function(u,v){return(v=v||{}).raw=!0,y(u,v)},s.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,i,s){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(c){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var h=l.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var m in h)h.hasOwnProperty(m)&&(c[m]=h[m])}}return c},s.shrinkBuf=function(c,l){return c.length===l?c:c.subarray?c.subarray(0,l):(c.length=l,c)};var a={arraySet:function(c,l,h,m,_){if(l.subarray&&c.subarray)c.set(l.subarray(h,h+m),_);else for(var f=0;f<m;f++)c[_+f]=l[h+f]},flattenChunks:function(c){var l,h,m,_,f,y;for(l=m=0,h=c.length;l<h;l++)m+=c[l].length;for(y=new Uint8Array(m),l=_=0,h=c.length;l<h;l++)f=c[l],y.set(f,_),_+=f.length;return y}},o={arraySet:function(c,l,h,m,_){for(var f=0;f<m;f++)c[_+f]=l[h+f]},flattenChunks:function(c){return[].concat.apply([],c)}};s.setTyped=function(c){c?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,a)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,o))},s.setTyped(r)},{}],42:[function(n,i,s){var r=n("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var c=new r.Buf8(256),l=0;l<256;l++)c[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function h(m,_){if(_<65537&&(m.subarray&&o||!m.subarray&&a))return String.fromCharCode.apply(null,r.shrinkBuf(m,_));for(var f="",y=0;y<_;y++)f+=String.fromCharCode(m[y]);return f}c[254]=c[254]=1,s.string2buf=function(m){var _,f,y,u,v,g=m.length,A=0;for(u=0;u<g;u++)(64512&(f=m.charCodeAt(u)))==55296&&u+1<g&&(64512&(y=m.charCodeAt(u+1)))==56320&&(f=65536+(f-55296<<10)+(y-56320),u++),A+=f<128?1:f<2048?2:f<65536?3:4;for(_=new r.Buf8(A),u=v=0;v<A;u++)(64512&(f=m.charCodeAt(u)))==55296&&u+1<g&&(64512&(y=m.charCodeAt(u+1)))==56320&&(f=65536+(f-55296<<10)+(y-56320),u++),f<128?_[v++]=f:(f<2048?_[v++]=192|f>>>6:(f<65536?_[v++]=224|f>>>12:(_[v++]=240|f>>>18,_[v++]=128|f>>>12&63),_[v++]=128|f>>>6&63),_[v++]=128|63&f);return _},s.buf2binstring=function(m){return h(m,m.length)},s.binstring2buf=function(m){for(var _=new r.Buf8(m.length),f=0,y=_.length;f<y;f++)_[f]=m.charCodeAt(f);return _},s.buf2string=function(m,_){var f,y,u,v,g=_||m.length,A=new Array(2*g);for(f=y=0;f<g;)if((u=m[f++])<128)A[y++]=u;else if(4<(v=c[u]))A[y++]=65533,f+=v-1;else{for(u&=v===2?31:v===3?15:7;1<v&&f<g;)u=u<<6|63&m[f++],v--;1<v?A[y++]=65533:u<65536?A[y++]=u:(u-=65536,A[y++]=55296|u>>10&1023,A[y++]=56320|1023&u)}return h(A,y)},s.utf8border=function(m,_){var f;for((_=_||m.length)>m.length&&(_=m.length),f=_-1;0<=f&&(192&m[f])==128;)f--;return f<0||f===0?_:f+c[m[f]]>_?f:_}},{"./common":41}],43:[function(n,i,s){i.exports=function(r,a,o,c){for(var l=65535&r|0,h=r>>>16&65535|0,m=0;o!==0;){for(o-=m=2e3<o?2e3:o;h=h+(l=l+a[c++]|0)|0,--m;);l%=65521,h%=65521}return l|h<<16|0}},{}],44:[function(n,i,s){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,i,s){var r=function(){for(var a,o=[],c=0;c<256;c++){a=c;for(var l=0;l<8;l++)a=1&a?3988292384^a>>>1:a>>>1;o[c]=a}return o}();i.exports=function(a,o,c,l){var h=r,m=l+c;a^=-1;for(var _=l;_<m;_++)a=a>>>8^h[255&(a^o[_])];return-1^a}},{}],46:[function(n,i,s){var r,a=n("../utils/common"),o=n("./trees"),c=n("./adler32"),l=n("./crc32"),h=n("./messages"),m=0,_=4,f=0,y=-2,u=-1,v=4,g=2,A=8,w=9,x=286,E=30,D=19,B=2*x+1,z=15,C=3,T=258,$=T+C+1,I=42,M=113,p=1,Q=2,re=3,F=4;function ue(d,L){return d.msg=h[L],L}function H(d){return(d<<1)-(4<d?9:0)}function le(d){for(var L=d.length;0<=--L;)d[L]=0}function j(d){var L=d.state,S=L.pending;S>d.avail_out&&(S=d.avail_out),S!==0&&(a.arraySet(d.output,L.pending_buf,L.pending_out,S,d.next_out),d.next_out+=S,L.pending_out+=S,d.total_out+=S,d.avail_out-=S,L.pending-=S,L.pending===0&&(L.pending_out=0))}function O(d,L){o._tr_flush_block(d,0<=d.block_start?d.block_start:-1,d.strstart-d.block_start,L),d.block_start=d.strstart,j(d.strm)}function ae(d,L){d.pending_buf[d.pending++]=L}function ee(d,L){d.pending_buf[d.pending++]=L>>>8&255,d.pending_buf[d.pending++]=255&L}function X(d,L){var S,k,b=d.max_chain_length,N=d.strstart,Z=d.prev_length,q=d.nice_match,R=d.strstart>d.w_size-$?d.strstart-(d.w_size-$):0,J=d.window,Y=d.w_mask,V=d.prev,se=d.strstart+T,ke=J[N+Z-1],ye=J[N+Z];d.prev_length>=d.good_match&&(b>>=2),q>d.lookahead&&(q=d.lookahead);do if(J[(S=L)+Z]===ye&&J[S+Z-1]===ke&&J[S]===J[N]&&J[++S]===J[N+1]){N+=2,S++;do;while(J[++N]===J[++S]&&J[++N]===J[++S]&&J[++N]===J[++S]&&J[++N]===J[++S]&&J[++N]===J[++S]&&J[++N]===J[++S]&&J[++N]===J[++S]&&J[++N]===J[++S]&&N<se);if(k=T-(se-N),N=se-T,Z<k){if(d.match_start=L,q<=(Z=k))break;ke=J[N+Z-1],ye=J[N+Z]}}while((L=V[L&Y])>R&&--b!=0);return Z<=d.lookahead?Z:d.lookahead}function Be(d){var L,S,k,b,N,Z,q,R,J,Y,V=d.w_size;do{if(b=d.window_size-d.lookahead-d.strstart,d.strstart>=V+(V-$)){for(a.arraySet(d.window,d.window,V,V,0),d.match_start-=V,d.strstart-=V,d.block_start-=V,L=S=d.hash_size;k=d.head[--L],d.head[L]=V<=k?k-V:0,--S;);for(L=S=V;k=d.prev[--L],d.prev[L]=V<=k?k-V:0,--S;);b+=V}if(d.strm.avail_in===0)break;if(Z=d.strm,q=d.window,R=d.strstart+d.lookahead,J=b,Y=void 0,Y=Z.avail_in,J<Y&&(Y=J),S=Y===0?0:(Z.avail_in-=Y,a.arraySet(q,Z.input,Z.next_in,Y,R),Z.state.wrap===1?Z.adler=c(Z.adler,q,Y,R):Z.state.wrap===2&&(Z.adler=l(Z.adler,q,Y,R)),Z.next_in+=Y,Z.total_in+=Y,Y),d.lookahead+=S,d.lookahead+d.insert>=C)for(N=d.strstart-d.insert,d.ins_h=d.window[N],d.ins_h=(d.ins_h<<d.hash_shift^d.window[N+1])&d.hash_mask;d.insert&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[N+C-1])&d.hash_mask,d.prev[N&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=N,N++,d.insert--,!(d.lookahead+d.insert<C)););}while(d.lookahead<$&&d.strm.avail_in!==0)}function Pe(d,L){for(var S,k;;){if(d.lookahead<$){if(Be(d),d.lookahead<$&&L===m)return p;if(d.lookahead===0)break}if(S=0,d.lookahead>=C&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+C-1])&d.hash_mask,S=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart),S!==0&&d.strstart-S<=d.w_size-$&&(d.match_length=X(d,S)),d.match_length>=C)if(k=o._tr_tally(d,d.strstart-d.match_start,d.match_length-C),d.lookahead-=d.match_length,d.match_length<=d.max_lazy_match&&d.lookahead>=C){for(d.match_length--;d.strstart++,d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+C-1])&d.hash_mask,S=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart,--d.match_length!=0;);d.strstart++}else d.strstart+=d.match_length,d.match_length=0,d.ins_h=d.window[d.strstart],d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+1])&d.hash_mask;else k=o._tr_tally(d,0,d.window[d.strstart]),d.lookahead--,d.strstart++;if(k&&(O(d,!1),d.strm.avail_out===0))return p}return d.insert=d.strstart<C-1?d.strstart:C-1,L===_?(O(d,!0),d.strm.avail_out===0?re:F):d.last_lit&&(O(d,!1),d.strm.avail_out===0)?p:Q}function ge(d,L){for(var S,k,b;;){if(d.lookahead<$){if(Be(d),d.lookahead<$&&L===m)return p;if(d.lookahead===0)break}if(S=0,d.lookahead>=C&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+C-1])&d.hash_mask,S=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart),d.prev_length=d.match_length,d.prev_match=d.match_start,d.match_length=C-1,S!==0&&d.prev_length<d.max_lazy_match&&d.strstart-S<=d.w_size-$&&(d.match_length=X(d,S),d.match_length<=5&&(d.strategy===1||d.match_length===C&&4096<d.strstart-d.match_start)&&(d.match_length=C-1)),d.prev_length>=C&&d.match_length<=d.prev_length){for(b=d.strstart+d.lookahead-C,k=o._tr_tally(d,d.strstart-1-d.prev_match,d.prev_length-C),d.lookahead-=d.prev_length-1,d.prev_length-=2;++d.strstart<=b&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+C-1])&d.hash_mask,S=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart),--d.prev_length!=0;);if(d.match_available=0,d.match_length=C-1,d.strstart++,k&&(O(d,!1),d.strm.avail_out===0))return p}else if(d.match_available){if((k=o._tr_tally(d,0,d.window[d.strstart-1]))&&O(d,!1),d.strstart++,d.lookahead--,d.strm.avail_out===0)return p}else d.match_available=1,d.strstart++,d.lookahead--}return d.match_available&&(k=o._tr_tally(d,0,d.window[d.strstart-1]),d.match_available=0),d.insert=d.strstart<C-1?d.strstart:C-1,L===_?(O(d,!0),d.strm.avail_out===0?re:F):d.last_lit&&(O(d,!1),d.strm.avail_out===0)?p:Q}function ve(d,L,S,k,b){this.good_length=d,this.max_lazy=L,this.nice_length=S,this.max_chain=k,this.func=b}function De(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*B),this.dyn_dtree=new a.Buf16(2*(2*E+1)),this.bl_tree=new a.Buf16(2*(2*D+1)),le(this.dyn_ltree),le(this.dyn_dtree),le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(z+1),this.heap=new a.Buf16(2*x+1),le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*x+1),le(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ee(d){var L;return d&&d.state?(d.total_in=d.total_out=0,d.data_type=g,(L=d.state).pending=0,L.pending_out=0,L.wrap<0&&(L.wrap=-L.wrap),L.status=L.wrap?I:M,d.adler=L.wrap===2?0:1,L.last_flush=m,o._tr_init(L),f):ue(d,y)}function Je(d){var L=Ee(d);return L===f&&function(S){S.window_size=2*S.w_size,le(S.head),S.max_lazy_match=r[S.level].max_lazy,S.good_match=r[S.level].good_length,S.nice_match=r[S.level].nice_length,S.max_chain_length=r[S.level].max_chain,S.strstart=0,S.block_start=0,S.lookahead=0,S.insert=0,S.match_length=S.prev_length=C-1,S.match_available=0,S.ins_h=0}(d.state),L}function qe(d,L,S,k,b,N){if(!d)return y;var Z=1;if(L===u&&(L=6),k<0?(Z=0,k=-k):15<k&&(Z=2,k-=16),b<1||w<b||S!==A||k<8||15<k||L<0||9<L||N<0||v<N)return ue(d,y);k===8&&(k=9);var q=new De;return(d.state=q).strm=d,q.wrap=Z,q.gzhead=null,q.w_bits=k,q.w_size=1<<q.w_bits,q.w_mask=q.w_size-1,q.hash_bits=b+7,q.hash_size=1<<q.hash_bits,q.hash_mask=q.hash_size-1,q.hash_shift=~~((q.hash_bits+C-1)/C),q.window=new a.Buf8(2*q.w_size),q.head=new a.Buf16(q.hash_size),q.prev=new a.Buf16(q.w_size),q.lit_bufsize=1<<b+6,q.pending_buf_size=4*q.lit_bufsize,q.pending_buf=new a.Buf8(q.pending_buf_size),q.d_buf=1*q.lit_bufsize,q.l_buf=3*q.lit_bufsize,q.level=L,q.strategy=N,q.method=S,Je(d)}r=[new ve(0,0,0,0,function(d,L){var S=65535;for(S>d.pending_buf_size-5&&(S=d.pending_buf_size-5);;){if(d.lookahead<=1){if(Be(d),d.lookahead===0&&L===m)return p;if(d.lookahead===0)break}d.strstart+=d.lookahead,d.lookahead=0;var k=d.block_start+S;if((d.strstart===0||d.strstart>=k)&&(d.lookahead=d.strstart-k,d.strstart=k,O(d,!1),d.strm.avail_out===0)||d.strstart-d.block_start>=d.w_size-$&&(O(d,!1),d.strm.avail_out===0))return p}return d.insert=0,L===_?(O(d,!0),d.strm.avail_out===0?re:F):(d.strstart>d.block_start&&(O(d,!1),d.strm.avail_out),p)}),new ve(4,4,8,4,Pe),new ve(4,5,16,8,Pe),new ve(4,6,32,32,Pe),new ve(4,4,16,16,ge),new ve(8,16,32,32,ge),new ve(8,16,128,128,ge),new ve(8,32,128,256,ge),new ve(32,128,258,1024,ge),new ve(32,258,258,4096,ge)],s.deflateInit=function(d,L){return qe(d,L,A,15,8,0)},s.deflateInit2=qe,s.deflateReset=Je,s.deflateResetKeep=Ee,s.deflateSetHeader=function(d,L){return d&&d.state?d.state.wrap!==2?y:(d.state.gzhead=L,f):y},s.deflate=function(d,L){var S,k,b,N;if(!d||!d.state||5<L||L<0)return d?ue(d,y):y;if(k=d.state,!d.output||!d.input&&d.avail_in!==0||k.status===666&&L!==_)return ue(d,d.avail_out===0?-5:y);if(k.strm=d,S=k.last_flush,k.last_flush=L,k.status===I)if(k.wrap===2)d.adler=0,ae(k,31),ae(k,139),ae(k,8),k.gzhead?(ae(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),ae(k,255&k.gzhead.time),ae(k,k.gzhead.time>>8&255),ae(k,k.gzhead.time>>16&255),ae(k,k.gzhead.time>>24&255),ae(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),ae(k,255&k.gzhead.os),k.gzhead.extra&&k.gzhead.extra.length&&(ae(k,255&k.gzhead.extra.length),ae(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(d.adler=l(d.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=69):(ae(k,0),ae(k,0),ae(k,0),ae(k,0),ae(k,0),ae(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),ae(k,3),k.status=M);else{var Z=A+(k.w_bits-8<<4)<<8;Z|=(2<=k.strategy||k.level<2?0:k.level<6?1:k.level===6?2:3)<<6,k.strstart!==0&&(Z|=32),Z+=31-Z%31,k.status=M,ee(k,Z),k.strstart!==0&&(ee(k,d.adler>>>16),ee(k,65535&d.adler)),d.adler=1}if(k.status===69)if(k.gzhead.extra){for(b=k.pending;k.gzindex<(65535&k.gzhead.extra.length)&&(k.pending!==k.pending_buf_size||(k.gzhead.hcrc&&k.pending>b&&(d.adler=l(d.adler,k.pending_buf,k.pending-b,b)),j(d),b=k.pending,k.pending!==k.pending_buf_size));)ae(k,255&k.gzhead.extra[k.gzindex]),k.gzindex++;k.gzhead.hcrc&&k.pending>b&&(d.adler=l(d.adler,k.pending_buf,k.pending-b,b)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=73)}else k.status=73;if(k.status===73)if(k.gzhead.name){b=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>b&&(d.adler=l(d.adler,k.pending_buf,k.pending-b,b)),j(d),b=k.pending,k.pending===k.pending_buf_size)){N=1;break}N=k.gzindex<k.gzhead.name.length?255&k.gzhead.name.charCodeAt(k.gzindex++):0,ae(k,N)}while(N!==0);k.gzhead.hcrc&&k.pending>b&&(d.adler=l(d.adler,k.pending_buf,k.pending-b,b)),N===0&&(k.gzindex=0,k.status=91)}else k.status=91;if(k.status===91)if(k.gzhead.comment){b=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>b&&(d.adler=l(d.adler,k.pending_buf,k.pending-b,b)),j(d),b=k.pending,k.pending===k.pending_buf_size)){N=1;break}N=k.gzindex<k.gzhead.comment.length?255&k.gzhead.comment.charCodeAt(k.gzindex++):0,ae(k,N)}while(N!==0);k.gzhead.hcrc&&k.pending>b&&(d.adler=l(d.adler,k.pending_buf,k.pending-b,b)),N===0&&(k.status=103)}else k.status=103;if(k.status===103&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&j(d),k.pending+2<=k.pending_buf_size&&(ae(k,255&d.adler),ae(k,d.adler>>8&255),d.adler=0,k.status=M)):k.status=M),k.pending!==0){if(j(d),d.avail_out===0)return k.last_flush=-1,f}else if(d.avail_in===0&&H(L)<=H(S)&&L!==_)return ue(d,-5);if(k.status===666&&d.avail_in!==0)return ue(d,-5);if(d.avail_in!==0||k.lookahead!==0||L!==m&&k.status!==666){var q=k.strategy===2?function(R,J){for(var Y;;){if(R.lookahead===0&&(Be(R),R.lookahead===0)){if(J===m)return p;break}if(R.match_length=0,Y=o._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++,Y&&(O(R,!1),R.strm.avail_out===0))return p}return R.insert=0,J===_?(O(R,!0),R.strm.avail_out===0?re:F):R.last_lit&&(O(R,!1),R.strm.avail_out===0)?p:Q}(k,L):k.strategy===3?function(R,J){for(var Y,V,se,ke,ye=R.window;;){if(R.lookahead<=T){if(Be(R),R.lookahead<=T&&J===m)return p;if(R.lookahead===0)break}if(R.match_length=0,R.lookahead>=C&&0<R.strstart&&(V=ye[se=R.strstart-1])===ye[++se]&&V===ye[++se]&&V===ye[++se]){ke=R.strstart+T;do;while(V===ye[++se]&&V===ye[++se]&&V===ye[++se]&&V===ye[++se]&&V===ye[++se]&&V===ye[++se]&&V===ye[++se]&&V===ye[++se]&&se<ke);R.match_length=T-(ke-se),R.match_length>R.lookahead&&(R.match_length=R.lookahead)}if(R.match_length>=C?(Y=o._tr_tally(R,1,R.match_length-C),R.lookahead-=R.match_length,R.strstart+=R.match_length,R.match_length=0):(Y=o._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++),Y&&(O(R,!1),R.strm.avail_out===0))return p}return R.insert=0,J===_?(O(R,!0),R.strm.avail_out===0?re:F):R.last_lit&&(O(R,!1),R.strm.avail_out===0)?p:Q}(k,L):r[k.level].func(k,L);if(q!==re&&q!==F||(k.status=666),q===p||q===re)return d.avail_out===0&&(k.last_flush=-1),f;if(q===Q&&(L===1?o._tr_align(k):L!==5&&(o._tr_stored_block(k,0,0,!1),L===3&&(le(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),j(d),d.avail_out===0))return k.last_flush=-1,f}return L!==_?f:k.wrap<=0?1:(k.wrap===2?(ae(k,255&d.adler),ae(k,d.adler>>8&255),ae(k,d.adler>>16&255),ae(k,d.adler>>24&255),ae(k,255&d.total_in),ae(k,d.total_in>>8&255),ae(k,d.total_in>>16&255),ae(k,d.total_in>>24&255)):(ee(k,d.adler>>>16),ee(k,65535&d.adler)),j(d),0<k.wrap&&(k.wrap=-k.wrap),k.pending!==0?f:1)},s.deflateEnd=function(d){var L;return d&&d.state?(L=d.state.status)!==I&&L!==69&&L!==73&&L!==91&&L!==103&&L!==M&&L!==666?ue(d,y):(d.state=null,L===M?ue(d,-3):f):y},s.deflateSetDictionary=function(d,L){var S,k,b,N,Z,q,R,J,Y=L.length;if(!d||!d.state||(N=(S=d.state).wrap)===2||N===1&&S.status!==I||S.lookahead)return y;for(N===1&&(d.adler=c(d.adler,L,Y,0)),S.wrap=0,Y>=S.w_size&&(N===0&&(le(S.head),S.strstart=0,S.block_start=0,S.insert=0),J=new a.Buf8(S.w_size),a.arraySet(J,L,Y-S.w_size,S.w_size,0),L=J,Y=S.w_size),Z=d.avail_in,q=d.next_in,R=d.input,d.avail_in=Y,d.next_in=0,d.input=L,Be(S);S.lookahead>=C;){for(k=S.strstart,b=S.lookahead-(C-1);S.ins_h=(S.ins_h<<S.hash_shift^S.window[k+C-1])&S.hash_mask,S.prev[k&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=k,k++,--b;);S.strstart=k,S.lookahead=C-1,Be(S)}return S.strstart+=S.lookahead,S.block_start=S.strstart,S.insert=S.lookahead,S.lookahead=0,S.match_length=S.prev_length=C-1,S.match_available=0,d.next_in=q,d.input=R,d.avail_in=Z,S.wrap=N,f},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,i,s){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,i,s){i.exports=function(r,a){var o,c,l,h,m,_,f,y,u,v,g,A,w,x,E,D,B,z,C,T,$,I,M,p,Q;o=r.state,c=r.next_in,p=r.input,l=c+(r.avail_in-5),h=r.next_out,Q=r.output,m=h-(a-r.avail_out),_=h+(r.avail_out-257),f=o.dmax,y=o.wsize,u=o.whave,v=o.wnext,g=o.window,A=o.hold,w=o.bits,x=o.lencode,E=o.distcode,D=(1<<o.lenbits)-1,B=(1<<o.distbits)-1;e:do{w<15&&(A+=p[c++]<<w,w+=8,A+=p[c++]<<w,w+=8),z=x[A&D];t:for(;;){if(A>>>=C=z>>>24,w-=C,(C=z>>>16&255)===0)Q[h++]=65535&z;else{if(!(16&C)){if(!(64&C)){z=x[(65535&z)+(A&(1<<C)-1)];continue t}if(32&C){o.mode=12;break e}r.msg="invalid literal/length code",o.mode=30;break e}T=65535&z,(C&=15)&&(w<C&&(A+=p[c++]<<w,w+=8),T+=A&(1<<C)-1,A>>>=C,w-=C),w<15&&(A+=p[c++]<<w,w+=8,A+=p[c++]<<w,w+=8),z=E[A&B];n:for(;;){if(A>>>=C=z>>>24,w-=C,!(16&(C=z>>>16&255))){if(!(64&C)){z=E[(65535&z)+(A&(1<<C)-1)];continue n}r.msg="invalid distance code",o.mode=30;break e}if($=65535&z,w<(C&=15)&&(A+=p[c++]<<w,(w+=8)<C&&(A+=p[c++]<<w,w+=8)),f<($+=A&(1<<C)-1)){r.msg="invalid distance too far back",o.mode=30;break e}if(A>>>=C,w-=C,(C=h-m)<$){if(u<(C=$-C)&&o.sane){r.msg="invalid distance too far back",o.mode=30;break e}if(M=g,(I=0)===v){if(I+=y-C,C<T){for(T-=C;Q[h++]=g[I++],--C;);I=h-$,M=Q}}else if(v<C){if(I+=y+v-C,(C-=v)<T){for(T-=C;Q[h++]=g[I++],--C;);if(I=0,v<T){for(T-=C=v;Q[h++]=g[I++],--C;);I=h-$,M=Q}}}else if(I+=v-C,C<T){for(T-=C;Q[h++]=g[I++],--C;);I=h-$,M=Q}for(;2<T;)Q[h++]=M[I++],Q[h++]=M[I++],Q[h++]=M[I++],T-=3;T&&(Q[h++]=M[I++],1<T&&(Q[h++]=M[I++]))}else{for(I=h-$;Q[h++]=Q[I++],Q[h++]=Q[I++],Q[h++]=Q[I++],2<(T-=3););T&&(Q[h++]=Q[I++],1<T&&(Q[h++]=Q[I++]))}break}}break}}while(c<l&&h<_);c-=T=w>>3,A&=(1<<(w-=T<<3))-1,r.next_in=c,r.next_out=h,r.avail_in=c<l?l-c+5:5-(c-l),r.avail_out=h<_?_-h+257:257-(h-_),o.hold=A,o.bits=w}},{}],49:[function(n,i,s){var r=n("../utils/common"),a=n("./adler32"),o=n("./crc32"),c=n("./inffast"),l=n("./inftrees"),h=1,m=2,_=0,f=-2,y=1,u=852,v=592;function g(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function A(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(I){var M;return I&&I.state?(M=I.state,I.total_in=I.total_out=M.total=0,I.msg="",M.wrap&&(I.adler=1&M.wrap),M.mode=y,M.last=0,M.havedict=0,M.dmax=32768,M.head=null,M.hold=0,M.bits=0,M.lencode=M.lendyn=new r.Buf32(u),M.distcode=M.distdyn=new r.Buf32(v),M.sane=1,M.back=-1,_):f}function x(I){var M;return I&&I.state?((M=I.state).wsize=0,M.whave=0,M.wnext=0,w(I)):f}function E(I,M){var p,Q;return I&&I.state?(Q=I.state,M<0?(p=0,M=-M):(p=1+(M>>4),M<48&&(M&=15)),M&&(M<8||15<M)?f:(Q.window!==null&&Q.wbits!==M&&(Q.window=null),Q.wrap=p,Q.wbits=M,x(I))):f}function D(I,M){var p,Q;return I?(Q=new A,(I.state=Q).window=null,(p=E(I,M))!==_&&(I.state=null),p):f}var B,z,C=!0;function T(I){if(C){var M;for(B=new r.Buf32(512),z=new r.Buf32(32),M=0;M<144;)I.lens[M++]=8;for(;M<256;)I.lens[M++]=9;for(;M<280;)I.lens[M++]=7;for(;M<288;)I.lens[M++]=8;for(l(h,I.lens,0,288,B,0,I.work,{bits:9}),M=0;M<32;)I.lens[M++]=5;l(m,I.lens,0,32,z,0,I.work,{bits:5}),C=!1}I.lencode=B,I.lenbits=9,I.distcode=z,I.distbits=5}function $(I,M,p,Q){var re,F=I.state;return F.window===null&&(F.wsize=1<<F.wbits,F.wnext=0,F.whave=0,F.window=new r.Buf8(F.wsize)),Q>=F.wsize?(r.arraySet(F.window,M,p-F.wsize,F.wsize,0),F.wnext=0,F.whave=F.wsize):(Q<(re=F.wsize-F.wnext)&&(re=Q),r.arraySet(F.window,M,p-Q,re,F.wnext),(Q-=re)?(r.arraySet(F.window,M,p-Q,Q,0),F.wnext=Q,F.whave=F.wsize):(F.wnext+=re,F.wnext===F.wsize&&(F.wnext=0),F.whave<F.wsize&&(F.whave+=re))),0}s.inflateReset=x,s.inflateReset2=E,s.inflateResetKeep=w,s.inflateInit=function(I){return D(I,15)},s.inflateInit2=D,s.inflate=function(I,M){var p,Q,re,F,ue,H,le,j,O,ae,ee,X,Be,Pe,ge,ve,De,Ee,Je,qe,d,L,S,k,b=0,N=new r.Buf8(4),Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return f;(p=I.state).mode===12&&(p.mode=13),ue=I.next_out,re=I.output,le=I.avail_out,F=I.next_in,Q=I.input,H=I.avail_in,j=p.hold,O=p.bits,ae=H,ee=le,L=_;e:for(;;)switch(p.mode){case y:if(p.wrap===0){p.mode=13;break}for(;O<16;){if(H===0)break e;H--,j+=Q[F++]<<O,O+=8}if(2&p.wrap&&j===35615){N[p.check=0]=255&j,N[1]=j>>>8&255,p.check=o(p.check,N,2,0),O=j=0,p.mode=2;break}if(p.flags=0,p.head&&(p.head.done=!1),!(1&p.wrap)||(((255&j)<<8)+(j>>8))%31){I.msg="incorrect header check",p.mode=30;break}if((15&j)!=8){I.msg="unknown compression method",p.mode=30;break}if(O-=4,d=8+(15&(j>>>=4)),p.wbits===0)p.wbits=d;else if(d>p.wbits){I.msg="invalid window size",p.mode=30;break}p.dmax=1<<d,I.adler=p.check=1,p.mode=512&j?10:12,O=j=0;break;case 2:for(;O<16;){if(H===0)break e;H--,j+=Q[F++]<<O,O+=8}if(p.flags=j,(255&p.flags)!=8){I.msg="unknown compression method",p.mode=30;break}if(57344&p.flags){I.msg="unknown header flags set",p.mode=30;break}p.head&&(p.head.text=j>>8&1),512&p.flags&&(N[0]=255&j,N[1]=j>>>8&255,p.check=o(p.check,N,2,0)),O=j=0,p.mode=3;case 3:for(;O<32;){if(H===0)break e;H--,j+=Q[F++]<<O,O+=8}p.head&&(p.head.time=j),512&p.flags&&(N[0]=255&j,N[1]=j>>>8&255,N[2]=j>>>16&255,N[3]=j>>>24&255,p.check=o(p.check,N,4,0)),O=j=0,p.mode=4;case 4:for(;O<16;){if(H===0)break e;H--,j+=Q[F++]<<O,O+=8}p.head&&(p.head.xflags=255&j,p.head.os=j>>8),512&p.flags&&(N[0]=255&j,N[1]=j>>>8&255,p.check=o(p.check,N,2,0)),O=j=0,p.mode=5;case 5:if(1024&p.flags){for(;O<16;){if(H===0)break e;H--,j+=Q[F++]<<O,O+=8}p.length=j,p.head&&(p.head.extra_len=j),512&p.flags&&(N[0]=255&j,N[1]=j>>>8&255,p.check=o(p.check,N,2,0)),O=j=0}else p.head&&(p.head.extra=null);p.mode=6;case 6:if(1024&p.flags&&(H<(X=p.length)&&(X=H),X&&(p.head&&(d=p.head.extra_len-p.length,p.head.extra||(p.head.extra=new Array(p.head.extra_len)),r.arraySet(p.head.extra,Q,F,X,d)),512&p.flags&&(p.check=o(p.check,Q,X,F)),H-=X,F+=X,p.length-=X),p.length))break e;p.length=0,p.mode=7;case 7:if(2048&p.flags){if(H===0)break e;for(X=0;d=Q[F+X++],p.head&&d&&p.length<65536&&(p.head.name+=String.fromCharCode(d)),d&&X<H;);if(512&p.flags&&(p.check=o(p.check,Q,X,F)),H-=X,F+=X,d)break e}else p.head&&(p.head.name=null);p.length=0,p.mode=8;case 8:if(4096&p.flags){if(H===0)break e;for(X=0;d=Q[F+X++],p.head&&d&&p.length<65536&&(p.head.comment+=String.fromCharCode(d)),d&&X<H;);if(512&p.flags&&(p.check=o(p.check,Q,X,F)),H-=X,F+=X,d)break e}else p.head&&(p.head.comment=null);p.mode=9;case 9:if(512&p.flags){for(;O<16;){if(H===0)break e;H--,j+=Q[F++]<<O,O+=8}if(j!==(65535&p.check)){I.msg="header crc mismatch",p.mode=30;break}O=j=0}p.head&&(p.head.hcrc=p.flags>>9&1,p.head.done=!0),I.adler=p.check=0,p.mode=12;break;case 10:for(;O<32;){if(H===0)break e;H--,j+=Q[F++]<<O,O+=8}I.adler=p.check=g(j),O=j=0,p.mode=11;case 11:if(p.havedict===0)return I.next_out=ue,I.avail_out=le,I.next_in=F,I.avail_in=H,p.hold=j,p.bits=O,2;I.adler=p.check=1,p.mode=12;case 12:if(M===5||M===6)break e;case 13:if(p.last){j>>>=7&O,O-=7&O,p.mode=27;break}for(;O<3;){if(H===0)break e;H--,j+=Q[F++]<<O,O+=8}switch(p.last=1&j,O-=1,3&(j>>>=1)){case 0:p.mode=14;break;case 1:if(T(p),p.mode=20,M!==6)break;j>>>=2,O-=2;break e;case 2:p.mode=17;break;case 3:I.msg="invalid block type",p.mode=30}j>>>=2,O-=2;break;case 14:for(j>>>=7&O,O-=7&O;O<32;){if(H===0)break e;H--,j+=Q[F++]<<O,O+=8}if((65535&j)!=(j>>>16^65535)){I.msg="invalid stored block lengths",p.mode=30;break}if(p.length=65535&j,O=j=0,p.mode=15,M===6)break e;case 15:p.mode=16;case 16:if(X=p.length){if(H<X&&(X=H),le<X&&(X=le),X===0)break e;r.arraySet(re,Q,F,X,ue),H-=X,F+=X,le-=X,ue+=X,p.length-=X;break}p.mode=12;break;case 17:for(;O<14;){if(H===0)break e;H--,j+=Q[F++]<<O,O+=8}if(p.nlen=257+(31&j),j>>>=5,O-=5,p.ndist=1+(31&j),j>>>=5,O-=5,p.ncode=4+(15&j),j>>>=4,O-=4,286<p.nlen||30<p.ndist){I.msg="too many length or distance symbols",p.mode=30;break}p.have=0,p.mode=18;case 18:for(;p.have<p.ncode;){for(;O<3;){if(H===0)break e;H--,j+=Q[F++]<<O,O+=8}p.lens[Z[p.have++]]=7&j,j>>>=3,O-=3}for(;p.have<19;)p.lens[Z[p.have++]]=0;if(p.lencode=p.lendyn,p.lenbits=7,S={bits:p.lenbits},L=l(0,p.lens,0,19,p.lencode,0,p.work,S),p.lenbits=S.bits,L){I.msg="invalid code lengths set",p.mode=30;break}p.have=0,p.mode=19;case 19:for(;p.have<p.nlen+p.ndist;){for(;ve=(b=p.lencode[j&(1<<p.lenbits)-1])>>>16&255,De=65535&b,!((ge=b>>>24)<=O);){if(H===0)break e;H--,j+=Q[F++]<<O,O+=8}if(De<16)j>>>=ge,O-=ge,p.lens[p.have++]=De;else{if(De===16){for(k=ge+2;O<k;){if(H===0)break e;H--,j+=Q[F++]<<O,O+=8}if(j>>>=ge,O-=ge,p.have===0){I.msg="invalid bit length repeat",p.mode=30;break}d=p.lens[p.have-1],X=3+(3&j),j>>>=2,O-=2}else if(De===17){for(k=ge+3;O<k;){if(H===0)break e;H--,j+=Q[F++]<<O,O+=8}O-=ge,d=0,X=3+(7&(j>>>=ge)),j>>>=3,O-=3}else{for(k=ge+7;O<k;){if(H===0)break e;H--,j+=Q[F++]<<O,O+=8}O-=ge,d=0,X=11+(127&(j>>>=ge)),j>>>=7,O-=7}if(p.have+X>p.nlen+p.ndist){I.msg="invalid bit length repeat",p.mode=30;break}for(;X--;)p.lens[p.have++]=d}}if(p.mode===30)break;if(p.lens[256]===0){I.msg="invalid code -- missing end-of-block",p.mode=30;break}if(p.lenbits=9,S={bits:p.lenbits},L=l(h,p.lens,0,p.nlen,p.lencode,0,p.work,S),p.lenbits=S.bits,L){I.msg="invalid literal/lengths set",p.mode=30;break}if(p.distbits=6,p.distcode=p.distdyn,S={bits:p.distbits},L=l(m,p.lens,p.nlen,p.ndist,p.distcode,0,p.work,S),p.distbits=S.bits,L){I.msg="invalid distances set",p.mode=30;break}if(p.mode=20,M===6)break e;case 20:p.mode=21;case 21:if(6<=H&&258<=le){I.next_out=ue,I.avail_out=le,I.next_in=F,I.avail_in=H,p.hold=j,p.bits=O,c(I,ee),ue=I.next_out,re=I.output,le=I.avail_out,F=I.next_in,Q=I.input,H=I.avail_in,j=p.hold,O=p.bits,p.mode===12&&(p.back=-1);break}for(p.back=0;ve=(b=p.lencode[j&(1<<p.lenbits)-1])>>>16&255,De=65535&b,!((ge=b>>>24)<=O);){if(H===0)break e;H--,j+=Q[F++]<<O,O+=8}if(ve&&!(240&ve)){for(Ee=ge,Je=ve,qe=De;ve=(b=p.lencode[qe+((j&(1<<Ee+Je)-1)>>Ee)])>>>16&255,De=65535&b,!(Ee+(ge=b>>>24)<=O);){if(H===0)break e;H--,j+=Q[F++]<<O,O+=8}j>>>=Ee,O-=Ee,p.back+=Ee}if(j>>>=ge,O-=ge,p.back+=ge,p.length=De,ve===0){p.mode=26;break}if(32&ve){p.back=-1,p.mode=12;break}if(64&ve){I.msg="invalid literal/length code",p.mode=30;break}p.extra=15&ve,p.mode=22;case 22:if(p.extra){for(k=p.extra;O<k;){if(H===0)break e;H--,j+=Q[F++]<<O,O+=8}p.length+=j&(1<<p.extra)-1,j>>>=p.extra,O-=p.extra,p.back+=p.extra}p.was=p.length,p.mode=23;case 23:for(;ve=(b=p.distcode[j&(1<<p.distbits)-1])>>>16&255,De=65535&b,!((ge=b>>>24)<=O);){if(H===0)break e;H--,j+=Q[F++]<<O,O+=8}if(!(240&ve)){for(Ee=ge,Je=ve,qe=De;ve=(b=p.distcode[qe+((j&(1<<Ee+Je)-1)>>Ee)])>>>16&255,De=65535&b,!(Ee+(ge=b>>>24)<=O);){if(H===0)break e;H--,j+=Q[F++]<<O,O+=8}j>>>=Ee,O-=Ee,p.back+=Ee}if(j>>>=ge,O-=ge,p.back+=ge,64&ve){I.msg="invalid distance code",p.mode=30;break}p.offset=De,p.extra=15&ve,p.mode=24;case 24:if(p.extra){for(k=p.extra;O<k;){if(H===0)break e;H--,j+=Q[F++]<<O,O+=8}p.offset+=j&(1<<p.extra)-1,j>>>=p.extra,O-=p.extra,p.back+=p.extra}if(p.offset>p.dmax){I.msg="invalid distance too far back",p.mode=30;break}p.mode=25;case 25:if(le===0)break e;if(X=ee-le,p.offset>X){if((X=p.offset-X)>p.whave&&p.sane){I.msg="invalid distance too far back",p.mode=30;break}Be=X>p.wnext?(X-=p.wnext,p.wsize-X):p.wnext-X,X>p.length&&(X=p.length),Pe=p.window}else Pe=re,Be=ue-p.offset,X=p.length;for(le<X&&(X=le),le-=X,p.length-=X;re[ue++]=Pe[Be++],--X;);p.length===0&&(p.mode=21);break;case 26:if(le===0)break e;re[ue++]=p.length,le--,p.mode=21;break;case 27:if(p.wrap){for(;O<32;){if(H===0)break e;H--,j|=Q[F++]<<O,O+=8}if(ee-=le,I.total_out+=ee,p.total+=ee,ee&&(I.adler=p.check=p.flags?o(p.check,re,ee,ue-ee):a(p.check,re,ee,ue-ee)),ee=le,(p.flags?j:g(j))!==p.check){I.msg="incorrect data check",p.mode=30;break}O=j=0}p.mode=28;case 28:if(p.wrap&&p.flags){for(;O<32;){if(H===0)break e;H--,j+=Q[F++]<<O,O+=8}if(j!==(4294967295&p.total)){I.msg="incorrect length check",p.mode=30;break}O=j=0}p.mode=29;case 29:L=1;break e;case 30:L=-3;break e;case 31:return-4;case 32:default:return f}return I.next_out=ue,I.avail_out=le,I.next_in=F,I.avail_in=H,p.hold=j,p.bits=O,(p.wsize||ee!==I.avail_out&&p.mode<30&&(p.mode<27||M!==4))&&$(I,I.output,I.next_out,ee-I.avail_out)?(p.mode=31,-4):(ae-=I.avail_in,ee-=I.avail_out,I.total_in+=ae,I.total_out+=ee,p.total+=ee,p.wrap&&ee&&(I.adler=p.check=p.flags?o(p.check,re,ee,I.next_out-ee):a(p.check,re,ee,I.next_out-ee)),I.data_type=p.bits+(p.last?64:0)+(p.mode===12?128:0)+(p.mode===20||p.mode===15?256:0),(ae==0&&ee===0||M===4)&&L===_&&(L=-5),L)},s.inflateEnd=function(I){if(!I||!I.state)return f;var M=I.state;return M.window&&(M.window=null),I.state=null,_},s.inflateGetHeader=function(I,M){var p;return I&&I.state&&2&(p=I.state).wrap?((p.head=M).done=!1,_):f},s.inflateSetDictionary=function(I,M){var p,Q=M.length;return I&&I.state?(p=I.state).wrap!==0&&p.mode!==11?f:p.mode===11&&a(1,M,Q,0)!==p.check?-3:$(I,M,Q,Q)?(p.mode=31,-4):(p.havedict=1,_):f},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,i,s){var r=n("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(h,m,_,f,y,u,v,g){var A,w,x,E,D,B,z,C,T,$=g.bits,I=0,M=0,p=0,Q=0,re=0,F=0,ue=0,H=0,le=0,j=0,O=null,ae=0,ee=new r.Buf16(16),X=new r.Buf16(16),Be=null,Pe=0;for(I=0;I<=15;I++)ee[I]=0;for(M=0;M<f;M++)ee[m[_+M]]++;for(re=$,Q=15;1<=Q&&ee[Q]===0;Q--);if(Q<re&&(re=Q),Q===0)return y[u++]=20971520,y[u++]=20971520,g.bits=1,0;for(p=1;p<Q&&ee[p]===0;p++);for(re<p&&(re=p),I=H=1;I<=15;I++)if(H<<=1,(H-=ee[I])<0)return-1;if(0<H&&(h===0||Q!==1))return-1;for(X[1]=0,I=1;I<15;I++)X[I+1]=X[I]+ee[I];for(M=0;M<f;M++)m[_+M]!==0&&(v[X[m[_+M]]++]=M);if(B=h===0?(O=Be=v,19):h===1?(O=a,ae-=257,Be=o,Pe-=257,256):(O=c,Be=l,-1),I=p,D=u,ue=M=j=0,x=-1,E=(le=1<<(F=re))-1,h===1&&852<le||h===2&&592<le)return 1;for(;;){for(z=I-ue,T=v[M]<B?(C=0,v[M]):v[M]>B?(C=Be[Pe+v[M]],O[ae+v[M]]):(C=96,0),A=1<<I-ue,p=w=1<<F;y[D+(j>>ue)+(w-=A)]=z<<24|C<<16|T|0,w!==0;);for(A=1<<I-1;j&A;)A>>=1;if(A!==0?(j&=A-1,j+=A):j=0,M++,--ee[I]==0){if(I===Q)break;I=m[_+v[M]]}if(re<I&&(j&E)!==x){for(ue===0&&(ue=re),D+=p,H=1<<(F=I-ue);F+ue<Q&&!((H-=ee[F+ue])<=0);)F++,H<<=1;if(le+=1<<F,h===1&&852<le||h===2&&592<le)return 1;y[x=j&E]=re<<24|F<<16|D-u|0}}return j!==0&&(y[D+j]=I-ue<<24|64<<16|0),g.bits=re,0}},{"../utils/common":41}],51:[function(n,i,s){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,i,s){var r=n("../utils/common"),a=0,o=1;function c(b){for(var N=b.length;0<=--N;)b[N]=0}var l=0,h=29,m=256,_=m+1+h,f=30,y=19,u=2*_+1,v=15,g=16,A=7,w=256,x=16,E=17,D=18,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],T=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$=new Array(2*(_+2));c($);var I=new Array(2*f);c(I);var M=new Array(512);c(M);var p=new Array(256);c(p);var Q=new Array(h);c(Q);var re,F,ue,H=new Array(f);function le(b,N,Z,q,R){this.static_tree=b,this.extra_bits=N,this.extra_base=Z,this.elems=q,this.max_length=R,this.has_stree=b&&b.length}function j(b,N){this.dyn_tree=b,this.max_code=0,this.stat_desc=N}function O(b){return b<256?M[b]:M[256+(b>>>7)]}function ae(b,N){b.pending_buf[b.pending++]=255&N,b.pending_buf[b.pending++]=N>>>8&255}function ee(b,N,Z){b.bi_valid>g-Z?(b.bi_buf|=N<<b.bi_valid&65535,ae(b,b.bi_buf),b.bi_buf=N>>g-b.bi_valid,b.bi_valid+=Z-g):(b.bi_buf|=N<<b.bi_valid&65535,b.bi_valid+=Z)}function X(b,N,Z){ee(b,Z[2*N],Z[2*N+1])}function Be(b,N){for(var Z=0;Z|=1&b,b>>>=1,Z<<=1,0<--N;);return Z>>>1}function Pe(b,N,Z){var q,R,J=new Array(v+1),Y=0;for(q=1;q<=v;q++)J[q]=Y=Y+Z[q-1]<<1;for(R=0;R<=N;R++){var V=b[2*R+1];V!==0&&(b[2*R]=Be(J[V]++,V))}}function ge(b){var N;for(N=0;N<_;N++)b.dyn_ltree[2*N]=0;for(N=0;N<f;N++)b.dyn_dtree[2*N]=0;for(N=0;N<y;N++)b.bl_tree[2*N]=0;b.dyn_ltree[2*w]=1,b.opt_len=b.static_len=0,b.last_lit=b.matches=0}function ve(b){8<b.bi_valid?ae(b,b.bi_buf):0<b.bi_valid&&(b.pending_buf[b.pending++]=b.bi_buf),b.bi_buf=0,b.bi_valid=0}function De(b,N,Z,q){var R=2*N,J=2*Z;return b[R]<b[J]||b[R]===b[J]&&q[N]<=q[Z]}function Ee(b,N,Z){for(var q=b.heap[Z],R=Z<<1;R<=b.heap_len&&(R<b.heap_len&&De(N,b.heap[R+1],b.heap[R],b.depth)&&R++,!De(N,q,b.heap[R],b.depth));)b.heap[Z]=b.heap[R],Z=R,R<<=1;b.heap[Z]=q}function Je(b,N,Z){var q,R,J,Y,V=0;if(b.last_lit!==0)for(;q=b.pending_buf[b.d_buf+2*V]<<8|b.pending_buf[b.d_buf+2*V+1],R=b.pending_buf[b.l_buf+V],V++,q===0?X(b,R,N):(X(b,(J=p[R])+m+1,N),(Y=B[J])!==0&&ee(b,R-=Q[J],Y),X(b,J=O(--q),Z),(Y=z[J])!==0&&ee(b,q-=H[J],Y)),V<b.last_lit;);X(b,w,N)}function qe(b,N){var Z,q,R,J=N.dyn_tree,Y=N.stat_desc.static_tree,V=N.stat_desc.has_stree,se=N.stat_desc.elems,ke=-1;for(b.heap_len=0,b.heap_max=u,Z=0;Z<se;Z++)J[2*Z]!==0?(b.heap[++b.heap_len]=ke=Z,b.depth[Z]=0):J[2*Z+1]=0;for(;b.heap_len<2;)J[2*(R=b.heap[++b.heap_len]=ke<2?++ke:0)]=1,b.depth[R]=0,b.opt_len--,V&&(b.static_len-=Y[2*R+1]);for(N.max_code=ke,Z=b.heap_len>>1;1<=Z;Z--)Ee(b,J,Z);for(R=se;Z=b.heap[1],b.heap[1]=b.heap[b.heap_len--],Ee(b,J,1),q=b.heap[1],b.heap[--b.heap_max]=Z,b.heap[--b.heap_max]=q,J[2*R]=J[2*Z]+J[2*q],b.depth[R]=(b.depth[Z]>=b.depth[q]?b.depth[Z]:b.depth[q])+1,J[2*Z+1]=J[2*q+1]=R,b.heap[1]=R++,Ee(b,J,1),2<=b.heap_len;);b.heap[--b.heap_max]=b.heap[1],function(ye,He){var At,Ve,bt,Ce,Tt,Qt,We=He.dyn_tree,tn=He.max_code,Cn=He.stat_desc.static_tree,Sn=He.stat_desc.has_stree,Ns=He.stat_desc.extra_bits,si=He.stat_desc.extra_base,nn=He.stat_desc.max_length,Nn=0;for(Ce=0;Ce<=v;Ce++)ye.bl_count[Ce]=0;for(We[2*ye.heap[ye.heap_max]+1]=0,At=ye.heap_max+1;At<u;At++)nn<(Ce=We[2*We[2*(Ve=ye.heap[At])+1]+1]+1)&&(Ce=nn,Nn++),We[2*Ve+1]=Ce,tn<Ve||(ye.bl_count[Ce]++,Tt=0,si<=Ve&&(Tt=Ns[Ve-si]),Qt=We[2*Ve],ye.opt_len+=Qt*(Ce+Tt),Sn&&(ye.static_len+=Qt*(Cn[2*Ve+1]+Tt)));if(Nn!==0){do{for(Ce=nn-1;ye.bl_count[Ce]===0;)Ce--;ye.bl_count[Ce]--,ye.bl_count[Ce+1]+=2,ye.bl_count[nn]--,Nn-=2}while(0<Nn);for(Ce=nn;Ce!==0;Ce--)for(Ve=ye.bl_count[Ce];Ve!==0;)tn<(bt=ye.heap[--At])||(We[2*bt+1]!==Ce&&(ye.opt_len+=(Ce-We[2*bt+1])*We[2*bt],We[2*bt+1]=Ce),Ve--)}}(b,N),Pe(J,ke,b.bl_count)}function d(b,N,Z){var q,R,J=-1,Y=N[1],V=0,se=7,ke=4;for(Y===0&&(se=138,ke=3),N[2*(Z+1)+1]=65535,q=0;q<=Z;q++)R=Y,Y=N[2*(q+1)+1],++V<se&&R===Y||(V<ke?b.bl_tree[2*R]+=V:R!==0?(R!==J&&b.bl_tree[2*R]++,b.bl_tree[2*x]++):V<=10?b.bl_tree[2*E]++:b.bl_tree[2*D]++,J=R,ke=(V=0)===Y?(se=138,3):R===Y?(se=6,3):(se=7,4))}function L(b,N,Z){var q,R,J=-1,Y=N[1],V=0,se=7,ke=4;for(Y===0&&(se=138,ke=3),q=0;q<=Z;q++)if(R=Y,Y=N[2*(q+1)+1],!(++V<se&&R===Y)){if(V<ke)for(;X(b,R,b.bl_tree),--V!=0;);else R!==0?(R!==J&&(X(b,R,b.bl_tree),V--),X(b,x,b.bl_tree),ee(b,V-3,2)):V<=10?(X(b,E,b.bl_tree),ee(b,V-3,3)):(X(b,D,b.bl_tree),ee(b,V-11,7));J=R,ke=(V=0)===Y?(se=138,3):R===Y?(se=6,3):(se=7,4)}}c(H);var S=!1;function k(b,N,Z,q){ee(b,(l<<1)+(q?1:0),3),function(R,J,Y,V){ve(R),V&&(ae(R,Y),ae(R,~Y)),r.arraySet(R.pending_buf,R.window,J,Y,R.pending),R.pending+=Y}(b,N,Z,!0)}s._tr_init=function(b){S||(function(){var N,Z,q,R,J,Y=new Array(v+1);for(R=q=0;R<h-1;R++)for(Q[R]=q,N=0;N<1<<B[R];N++)p[q++]=R;for(p[q-1]=R,R=J=0;R<16;R++)for(H[R]=J,N=0;N<1<<z[R];N++)M[J++]=R;for(J>>=7;R<f;R++)for(H[R]=J<<7,N=0;N<1<<z[R]-7;N++)M[256+J++]=R;for(Z=0;Z<=v;Z++)Y[Z]=0;for(N=0;N<=143;)$[2*N+1]=8,N++,Y[8]++;for(;N<=255;)$[2*N+1]=9,N++,Y[9]++;for(;N<=279;)$[2*N+1]=7,N++,Y[7]++;for(;N<=287;)$[2*N+1]=8,N++,Y[8]++;for(Pe($,_+1,Y),N=0;N<f;N++)I[2*N+1]=5,I[2*N]=Be(N,5);re=new le($,B,m+1,_,v),F=new le(I,z,0,f,v),ue=new le(new Array(0),C,0,y,A)}(),S=!0),b.l_desc=new j(b.dyn_ltree,re),b.d_desc=new j(b.dyn_dtree,F),b.bl_desc=new j(b.bl_tree,ue),b.bi_buf=0,b.bi_valid=0,ge(b)},s._tr_stored_block=k,s._tr_flush_block=function(b,N,Z,q){var R,J,Y=0;0<b.level?(b.strm.data_type===2&&(b.strm.data_type=function(V){var se,ke=4093624447;for(se=0;se<=31;se++,ke>>>=1)if(1&ke&&V.dyn_ltree[2*se]!==0)return a;if(V.dyn_ltree[18]!==0||V.dyn_ltree[20]!==0||V.dyn_ltree[26]!==0)return o;for(se=32;se<m;se++)if(V.dyn_ltree[2*se]!==0)return o;return a}(b)),qe(b,b.l_desc),qe(b,b.d_desc),Y=function(V){var se;for(d(V,V.dyn_ltree,V.l_desc.max_code),d(V,V.dyn_dtree,V.d_desc.max_code),qe(V,V.bl_desc),se=y-1;3<=se&&V.bl_tree[2*T[se]+1]===0;se--);return V.opt_len+=3*(se+1)+5+5+4,se}(b),R=b.opt_len+3+7>>>3,(J=b.static_len+3+7>>>3)<=R&&(R=J)):R=J=Z+5,Z+4<=R&&N!==-1?k(b,N,Z,q):b.strategy===4||J===R?(ee(b,2+(q?1:0),3),Je(b,$,I)):(ee(b,4+(q?1:0),3),function(V,se,ke,ye){var He;for(ee(V,se-257,5),ee(V,ke-1,5),ee(V,ye-4,4),He=0;He<ye;He++)ee(V,V.bl_tree[2*T[He]+1],3);L(V,V.dyn_ltree,se-1),L(V,V.dyn_dtree,ke-1)}(b,b.l_desc.max_code+1,b.d_desc.max_code+1,Y+1),Je(b,b.dyn_ltree,b.dyn_dtree)),ge(b),q&&ve(b)},s._tr_tally=function(b,N,Z){return b.pending_buf[b.d_buf+2*b.last_lit]=N>>>8&255,b.pending_buf[b.d_buf+2*b.last_lit+1]=255&N,b.pending_buf[b.l_buf+b.last_lit]=255&Z,b.last_lit++,N===0?b.dyn_ltree[2*Z]++:(b.matches++,N--,b.dyn_ltree[2*(p[Z]+m+1)]++,b.dyn_dtree[2*O(N)]++),b.last_lit===b.lit_bufsize-1},s._tr_align=function(b){ee(b,2,3),X(b,w,$),function(N){N.bi_valid===16?(ae(N,N.bi_buf),N.bi_buf=0,N.bi_valid=0):8<=N.bi_valid&&(N.pending_buf[N.pending++]=255&N.bi_buf,N.bi_buf>>=8,N.bi_valid-=8)}(b)}},{"../utils/common":41}],53:[function(n,i,s){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,i,s){(function(r){(function(a,o){if(!a.setImmediate){var c,l,h,m,_=1,f={},y=!1,u=a.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(a);v=v&&v.setTimeout?v:a,c={}.toString.call(a.process)==="[object process]"?function(x){process.nextTick(function(){A(x)})}:function(){if(a.postMessage&&!a.importScripts){var x=!0,E=a.onmessage;return a.onmessage=function(){x=!1},a.postMessage("","*"),a.onmessage=E,x}}()?(m="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",w,!1):a.attachEvent("onmessage",w),function(x){a.postMessage(m+x,"*")}):a.MessageChannel?((h=new MessageChannel).port1.onmessage=function(x){A(x.data)},function(x){h.port2.postMessage(x)}):u&&"onreadystatechange"in u.createElement("script")?(l=u.documentElement,function(x){var E=u.createElement("script");E.onreadystatechange=function(){A(x),E.onreadystatechange=null,l.removeChild(E),E=null},l.appendChild(E)}):function(x){setTimeout(A,0,x)},v.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var E=new Array(arguments.length-1),D=0;D<E.length;D++)E[D]=arguments[D+1];var B={callback:x,args:E};return f[_]=B,c(_),_++},v.clearImmediate=g}function g(x){delete f[x]}function A(x){if(y)setTimeout(A,0,x);else{var E=f[x];if(E){y=!0;try{(function(D){var B=D.callback,z=D.args;switch(z.length){case 0:B();break;case 1:B(z[0]);break;case 2:B(z[0],z[1]);break;case 3:B(z[0],z[1],z[2]);break;default:B.apply(o,z)}})(E)}finally{g(x),y=!1}}}}function w(x){x.source===a&&typeof x.data=="string"&&x.data.indexOf(m)===0&&A(+x.data.slice(m.length))}})(typeof self>"u"?r===void 0?this:r:self)}).call(this,typeof Qn<"u"?Qn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(ys);var vd=ys.exports;const vs=yd(vd);var we;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const r={};for(const a of s)r[a]=a;return r},t.getValidEnumValues=s=>{const r=t.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),a={};for(const o of r)a[o]=s[o];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(r){return s[r]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const r=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&r.push(a);return r},t.find=(s,r)=>{for(const a of s)if(r(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function i(s,r=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(r)}t.joinValues=i,t.jsonStringifyReplacer=(s,r)=>typeof r=="bigint"?r.toString():r})(we||(we={}));var Vr;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Vr||(Vr={}));const te=we.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),It=t=>{switch(typeof t){case"undefined":return te.undefined;case"string":return te.string;case"number":return isNaN(t)?te.nan:te.number;case"boolean":return te.boolean;case"function":return te.function;case"bigint":return te.bigint;case"symbol":return te.symbol;case"object":return Array.isArray(t)?te.array:t===null?te.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?te.promise:typeof Map<"u"&&t instanceof Map?te.map:typeof Set<"u"&&t instanceof Set?te.set:typeof Date<"u"&&t instanceof Date?te.date:te.object;default:return te.unknown}},W=we.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),_d=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class nt extends Error{constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(r){return r.message},i={_errors:[]},s=r=>{for(const a of r.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)i._errors.push(n(a));else{let o=i,c=0;for(;c<a.path.length;){const l=a.path[c];c===a.path.length-1?(o[l]=o[l]||{_errors:[]},o[l]._errors.push(n(a))):o[l]=o[l]||{_errors:[]},o=o[l],c++}}};return s(this),i}toString(){return this.message}get message(){return JSON.stringify(this.issues,we.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},i=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):i.push(e(s));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}nt.create=t=>new nt(t);const fn=(t,e)=>{let n;switch(t.code){case W.invalid_type:t.received===te.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case W.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,we.jsonStringifyReplacer)}`;break;case W.unrecognized_keys:n=`Unrecognized key(s) in object: ${we.joinValues(t.keys,", ")}`;break;case W.invalid_union:n="Invalid input";break;case W.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${we.joinValues(t.options)}`;break;case W.invalid_enum_value:n=`Invalid enum value. Expected ${we.joinValues(t.options)}, received '${t.received}'`;break;case W.invalid_arguments:n="Invalid function arguments";break;case W.invalid_return_type:n="Invalid function return type";break;case W.invalid_date:n="Invalid date";break;case W.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:we.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case W.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case W.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case W.custom:n="Invalid input";break;case W.invalid_intersection_types:n="Intersection results could not be merged";break;case W.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case W.not_finite:n="Number must be finite";break;default:n=e.defaultError,we.assertNever(t)}return{message:n}};let _s=fn;function Ad(t){_s=t}function ar(){return _s}const or=t=>{const{data:e,path:n,errorMaps:i,issueData:s}=t,r=[...n,...s.path||[]],a={...s,path:r};let o="";const c=i.filter(l=>!!l).slice().reverse();for(const l of c)o=l(a,{data:e,defaultError:o}).message;return{...s,path:r,message:s.message||o}},bd=[];function ne(t,e){const n=or({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ar(),fn].filter(i=>!!i)});t.common.issues.push(n)}class Ue{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const i=[];for(const s of n){if(s.status==="aborted")return he;s.status==="dirty"&&e.dirty(),i.push(s.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,n){const i=[];for(const s of n)i.push({key:await s.key,value:await s.value});return Ue.mergeObjectSync(e,i)}static mergeObjectSync(e,n){const i={};for(const s of n){const{key:r,value:a}=s;if(r.status==="aborted"||a.status==="aborted")return he;r.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),r.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(i[r.value]=a.value)}return{status:e.value,value:i}}}const he=Object.freeze({status:"aborted"}),As=t=>({status:"dirty",value:t}),Ge=t=>({status:"valid",value:t}),Wr=t=>t.status==="aborted",Xr=t=>t.status==="dirty",pn=t=>t.status==="valid",cr=t=>typeof Promise<"u"&&t instanceof Promise;var oe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(oe||(oe={}));class ut{constructor(e,n,i,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=i,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const xi=(t,e)=>{if(pn(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new nt(t.common.issues);return this._error=n,this._error}}};function pe(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:i,description:s}=t;if(e&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,o)=>a.code!=="invalid_type"?{message:o.defaultError}:typeof o.data>"u"?{message:i??o.defaultError}:{message:n??o.defaultError},description:s}}class me{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return It(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:It(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ue,ctx:{common:e.parent.common,data:e.data,parsedType:It(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(cr(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const i=this.safeParse(e,n);if(i.success)return i.data;throw i.error}safeParse(e,n){var i;const s={common:{issues:[],async:(i=n?.async)!==null&&i!==void 0?i:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:It(e)},r=this._parseSync({data:e,path:s.path,parent:s});return xi(s,r)}async parseAsync(e,n){const i=await this.safeParseAsync(e,n);if(i.success)return i.data;throw i.error}async safeParseAsync(e,n){const i={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:It(e)},s=this._parse({data:e,path:i.path,parent:i}),r=await(cr(s)?s:Promise.resolve(s));return xi(i,r)}refine(e,n){const i=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,r)=>{const a=e(s),o=()=>r.addIssue({code:W.custom,...i(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,n){return this._refinement((i,s)=>e(i)?!0:(s.addIssue(typeof n=="function"?n(i,s):n),!1))}_refinement(e){return new at({schema:this,typeName:de.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return mt.create(this,this._def)}nullable(){return Pt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return rt.create(this,this._def)}promise(){return Kt.create(this,this._def)}or(e){return vn.create([this,e],this._def)}and(e){return _n.create(this,e,this._def)}transform(e){return new at({...pe(this._def),schema:this,typeName:de.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new In({...pe(this._def),innerType:this,defaultValue:n,typeName:de.ZodDefault})}brand(){return new ws({typeName:de.ZodBranded,type:this,...pe(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new hr({...pe(this._def),innerType:this,catchValue:n,typeName:de.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Bn.create(this,e)}readonly(){return pr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const wd=/^c[^\s-]{8,}$/i,kd=/^[a-z][a-z0-9]*$/,Id=/^[0-9A-HJKMNP-TV-Z]{26}$/,xd=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ed=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Bd="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Or;const Cd=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Sd=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Nd=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Td(t,e){return!!((e==="v4"||!e)&&Cd.test(t)||(e==="v6"||!e)&&Sd.test(t))}class et extends me{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==te.string){const r=this._getOrReturnCtx(e);return ne(r,{code:W.invalid_type,expected:te.string,received:r.parsedType}),he}const i=new Ue;let s;for(const r of this._def.checks)if(r.kind==="min")e.data.length<r.value&&(s=this._getOrReturnCtx(e,s),ne(s,{code:W.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),i.dirty());else if(r.kind==="max")e.data.length>r.value&&(s=this._getOrReturnCtx(e,s),ne(s,{code:W.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),i.dirty());else if(r.kind==="length"){const a=e.data.length>r.value,o=e.data.length<r.value;(a||o)&&(s=this._getOrReturnCtx(e,s),a?ne(s,{code:W.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):o&&ne(s,{code:W.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),i.dirty())}else if(r.kind==="email")Ed.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"email",code:W.invalid_string,message:r.message}),i.dirty());else if(r.kind==="emoji")Or||(Or=new RegExp(Bd,"u")),Or.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"emoji",code:W.invalid_string,message:r.message}),i.dirty());else if(r.kind==="uuid")xd.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"uuid",code:W.invalid_string,message:r.message}),i.dirty());else if(r.kind==="cuid")wd.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"cuid",code:W.invalid_string,message:r.message}),i.dirty());else if(r.kind==="cuid2")kd.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"cuid2",code:W.invalid_string,message:r.message}),i.dirty());else if(r.kind==="ulid")Id.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"ulid",code:W.invalid_string,message:r.message}),i.dirty());else if(r.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),ne(s,{validation:"url",code:W.invalid_string,message:r.message}),i.dirty()}else r.kind==="regex"?(r.regex.lastIndex=0,r.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"regex",code:W.invalid_string,message:r.message}),i.dirty())):r.kind==="trim"?e.data=e.data.trim():r.kind==="includes"?e.data.includes(r.value,r.position)||(s=this._getOrReturnCtx(e,s),ne(s,{code:W.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),i.dirty()):r.kind==="toLowerCase"?e.data=e.data.toLowerCase():r.kind==="toUpperCase"?e.data=e.data.toUpperCase():r.kind==="startsWith"?e.data.startsWith(r.value)||(s=this._getOrReturnCtx(e,s),ne(s,{code:W.invalid_string,validation:{startsWith:r.value},message:r.message}),i.dirty()):r.kind==="endsWith"?e.data.endsWith(r.value)||(s=this._getOrReturnCtx(e,s),ne(s,{code:W.invalid_string,validation:{endsWith:r.value},message:r.message}),i.dirty()):r.kind==="datetime"?Nd(r).test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{code:W.invalid_string,validation:"datetime",message:r.message}),i.dirty()):r.kind==="ip"?Td(e.data,r.version)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"ip",code:W.invalid_string,message:r.message}),i.dirty()):we.assertNever(r);return{status:i.value,value:e.data}}_regex(e,n,i){return this.refinement(s=>e.test(s),{validation:n,code:W.invalid_string,...oe.errToObj(i)})}_addCheck(e){return new et({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...oe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...oe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...oe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...oe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...oe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...oe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...oe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...oe.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,...oe.errToObj(e?.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...oe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...oe.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...oe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...oe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...oe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...oe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...oe.errToObj(n)})}nonempty(e){return this.min(1,oe.errToObj(e))}trim(){return new et({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new et({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new et({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}et.create=t=>{var e;return new et({checks:[],typeName:de.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...pe(t)})};function Dd(t,e){const n=(t.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,s=n>i?n:i,r=parseInt(t.toFixed(s).replace(".","")),a=parseInt(e.toFixed(s).replace(".",""));return r%a/Math.pow(10,s)}class Bt extends me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==te.number){const r=this._getOrReturnCtx(e);return ne(r,{code:W.invalid_type,expected:te.number,received:r.parsedType}),he}let i;const s=new Ue;for(const r of this._def.checks)r.kind==="int"?we.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{code:W.invalid_type,expected:"integer",received:"float",message:r.message}),s.dirty()):r.kind==="min"?(r.inclusive?e.data<r.value:e.data<=r.value)&&(i=this._getOrReturnCtx(e,i),ne(i,{code:W.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),s.dirty()):r.kind==="max"?(r.inclusive?e.data>r.value:e.data>=r.value)&&(i=this._getOrReturnCtx(e,i),ne(i,{code:W.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),s.dirty()):r.kind==="multipleOf"?Dd(e.data,r.value)!==0&&(i=this._getOrReturnCtx(e,i),ne(i,{code:W.not_multiple_of,multipleOf:r.value,message:r.message}),s.dirty()):r.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{code:W.not_finite,message:r.message}),s.dirty()):we.assertNever(r);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,oe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,oe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,oe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,oe.toString(n))}setLimit(e,n,i,s){return new Bt({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:oe.toString(s)}]})}_addCheck(e){return new Bt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:oe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:oe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:oe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:oe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:oe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:oe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:oe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:oe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:oe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&we.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Bt.create=t=>new Bt({checks:[],typeName:de.ZodNumber,coerce:t?.coerce||!1,...pe(t)});class Ct extends me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==te.bigint){const r=this._getOrReturnCtx(e);return ne(r,{code:W.invalid_type,expected:te.bigint,received:r.parsedType}),he}let i;const s=new Ue;for(const r of this._def.checks)r.kind==="min"?(r.inclusive?e.data<r.value:e.data<=r.value)&&(i=this._getOrReturnCtx(e,i),ne(i,{code:W.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),s.dirty()):r.kind==="max"?(r.inclusive?e.data>r.value:e.data>=r.value)&&(i=this._getOrReturnCtx(e,i),ne(i,{code:W.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),s.dirty()):r.kind==="multipleOf"?e.data%r.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),ne(i,{code:W.not_multiple_of,multipleOf:r.value,message:r.message}),s.dirty()):we.assertNever(r);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,oe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,oe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,oe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,oe.toString(n))}setLimit(e,n,i,s){return new Ct({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:oe.toString(s)}]})}_addCheck(e){return new Ct({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:oe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:oe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:oe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:oe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:oe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ct.create=t=>{var e;return new Ct({checks:[],typeName:de.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...pe(t)})};class mn extends me{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==te.boolean){const i=this._getOrReturnCtx(e);return ne(i,{code:W.invalid_type,expected:te.boolean,received:i.parsedType}),he}return Ge(e.data)}}mn.create=t=>new mn({typeName:de.ZodBoolean,coerce:t?.coerce||!1,...pe(t)});class jt extends me{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==te.date){const r=this._getOrReturnCtx(e);return ne(r,{code:W.invalid_type,expected:te.date,received:r.parsedType}),he}if(isNaN(e.data.getTime())){const r=this._getOrReturnCtx(e);return ne(r,{code:W.invalid_date}),he}const i=new Ue;let s;for(const r of this._def.checks)r.kind==="min"?e.data.getTime()<r.value&&(s=this._getOrReturnCtx(e,s),ne(s,{code:W.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),i.dirty()):r.kind==="max"?e.data.getTime()>r.value&&(s=this._getOrReturnCtx(e,s),ne(s,{code:W.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),i.dirty()):we.assertNever(r);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new jt({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:oe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:oe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}jt.create=t=>new jt({checks:[],coerce:t?.coerce||!1,typeName:de.ZodDate,...pe(t)});class lr extends me{_parse(e){if(this._getType(e)!==te.symbol){const i=this._getOrReturnCtx(e);return ne(i,{code:W.invalid_type,expected:te.symbol,received:i.parsedType}),he}return Ge(e.data)}}lr.create=t=>new lr({typeName:de.ZodSymbol,...pe(t)});class gn extends me{_parse(e){if(this._getType(e)!==te.undefined){const i=this._getOrReturnCtx(e);return ne(i,{code:W.invalid_type,expected:te.undefined,received:i.parsedType}),he}return Ge(e.data)}}gn.create=t=>new gn({typeName:de.ZodUndefined,...pe(t)});class yn extends me{_parse(e){if(this._getType(e)!==te.null){const i=this._getOrReturnCtx(e);return ne(i,{code:W.invalid_type,expected:te.null,received:i.parsedType}),he}return Ge(e.data)}}yn.create=t=>new yn({typeName:de.ZodNull,...pe(t)});class Xt extends me{constructor(){super(...arguments),this._any=!0}_parse(e){return Ge(e.data)}}Xt.create=t=>new Xt({typeName:de.ZodAny,...pe(t)});class Ot extends me{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ge(e.data)}}Ot.create=t=>new Ot({typeName:de.ZodUnknown,...pe(t)});class gt extends me{_parse(e){const n=this._getOrReturnCtx(e);return ne(n,{code:W.invalid_type,expected:te.never,received:n.parsedType}),he}}gt.create=t=>new gt({typeName:de.ZodNever,...pe(t)});class dr extends me{_parse(e){if(this._getType(e)!==te.undefined){const i=this._getOrReturnCtx(e);return ne(i,{code:W.invalid_type,expected:te.void,received:i.parsedType}),he}return Ge(e.data)}}dr.create=t=>new dr({typeName:de.ZodVoid,...pe(t)});class rt extends me{_parse(e){const{ctx:n,status:i}=this._processInputParams(e),s=this._def;if(n.parsedType!==te.array)return ne(n,{code:W.invalid_type,expected:te.array,received:n.parsedType}),he;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,o=n.data.length<s.exactLength.value;(a||o)&&(ne(n,{code:a?W.too_big:W.too_small,minimum:o?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),i.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(ne(n,{code:W.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),i.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(ne(n,{code:W.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>s.type._parseAsync(new ut(n,a,n.path,o)))).then(a=>Ue.mergeArray(i,a));const r=[...n.data].map((a,o)=>s.type._parseSync(new ut(n,a,n.path,o)));return Ue.mergeArray(i,r)}get element(){return this._def.type}min(e,n){return new rt({...this._def,minLength:{value:e,message:oe.toString(n)}})}max(e,n){return new rt({...this._def,maxLength:{value:e,message:oe.toString(n)}})}length(e,n){return new rt({...this._def,exactLength:{value:e,message:oe.toString(n)}})}nonempty(e){return this.min(1,e)}}rt.create=(t,e)=>new rt({type:t,minLength:null,maxLength:null,exactLength:null,typeName:de.ZodArray,...pe(e)});function Ft(t){if(t instanceof Se){const e={};for(const n in t.shape){const i=t.shape[n];e[n]=mt.create(Ft(i))}return new Se({...t._def,shape:()=>e})}else return t instanceof rt?new rt({...t._def,type:Ft(t.element)}):t instanceof mt?mt.create(Ft(t.unwrap())):t instanceof Pt?Pt.create(Ft(t.unwrap())):t instanceof ht?ht.create(t.items.map(e=>Ft(e))):t}class Se extends me{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=we.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==te.object){const l=this._getOrReturnCtx(e);return ne(l,{code:W.invalid_type,expected:te.object,received:l.parsedType}),he}const{status:i,ctx:s}=this._processInputParams(e),{shape:r,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof gt&&this._def.unknownKeys==="strip"))for(const l in s.data)a.includes(l)||o.push(l);const c=[];for(const l of a){const h=r[l],m=s.data[l];c.push({key:{status:"valid",value:l},value:h._parse(new ut(s,m,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof gt){const l=this._def.unknownKeys;if(l==="passthrough")for(const h of o)c.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(l==="strict")o.length>0&&(ne(s,{code:W.unrecognized_keys,keys:o}),i.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const h of o){const m=s.data[h];c.push({key:{status:"valid",value:h},value:l._parse(new ut(s,m,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const h of c){const m=await h.key;l.push({key:m,value:await h.value,alwaysSet:h.alwaysSet})}return l}).then(l=>Ue.mergeObjectSync(i,l)):Ue.mergeObjectSync(i,c)}get shape(){return this._def.shape()}strict(e){return oe.errToObj,new Se({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,i)=>{var s,r,a,o;const c=(a=(r=(s=this._def).errorMap)===null||r===void 0?void 0:r.call(s,n,i).message)!==null&&a!==void 0?a:i.defaultError;return n.code==="unrecognized_keys"?{message:(o=oe.errToObj(e).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new Se({...this._def,unknownKeys:"strip"})}passthrough(){return new Se({...this._def,unknownKeys:"passthrough"})}extend(e){return new Se({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Se({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:de.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Se({...this._def,catchall:e})}pick(e){const n={};return we.objectKeys(e).forEach(i=>{e[i]&&this.shape[i]&&(n[i]=this.shape[i])}),new Se({...this._def,shape:()=>n})}omit(e){const n={};return we.objectKeys(this.shape).forEach(i=>{e[i]||(n[i]=this.shape[i])}),new Se({...this._def,shape:()=>n})}deepPartial(){return Ft(this)}partial(e){const n={};return we.objectKeys(this.shape).forEach(i=>{const s=this.shape[i];e&&!e[i]?n[i]=s:n[i]=s.optional()}),new Se({...this._def,shape:()=>n})}required(e){const n={};return we.objectKeys(this.shape).forEach(i=>{if(e&&!e[i])n[i]=this.shape[i];else{let r=this.shape[i];for(;r instanceof mt;)r=r._def.innerType;n[i]=r}}),new Se({...this._def,shape:()=>n})}keyof(){return bs(we.objectKeys(this.shape))}}Se.create=(t,e)=>new Se({shape:()=>t,unknownKeys:"strip",catchall:gt.create(),typeName:de.ZodObject,...pe(e)});Se.strictCreate=(t,e)=>new Se({shape:()=>t,unknownKeys:"strict",catchall:gt.create(),typeName:de.ZodObject,...pe(e)});Se.lazycreate=(t,e)=>new Se({shape:t,unknownKeys:"strip",catchall:gt.create(),typeName:de.ZodObject,...pe(e)});class vn extends me{_parse(e){const{ctx:n}=this._processInputParams(e),i=this._def.options;function s(r){for(const o of r)if(o.result.status==="valid")return o.result;for(const o of r)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=r.map(o=>new nt(o.ctx.common.issues));return ne(n,{code:W.invalid_union,unionErrors:a}),he}if(n.common.async)return Promise.all(i.map(async r=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await r._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let r;const a=[];for(const c of i){const l={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:l});if(h.status==="valid")return h;h.status==="dirty"&&!r&&(r={result:h,ctx:l}),l.common.issues.length&&a.push(l.common.issues)}if(r)return n.common.issues.push(...r.ctx.common.issues),r.result;const o=a.map(c=>new nt(c));return ne(n,{code:W.invalid_union,unionErrors:o}),he}}get options(){return this._def.options}}vn.create=(t,e)=>new vn({options:t,typeName:de.ZodUnion,...pe(e)});const qn=t=>t instanceof bn?qn(t.schema):t instanceof at?qn(t.innerType()):t instanceof wn?[t.value]:t instanceof St?t.options:t instanceof kn?Object.keys(t.enum):t instanceof In?qn(t._def.innerType):t instanceof gn?[void 0]:t instanceof yn?[null]:null;class kr extends me{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==te.object)return ne(n,{code:W.invalid_type,expected:te.object,received:n.parsedType}),he;const i=this.discriminator,s=n.data[i],r=this.optionsMap.get(s);return r?n.common.async?r._parseAsync({data:n.data,path:n.path,parent:n}):r._parseSync({data:n.data,path:n.path,parent:n}):(ne(n,{code:W.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),he)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,i){const s=new Map;for(const r of n){const a=qn(r.shape[e]);if(!a)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(s.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);s.set(o,r)}}return new kr({typeName:de.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...pe(i)})}}function Kr(t,e){const n=It(t),i=It(e);if(t===e)return{valid:!0,data:t};if(n===te.object&&i===te.object){const s=we.objectKeys(e),r=we.objectKeys(t).filter(o=>s.indexOf(o)!==-1),a={...t,...e};for(const o of r){const c=Kr(t[o],e[o]);if(!c.valid)return{valid:!1};a[o]=c.data}return{valid:!0,data:a}}else if(n===te.array&&i===te.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let r=0;r<t.length;r++){const a=t[r],o=e[r],c=Kr(a,o);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===te.date&&i===te.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class _n extends me{_parse(e){const{status:n,ctx:i}=this._processInputParams(e),s=(r,a)=>{if(Wr(r)||Wr(a))return he;const o=Kr(r.value,a.value);return o.valid?((Xr(r)||Xr(a))&&n.dirty(),{status:n.value,value:o.data}):(ne(i,{code:W.invalid_intersection_types}),he)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([r,a])=>s(r,a)):s(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}_n.create=(t,e,n)=>new _n({left:t,right:e,typeName:de.ZodIntersection,...pe(n)});class ht extends me{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==te.array)return ne(i,{code:W.invalid_type,expected:te.array,received:i.parsedType}),he;if(i.data.length<this._def.items.length)return ne(i,{code:W.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),he;!this._def.rest&&i.data.length>this._def.items.length&&(ne(i,{code:W.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const r=[...i.data].map((a,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new ut(i,a,i.path,o)):null}).filter(a=>!!a);return i.common.async?Promise.all(r).then(a=>Ue.mergeArray(n,a)):Ue.mergeArray(n,r)}get items(){return this._def.items}rest(e){return new ht({...this._def,rest:e})}}ht.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ht({items:t,typeName:de.ZodTuple,rest:null,...pe(e)})};class An extends me{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==te.object)return ne(i,{code:W.invalid_type,expected:te.object,received:i.parsedType}),he;const s=[],r=this._def.keyType,a=this._def.valueType;for(const o in i.data)s.push({key:r._parse(new ut(i,o,i.path,o)),value:a._parse(new ut(i,i.data[o],i.path,o))});return i.common.async?Ue.mergeObjectAsync(n,s):Ue.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,i){return n instanceof me?new An({keyType:e,valueType:n,typeName:de.ZodRecord,...pe(i)}):new An({keyType:et.create(),valueType:e,typeName:de.ZodRecord,...pe(n)})}}class ur extends me{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==te.map)return ne(i,{code:W.invalid_type,expected:te.map,received:i.parsedType}),he;const s=this._def.keyType,r=this._def.valueType,a=[...i.data.entries()].map(([o,c],l)=>({key:s._parse(new ut(i,o,i.path,[l,"key"])),value:r._parse(new ut(i,c,i.path,[l,"value"]))}));if(i.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of a){const l=await c.key,h=await c.value;if(l.status==="aborted"||h.status==="aborted")return he;(l.status==="dirty"||h.status==="dirty")&&n.dirty(),o.set(l.value,h.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const c of a){const l=c.key,h=c.value;if(l.status==="aborted"||h.status==="aborted")return he;(l.status==="dirty"||h.status==="dirty")&&n.dirty(),o.set(l.value,h.value)}return{status:n.value,value:o}}}}ur.create=(t,e,n)=>new ur({valueType:e,keyType:t,typeName:de.ZodMap,...pe(n)});class Mt extends me{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==te.set)return ne(i,{code:W.invalid_type,expected:te.set,received:i.parsedType}),he;const s=this._def;s.minSize!==null&&i.data.size<s.minSize.value&&(ne(i,{code:W.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&i.data.size>s.maxSize.value&&(ne(i,{code:W.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const r=this._def.valueType;function a(c){const l=new Set;for(const h of c){if(h.status==="aborted")return he;h.status==="dirty"&&n.dirty(),l.add(h.value)}return{status:n.value,value:l}}const o=[...i.data.values()].map((c,l)=>r._parse(new ut(i,c,i.path,l)));return i.common.async?Promise.all(o).then(c=>a(c)):a(o)}min(e,n){return new Mt({...this._def,minSize:{value:e,message:oe.toString(n)}})}max(e,n){return new Mt({...this._def,maxSize:{value:e,message:oe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Mt.create=(t,e)=>new Mt({valueType:t,minSize:null,maxSize:null,typeName:de.ZodSet,...pe(e)});class qt extends me{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==te.function)return ne(n,{code:W.invalid_type,expected:te.function,received:n.parsedType}),he;function i(o,c){return or({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ar(),fn].filter(l=>!!l),issueData:{code:W.invalid_arguments,argumentsError:c}})}function s(o,c){return or({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ar(),fn].filter(l=>!!l),issueData:{code:W.invalid_return_type,returnTypeError:c}})}const r={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof Kt){const o=this;return Ge(async function(...c){const l=new nt([]),h=await o._def.args.parseAsync(c,r).catch(f=>{throw l.addIssue(i(c,f)),l}),m=await Reflect.apply(a,this,h);return await o._def.returns._def.type.parseAsync(m,r).catch(f=>{throw l.addIssue(s(m,f)),l})})}else{const o=this;return Ge(function(...c){const l=o._def.args.safeParse(c,r);if(!l.success)throw new nt([i(c,l.error)]);const h=Reflect.apply(a,this,l.data),m=o._def.returns.safeParse(h,r);if(!m.success)throw new nt([s(h,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new qt({...this._def,args:ht.create(e).rest(Ot.create())})}returns(e){return new qt({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,i){return new qt({args:e||ht.create([]).rest(Ot.create()),returns:n||Ot.create(),typeName:de.ZodFunction,...pe(i)})}}class bn extends me{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}bn.create=(t,e)=>new bn({getter:t,typeName:de.ZodLazy,...pe(e)});class wn extends me{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ne(n,{received:n.data,code:W.invalid_literal,expected:this._def.value}),he}return{status:"valid",value:e.data}}get value(){return this._def.value}}wn.create=(t,e)=>new wn({value:t,typeName:de.ZodLiteral,...pe(e)});function bs(t,e){return new St({values:t,typeName:de.ZodEnum,...pe(e)})}class St extends me{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),i=this._def.values;return ne(n,{expected:we.joinValues(i),received:n.parsedType,code:W.invalid_type}),he}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),i=this._def.values;return ne(n,{received:n.data,code:W.invalid_enum_value,options:i}),he}return Ge(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return St.create(e)}exclude(e){return St.create(this.options.filter(n=>!e.includes(n)))}}St.create=bs;class kn extends me{_parse(e){const n=we.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==te.string&&i.parsedType!==te.number){const s=we.objectValues(n);return ne(i,{expected:we.joinValues(s),received:i.parsedType,code:W.invalid_type}),he}if(n.indexOf(e.data)===-1){const s=we.objectValues(n);return ne(i,{received:i.data,code:W.invalid_enum_value,options:s}),he}return Ge(e.data)}get enum(){return this._def.values}}kn.create=(t,e)=>new kn({values:t,typeName:de.ZodNativeEnum,...pe(e)});class Kt extends me{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==te.promise&&n.common.async===!1)return ne(n,{code:W.invalid_type,expected:te.promise,received:n.parsedType}),he;const i=n.parsedType===te.promise?n.data:Promise.resolve(n.data);return Ge(i.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Kt.create=(t,e)=>new Kt({type:t,typeName:de.ZodPromise,...pe(e)});class at extends me{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===de.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:i}=this._processInputParams(e),s=this._def.effect||null,r={addIssue:a=>{ne(i,a),a.fatal?n.abort():n.dirty()},get path(){return i.path}};if(r.addIssue=r.addIssue.bind(r),s.type==="preprocess"){const a=s.transform(i.data,r);return i.common.issues.length?{status:"dirty",value:i.data}:i.common.async?Promise.resolve(a).then(o=>this._def.schema._parseAsync({data:o,path:i.path,parent:i})):this._def.schema._parseSync({data:a,path:i.path,parent:i})}if(s.type==="refinement"){const a=o=>{const c=s.refinement(o,r);if(i.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(i.common.async===!1){const o=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?he:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(o=>o.status==="aborted"?he:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(s.type==="transform")if(i.common.async===!1){const a=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!pn(a))return a;const o=s.transform(a.value,r);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(a=>pn(a)?Promise.resolve(s.transform(a.value,r)).then(o=>({status:n.value,value:o})):a);we.assertNever(s)}}at.create=(t,e,n)=>new at({schema:t,typeName:de.ZodEffects,effect:e,...pe(n)});at.createWithPreprocess=(t,e,n)=>new at({schema:e,effect:{type:"preprocess",transform:t},typeName:de.ZodEffects,...pe(n)});class mt extends me{_parse(e){return this._getType(e)===te.undefined?Ge(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}mt.create=(t,e)=>new mt({innerType:t,typeName:de.ZodOptional,...pe(e)});class Pt extends me{_parse(e){return this._getType(e)===te.null?Ge(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Pt.create=(t,e)=>new Pt({innerType:t,typeName:de.ZodNullable,...pe(e)});class In extends me{_parse(e){const{ctx:n}=this._processInputParams(e);let i=n.data;return n.parsedType===te.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}In.create=(t,e)=>new In({innerType:t,typeName:de.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...pe(e)});class hr extends me{_parse(e){const{ctx:n}=this._processInputParams(e),i={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return cr(s)?s.then(r=>({status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new nt(i.common.issues)},input:i.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new nt(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}hr.create=(t,e)=>new hr({innerType:t,typeName:de.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...pe(e)});class fr extends me{_parse(e){if(this._getType(e)!==te.nan){const i=this._getOrReturnCtx(e);return ne(i,{code:W.invalid_type,expected:te.nan,received:i.parsedType}),he}return{status:"valid",value:e.data}}}fr.create=t=>new fr({typeName:de.ZodNaN,...pe(t)});const Rd=Symbol("zod_brand");class ws extends me{_parse(e){const{ctx:n}=this._processInputParams(e),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class Bn extends me{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const r=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return r.status==="aborted"?he:r.status==="dirty"?(n.dirty(),As(r.value)):this._def.out._parseAsync({data:r.value,path:i.path,parent:i})})();{const s=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?he:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:i.path,parent:i})}}static create(e,n){return new Bn({in:e,out:n,typeName:de.ZodPipeline})}}class pr extends me{_parse(e){const n=this._def.innerType._parse(e);return pn(n)&&(n.value=Object.freeze(n.value)),n}}pr.create=(t,e)=>new pr({innerType:t,typeName:de.ZodReadonly,...pe(e)});const ks=(t,e={},n)=>t?Xt.create().superRefine((i,s)=>{var r,a;if(!t(i)){const o=typeof e=="function"?e(i):typeof e=="string"?{message:e}:e,c=(a=(r=o.fatal)!==null&&r!==void 0?r:n)!==null&&a!==void 0?a:!0,l=typeof o=="string"?{message:o}:o;s.addIssue({code:"custom",...l,fatal:c})}}):Xt.create(),zd={object:Se.lazycreate};var de;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(de||(de={}));const Od=(t,e={message:`Input not instance of ${t.name}`})=>ks(n=>n instanceof t,e),Is=et.create,xs=Bt.create,jd=fr.create,Md=Ct.create,Es=mn.create,Pd=jt.create,Qd=lr.create,Zd=gn.create,Ld=yn.create,Fd=Xt.create,$d=Ot.create,Ud=gt.create,qd=dr.create,Hd=rt.create,Gd=Se.create,Jd=Se.strictCreate,Vd=vn.create,Wd=kr.create,Xd=_n.create,Kd=ht.create,Yd=An.create,eu=ur.create,tu=Mt.create,nu=qt.create,ru=bn.create,iu=wn.create,su=St.create,au=kn.create,ou=Kt.create,Ei=at.create,cu=mt.create,lu=Pt.create,du=at.createWithPreprocess,uu=Bn.create,hu=()=>Is().optional(),fu=()=>xs().optional(),pu=()=>Es().optional(),mu={string:t=>et.create({...t,coerce:!0}),number:t=>Bt.create({...t,coerce:!0}),boolean:t=>mn.create({...t,coerce:!0}),bigint:t=>Ct.create({...t,coerce:!0}),date:t=>jt.create({...t,coerce:!0})},gu=he;var K=Object.freeze({__proto__:null,defaultErrorMap:fn,setErrorMap:Ad,getErrorMap:ar,makeIssue:or,EMPTY_PATH:bd,addIssueToContext:ne,ParseStatus:Ue,INVALID:he,DIRTY:As,OK:Ge,isAborted:Wr,isDirty:Xr,isValid:pn,isAsync:cr,get util(){return we},get objectUtil(){return Vr},ZodParsedType:te,getParsedType:It,ZodType:me,ZodString:et,ZodNumber:Bt,ZodBigInt:Ct,ZodBoolean:mn,ZodDate:jt,ZodSymbol:lr,ZodUndefined:gn,ZodNull:yn,ZodAny:Xt,ZodUnknown:Ot,ZodNever:gt,ZodVoid:dr,ZodArray:rt,ZodObject:Se,ZodUnion:vn,ZodDiscriminatedUnion:kr,ZodIntersection:_n,ZodTuple:ht,ZodRecord:An,ZodMap:ur,ZodSet:Mt,ZodFunction:qt,ZodLazy:bn,ZodLiteral:wn,ZodEnum:St,ZodNativeEnum:kn,ZodPromise:Kt,ZodEffects:at,ZodTransformer:at,ZodOptional:mt,ZodNullable:Pt,ZodDefault:In,ZodCatch:hr,ZodNaN:fr,BRAND:Rd,ZodBranded:ws,ZodPipeline:Bn,ZodReadonly:pr,custom:ks,Schema:me,ZodSchema:me,late:zd,get ZodFirstPartyTypeKind(){return de},coerce:mu,any:Fd,array:Hd,bigint:Md,boolean:Es,date:Pd,discriminatedUnion:Wd,effect:Ei,enum:su,function:nu,instanceof:Od,intersection:Xd,lazy:ru,literal:iu,map:eu,nan:jd,nativeEnum:au,never:Ud,null:Ld,nullable:lu,number:xs,object:Gd,oboolean:pu,onumber:fu,optional:cu,ostring:hu,pipeline:uu,preprocess:du,promise:ou,record:Yd,set:tu,strictObject:Jd,string:Is,symbol:Qd,transformer:Ei,tuple:Kd,undefined:Zd,union:Vd,unknown:$d,void:qd,NEVER:gu,ZodIssueCode:W,quotelessJson:_d,ZodError:nt});const yu=K.literal("audio").or(K.literal("image")).or(K.literal("tiles")),xn=K.string(),ii=K.array(xn);K.object({lat:K.number(),lng:K.number()});const vu=K.object({id:K.string(),title:K.string(),desc:K.string(),lat:K.number(),lng:K.number(),gallery:ii,links:K.record(K.object({href:K.string()}))}),_u=K.object({type:K.literal("control"),id:K.string(),lat:K.number(),lng:K.number(),control:K.literal("route").or(K.literal("path")).or(K.literal("none"))}),Au=K.object({type:K.literal("stop"),id:K.string(),title:K.string(),desc:K.string(),lat:K.number(),lng:K.number(),trigger_radius:K.number(),control:K.literal("route").or(K.literal("path")).or(K.literal("none")),gallery:ii,transcript:K.optional(xn),narration:K.optional(xn),links:K.record(K.object({href:K.string()}))}),bu=K.object({type:K.literal("driving").or(K.literal("walking")),id:K.string(),title:K.string(),desc:K.string(),gallery:ii,tiles:K.optional(xn),route:K.array(K.discriminatedUnion("type",[Au,_u])),pois:K.array(vu),path:K.string(),links:K.record(K.object({href:K.string()}))}),wu=K.object({originalId:K.string(),createDate:K.optional(K.coerce.date()),modifyDate:K.optional(K.coerce.date()),title:K.string(),tours:K.array(bu),assets:K.record(xn,K.object({hash:K.string(),type:yu,alt:K.string(),attrib:K.string()}))});class tt extends Error{}const ku=async(t,e,n)=>{let i;try{i=await vs.loadAsync(e)}catch(a){throw new tt("The chosen file does not appear to be a valid zip file.",{cause:a})}let s=i.file("shufti.json");if(s==null&&(s=i.file("tourforge.json")),s==null)throw new tt("Project data file is missing.");let r;try{r=await s.async("text")}catch{throw new tt("Failed to load project data as text.")}return await Bs(t,async()=>JSON.parse(r),async a=>{const o=i.file(a);if(o==null)throw new tt("The asset with hash "+a+" is missing.");return await o.async("blob")},n)},Iu=K.discriminatedUnion("status",[K.object({status:K.literal("success"),asset:K.string(),data:K.instanceof(Blob)}),K.object({status:K.literal("failure"),asset:K.optional(K.string())})]),xu=async(t,e,n)=>{if(!["http:","https:"].includes(e.protocol))throw new tt("Project URLs must use http or https protocols.");const i=document.createElement("iframe");i.style.display="none",i.src=e.toString(),document.body.appendChild(i),await new Promise(r=>{i.addEventListener("load",()=>{r()})});const s=await Bs(t,async()=>{try{return JSON.parse(await(await jr(e.origin,i,"shufti.json")).text())}catch{return JSON.parse(await(await jr(e.origin,i,"tourforge.json")).text())}},async r=>await jr(e.origin,i,r),n);return document.body.removeChild(i),s},jr=async(t,e,n,i=1e4)=>await new Promise((s,r)=>{const a=o=>{if(console.log(o),o.source!==e.contentWindow)return;const c=Iu.safeParse(o.data);if(!c.success)return;const l=c.data;l.asset===n&&(l.status==="success"?(window.removeEventListener("message",a),s(l.data)):(window.removeEventListener("message",a),r(new tt("Failed to request asset via iframe"))))};setTimeout(()=>{window.removeEventListener("message",a),r(new tt("Timed out while requesting asset via iframe"))},i),window.addEventListener("message",a),e.contentWindow.postMessage(n,t)}),Bs=async(t,e,n,i)=>{let s;try{s=await e()}catch(m){throw new tt("Project data could not be loaded as JSON.",{cause:m})}let r;try{r=wu.parse(s)}catch(m){throw new tt("Project data has an invalid schema.",{cause:m})}const a={};for(const m of Object.values(r.assets)){let _;try{_=await n(m.hash)}catch(f){console.warn("Ignoring failed read of asset with hash",m.hash,f);continue}a[m.hash]=_}const o=[];for(const m of await t.listProjects())m.originalId===r.originalId&&o.push(m);let c="new";i!=null&&o.length>0&&(c=await i(o));let l;if(c==="cancel")return;c==="new"?l=ri():l=c.replace;const h={...r,id:l,source:{type:"bundle"}};await t.storeProject(h);for(const[m,_]of Object.entries(a))await t.containsAsset(m)||await t.storeAssetWithHash(m,_);return h},Eu="_Wrapper_vv8yh_1",Bu="_Home_vv8yh_5",Cu="_Welcome_vv8yh_14",Su="_CreateLoadButtons_vv8yh_36",Nu="_Projects_vv8yh_42",Tu="_ProjectCard_vv8yh_51",Du="_ProjectName_vv8yh_60",Ru="_ProjectButton_vv8yh_66",zu="_ProjectsButtons_vv8yh_74",ot={Wrapper:Eu,Home:Bu,Welcome:Cu,CreateLoadButtons:Su,Projects:Nu,ProjectCard:Tu,ProjectName:Du,ProjectButton:Ru,ProjectsButtons:zu};var Ou=ie("<div><div><button class=primary> Create Project</button><button class=primary> Load Project</button></div><button class=primary> Load Project From URL"),ju=ie("<div><div><div><img alt=Shufti><header>Welcome to Shufti Builder!</header><p>Shufti Builder is your tool for creating GPS-guided audio tours compatible with the Shufti app. It works entirely within your web browser. A status message is always present in the top bar indicating how persistently your work is saved; this message is necessary because the web platform limits our ability to guarantee persistent storage at all times.</p><p>To the right is the list of tours (if any) that are currently loaded into Shufti Builder; click Edit <!> to begin editing. Alternatively, start a new project with <strong>Create Project</strong>, or use <strong>Load Project</strong> to load a project zip archive that was previously saved from the project editor screen. <strong>Load Project From URL</strong> downloads the latest content of a project that is currently published at some URL on the internet.</p></div><div>"),Mu=ie("<div><div></div><button>");const Pu=()=>{const t=_t(),[e,{refetch:n}]=Et(async()=>await t.listProjects());Di(async()=>{const c=new URL(window.location.href),l=c.searchParams.get("shufti-load-project")||c.searchParams.get("tourforge-load-project");l!=null&&(c.searchParams.delete("shufti-load-project"),c.searchParams.delete("tourforge-load-project"),window.history.replaceState({},"",c),await r(l))});const i=async()=>{const c=ri();await t.storeProject({id:c,originalId:c,source:{type:"new"},title:"Empty Project",tours:[],assets:{}}),await n()},s=async()=>{const c=document.createElement("input");c.type="file",c.addEventListener("input",async l=>{const h=l.currentTarget;if(h==null||!(h instanceof HTMLInputElement))return;const m=h.files;if(m==null||m.length<1)return;const _=m[0],f=async y=>(y.length<=0,"new");try{await Ze.promise(ku(t,_,f),{loading:"Loading the project...",success:"Successfully loaded the project.",error(y){return y instanceof tt?`An error occurred while loading the project: ${y.message}`:"An internal error occurred while loading the project."}})}catch(y){console.error("Failed to import tour bundle:",y)}await n()}),c.dispatchEvent(new MouseEvent("click"))},r=async c=>{let l;try{l=new URL(c)}catch(h){Ze.error("The URL you entered is invalid. URLs look like this: https://example.org/example/test/"),console.error("Invalid URL",h);return}try{await Ze.promise(xu(t,l,async()=>"new"),{loading:"Downloading the project from the internet...",success:"Successfully downloaded the project.",error(h){return h instanceof tt?`An error occurred while downloading the project: ${h.message}`:"An internal error occurred while downloading the project."}},{duration:1/0})}catch(h){console.error("Failed to import tour bundle:",h)}await n()},a=async()=>{const c=prompt("Enter the URL to load a project from:");c==null||c.length===0||await r(c)},o=(c,l)=>async()=>{const h=prompt(`Are you sure you want to delete this project? This cannot be undone.
To delete the project, type its full title, "${l}", below.`);h===l?(await t.deleteProject(c),await n()):h!=null&&Ze.error("The project was not deleted because the title entered was incorrect.")};return(()=>{var c=ju(),l=c.firstChild,h=l.firstChild,m=h.firstChild,_=m.nextSibling,f=_.nextSibling,y=f.nextSibling,u=y.firstChild,v=u.nextSibling;v.nextSibling;var g=h.nextSibling;return Le(m,"src",rr),m.style.setProperty("width","180px"),m.style.setProperty("margin-bottom","16px"),U(y,P(ki,{}),v),U(g,()=>e.loading&&"Loading projects...",null),U(g,()=>e.error!=null&&`Error occurred while loading projects: ${e.error}`,null),U(g,P(Te,{get when(){return _e(()=>!e.loading)()&&e()},get children(){return[P(en,{get each(){return e()},children:A=>(()=>{var w=Mu(),x=w.firstChild,E=x.nextSibling;return U(x,()=>A.title),U(w,P(Qe,{get href(){return`/projects/${A.id}`},get class(){return ot.ProjectButton},get children(){return P(ki,{})}}),E),$i(E,"click",o(A.id,A.title),!0),U(E,P(gs,{})),ce(D=>{var B=ot.ProjectCard,z=ot.ProjectName,C=ot.ProjectButton;return B!==D.e&&G(w,D.e=B),z!==D.t&&G(x,D.t=z),C!==D.a&&G(E,D.a=C),D},{e:void 0,t:void 0,a:void 0}),w})()}),(()=>{var A=Ou(),w=A.firstChild,x=w.firstChild,E=x.firstChild,D=x.nextSibling,B=D.firstChild,z=w.nextSibling,C=z.firstChild;return x.$$click=i,U(x,P(uc,{}),E),D.$$click=s,U(D,P(ms,{}),B),z.$$click=a,U(z,P(hc,{}),C),ce(T=>{var $=ot.ProjectsButtons,I=ot.CreateLoadButtons;return $!==T.e&&G(A,T.e=$),I!==T.t&&G(w,T.t=I),T},{e:void 0,t:void 0}),A})()]}}),null),ce(A=>{var w=ot.Wrapper,x=ot.Home,E=ot.Welcome,D=ot.Projects;return w!==A.e&&G(c,A.e=w),x!==A.t&&G(l,A.t=x),E!==A.a&&G(h,A.a=E),D!==A.o&&G(g,A.o=D),A},{e:void 0,t:void 0,a:void 0,o:void 0}),c})()};Nt(["click"]);const Ir=()=>{const t=gr(Cs);if(t!==void 0)return t;throw new Error("Attempted to useProject() outside of ProjectProvider")},Cs=Yr(),Qu=t=>{const e=_t(),[n,i]=Re(!1),[s,{mutate:r}]=Et(async()=>await e.loadProject(t.id)),a=()=>{if(!n())return s()},o=async l=>{if(n())return;const h=a();if(h===void 0){console.warn("ignoring function update undefined dbProject");return}typeof l=="function"&&(l=l(h));const m={...h,...l};r(m),await e.storeProject(m)},c=async()=>{n()||s()==null||(i(!0),await e.deleteProject(s().id))};return P(Cs.Provider,{value:[a,o,c],get children(){return t.children}})},Zu='"use strict";(()=>{var x;(function(r){r.assertEqual=n=>n;function e(n){}r.assertIs=e;function t(n){throw new Error}r.assertNever=t,r.arrayToEnum=n=>{let a={};for(let i of n)a[i]=i;return a},r.getValidEnumValues=n=>{let a=r.objectKeys(n).filter(o=>typeof n[n[o]]!="number"),i={};for(let o of a)i[o]=n[o];return r.objectValues(i)},r.objectValues=n=>r.objectKeys(n).map(function(a){return n[a]}),r.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{let a=[];for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&a.push(i);return a},r.find=(n,a)=>{for(let i of n)if(a(i))return i},r.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&isFinite(n)&&Math.floor(n)===n;function s(n,a=" | "){return n.map(i=>typeof i=="string"?`\'${i}\'`:i).join(a)}r.joinValues=s,r.jsonStringifyReplacer=(n,a)=>typeof a=="bigint"?a.toString():a})(x||(x={}));var _e;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(_e||(_e={}));var u=x.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),M=r=>{switch(typeof r){case"undefined":return u.undefined;case"string":return u.string;case"number":return isNaN(r)?u.nan:u.number;case"boolean":return u.boolean;case"function":return u.function;case"bigint":return u.bigint;case"symbol":return u.symbol;case"object":return Array.isArray(r)?u.array:r===null?u.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?u.promise:typeof Map<"u"&&r instanceof Map?u.map:typeof Set<"u"&&r instanceof Set?u.set:typeof Date<"u"&&r instanceof Date?u.date:u.object;default:return u.unknown}},c=x.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Le=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:"),T=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(a){return a.message},s={_errors:[]},n=a=>{for(let i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(n);else if(i.code==="invalid_return_type")n(i.returnTypeError);else if(i.code==="invalid_arguments")n(i.argumentsError);else if(i.path.length===0)s._errors.push(t(i));else{let o=s,h=0;for(;h<i.path.length;){let d=i.path[h];h===i.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(t(i))):o[d]=o[d]||{_errors:[]},o=o[d],h++}}};return n(this),s}toString(){return this.message}get message(){return JSON.stringify(this.issues,x.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){let t={},s=[];for(let n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):s.push(e(n));return{formErrors:s,fieldErrors:t}}get formErrors(){return this.flatten()}};T.create=r=>new T(r);var ae=(r,e)=>{let t;switch(r.code){case c.invalid_type:r.received===u.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case c.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,x.jsonStringifyReplacer)}`;break;case c.unrecognized_keys:t=`Unrecognized key(s) in object: ${x.joinValues(r.keys,", ")}`;break;case c.invalid_union:t="Invalid input";break;case c.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${x.joinValues(r.options)}`;break;case c.invalid_enum_value:t=`Invalid enum value. Expected ${x.joinValues(r.options)}, received \'${r.received}\'`;break;case c.invalid_arguments:t="Invalid function arguments";break;case c.invalid_return_type:t="Invalid function return type";break;case c.invalid_date:t="Invalid date";break;case c.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:x.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case c.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case c.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case c.custom:t="Invalid input";break;case c.invalid_intersection_types:t="Intersection results could not be merged";break;case c.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case c.not_finite:t="Number must be finite";break;default:t=e.defaultError,x.assertNever(r)}return{message:t}},Oe=ae;function $e(r){Oe=r}function ue(){return Oe}var le=r=>{let{data:e,path:t,errorMaps:s,issueData:n}=r,a=[...t,...n.path||[]],i={...n,path:a},o="",h=s.filter(d=>!!d).slice().reverse();for(let d of h)o=d(i,{data:e,defaultError:o}).message;return{...n,path:a,message:n.message||o}},ze=[];function f(r,e){let t=le({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ue(),ae].filter(s=>!!s)});r.common.issues.push(t)}var b=class r{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let s=[];for(let n of t){if(n.status==="aborted")return y;n.status==="dirty"&&e.dirty(),s.push(n.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,t){let s=[];for(let n of t)s.push({key:await n.key,value:await n.value});return r.mergeObjectSync(e,s)}static mergeObjectSync(e,t){let s={};for(let n of t){let{key:a,value:i}=n;if(a.status==="aborted"||i.status==="aborted")return y;a.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||n.alwaysSet)&&(s[a.value]=i.value)}return{status:e.value,value:s}}},y=Object.freeze({status:"aborted"}),Ce=r=>({status:"dirty",value:r}),k=r=>({status:"valid",value:r}),xe=r=>r.status==="aborted",be=r=>r.status==="dirty",ie=r=>r.status==="valid",fe=r=>typeof Promise<"u"&&r instanceof Promise,p;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e?.message})(p||(p={}));var O=class{constructor(e,t,s,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=s,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Se=(r,e)=>{if(ie(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new T(r.common.issues);return this._error=t,this._error}}};function g(r){if(!r)return{};let{errorMap:e,invalid_type_error:t,required_error:s,description:n}=r;if(e&&(t||s))throw new Error(`Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(i,o)=>i.code!=="invalid_type"?{message:o.defaultError}:typeof o.data>"u"?{message:s??o.defaultError}:{message:t??o.defaultError},description:n}}var v=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return M(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:M(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new b,ctx:{common:e.parent.common,data:e.data,parsedType:M(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(fe(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let s=this.safeParse(e,t);if(s.success)return s.data;throw s.error}safeParse(e,t){var s;let n={common:{issues:[],async:(s=t?.async)!==null&&s!==void 0?s:!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:M(e)},a=this._parseSync({data:e,path:n.path,parent:n});return Se(n,a)}async parseAsync(e,t){let s=await this.safeParseAsync(e,t);if(s.success)return s.data;throw s.error}async safeParseAsync(e,t){let s={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:M(e)},n=this._parse({data:e,path:s.path,parent:s}),a=await(fe(n)?n:Promise.resolve(n));return Se(s,a)}refine(e,t){let s=n=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(n):t;return this._refinement((n,a)=>{let i=e(n),o=()=>a.addIssue({code:c.custom,...s(n)});return typeof Promise<"u"&&i instanceof Promise?i.then(h=>h?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(e,t){return this._refinement((s,n)=>e(s)?!0:(n.addIssue(typeof t=="function"?t(s,n):t),!1))}_refinement(e){return new S({schema:this,typeName:m.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return C.create(this,this._def)}nullable(){return I.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return R.create(this,this._def)}promise(){return V.create(this,this._def)}or(e){return q.create([this,e],this._def)}and(e){return W.create(this,e,this._def)}transform(e){return new S({...g(this._def),schema:this,typeName:m.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t=typeof e=="function"?e:()=>e;return new X({...g(this._def),innerType:this,defaultValue:t,typeName:m.ZodDefault})}brand(){return new ye({typeName:m.ZodBranded,type:this,...g(this._def)})}catch(e){let t=typeof e=="function"?e:()=>e;return new re({...g(this._def),innerType:this,catchValue:t,typeName:m.ZodCatch})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return oe.create(this,e)}readonly(){return ne.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},De=/^c[^\\s-]{8,}$/i,Ue=/^[a-z][a-z0-9]*$/,Be=/^[0-9A-HJKMNP-TV-Z]{26}$/,qe=/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/i,We=/^(?!\\.)(?!.*\\.\\.)([A-Z0-9_+-\\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\\-]*\\.)+[A-Z]{2,}$/i,Ge="^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$",ve,He=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Je=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Ye=r=>r.precision?r.offset?new RegExp(`^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}\\\\.\\\\d{${r.precision}}(([+-]\\\\d{2}(:?\\\\d{2})?)|Z)$`):new RegExp(`^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}\\\\.\\\\d{${r.precision}}Z$`):r.precision===0?r.offset?new RegExp("^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}(([+-]\\\\d{2}(:?\\\\d{2})?)|Z)$"):new RegExp("^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}Z$"):r.offset?new RegExp("^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}(\\\\.\\\\d+)?(([+-]\\\\d{2}(:?\\\\d{2})?)|Z)$"):new RegExp("^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}(\\\\.\\\\d+)?Z$");function Xe(r,e){return!!((e==="v4"||!e)&&He.test(r)||(e==="v6"||!e)&&Je.test(r))}var A=class r extends v{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==u.string){let a=this._getOrReturnCtx(e);return f(a,{code:c.invalid_type,expected:u.string,received:a.parsedType}),y}let s=new b,n;for(let a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),f(n,{code:c.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="max")e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),f(n,{code:c.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="length"){let i=e.data.length>a.value,o=e.data.length<a.value;(i||o)&&(n=this._getOrReturnCtx(e,n),i?f(n,{code:c.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&f(n,{code:c.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),s.dirty())}else if(a.kind==="email")We.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"email",code:c.invalid_string,message:a.message}),s.dirty());else if(a.kind==="emoji")ve||(ve=new RegExp(Ge,"u")),ve.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"emoji",code:c.invalid_string,message:a.message}),s.dirty());else if(a.kind==="uuid")qe.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"uuid",code:c.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid")De.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"cuid",code:c.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid2")Ue.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"cuid2",code:c.invalid_string,message:a.message}),s.dirty());else if(a.kind==="ulid")Be.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"ulid",code:c.invalid_string,message:a.message}),s.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),f(n,{validation:"url",code:c.invalid_string,message:a.message}),s.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"regex",code:c.invalid_string,message:a.message}),s.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(e,n),f(n,{code:c.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),s.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(n=this._getOrReturnCtx(e,n),f(n,{code:c.invalid_string,validation:{startsWith:a.value},message:a.message}),s.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(n=this._getOrReturnCtx(e,n),f(n,{code:c.invalid_string,validation:{endsWith:a.value},message:a.message}),s.dirty()):a.kind==="datetime"?Ye(a).test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{code:c.invalid_string,validation:"datetime",message:a.message}),s.dirty()):a.kind==="ip"?Xe(e.data,a.version)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"ip",code:c.invalid_string,message:a.message}),s.dirty()):x.assertNever(a);return{status:s.value,value:e.data}}_regex(e,t,s){return this.refinement(n=>e.test(n),{validation:t,code:c.invalid_string,...p.errToObj(s)})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...p.errToObj(e)})}url(e){return this._addCheck({kind:"url",...p.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...p.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...p.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...p.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...p.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...p.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...p.errToObj(e)})}datetime(e){var t;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(t=e?.offset)!==null&&t!==void 0?t:!1,...p.errToObj(e?.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...p.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...p.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...p.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...p.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...p.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...p.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...p.errToObj(t)})}nonempty(e){return this.min(1,p.errToObj(e))}trim(){return new r({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};A.create=r=>{var e;return new A({checks:[],typeName:m.ZodString,coerce:(e=r?.coerce)!==null&&e!==void 0?e:!1,...g(r)})};function Qe(r,e){let t=(r.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,n=t>s?t:s,a=parseInt(r.toFixed(n).replace(".","")),i=parseInt(e.toFixed(n).replace(".",""));return a%i/Math.pow(10,n)}var L=class r extends v{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==u.number){let a=this._getOrReturnCtx(e);return f(a,{code:c.invalid_type,expected:u.number,received:a.parsedType}),y}let s,n=new b;for(let a of this._def.checks)a.kind==="int"?x.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),f(s,{code:c.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),f(s,{code:c.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),f(s,{code:c.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="multipleOf"?Qe(e.data,a.value)!==0&&(s=this._getOrReturnCtx(e,s),f(s,{code:c.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),f(s,{code:c.not_finite,message:a.message}),n.dirty()):x.assertNever(a);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,p.toString(t))}gt(e,t){return this.setLimit("min",e,!1,p.toString(t))}lte(e,t){return this.setLimit("max",e,!0,p.toString(t))}lt(e,t){return this.setLimit("max",e,!1,p.toString(t))}setLimit(e,t,s,n){return new r({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:p.toString(n)}]})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:p.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:p.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:p.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:p.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:p.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:p.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:p.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:p.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:p.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&x.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(t===null||s.value>t)&&(t=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(t)&&Number.isFinite(e)}};L.create=r=>new L({checks:[],typeName:m.ZodNumber,coerce:r?.coerce||!1,...g(r)});var $=class r extends v{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==u.bigint){let a=this._getOrReturnCtx(e);return f(a,{code:c.invalid_type,expected:u.bigint,received:a.parsedType}),y}let s,n=new b;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),f(s,{code:c.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),f(s,{code:c.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),f(s,{code:c.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):x.assertNever(a);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,p.toString(t))}gt(e,t){return this.setLimit("min",e,!1,p.toString(t))}lte(e,t){return this.setLimit("max",e,!0,p.toString(t))}lt(e,t){return this.setLimit("max",e,!1,p.toString(t))}setLimit(e,t,s,n){return new r({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:p.toString(n)}]})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:p.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:p.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:p.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:p.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:p.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};$.create=r=>{var e;return new $({checks:[],typeName:m.ZodBigInt,coerce:(e=r?.coerce)!==null&&e!==void 0?e:!1,...g(r)})};var z=class extends v{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==u.boolean){let s=this._getOrReturnCtx(e);return f(s,{code:c.invalid_type,expected:u.boolean,received:s.parsedType}),y}return k(e.data)}};z.create=r=>new z({typeName:m.ZodBoolean,coerce:r?.coerce||!1,...g(r)});var D=class r extends v{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==u.date){let a=this._getOrReturnCtx(e);return f(a,{code:c.invalid_type,expected:u.date,received:a.parsedType}),y}if(isNaN(e.data.getTime())){let a=this._getOrReturnCtx(e);return f(a,{code:c.invalid_date}),y}let s=new b,n;for(let a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(n=this._getOrReturnCtx(e,n),f(n,{code:c.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),s.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(n=this._getOrReturnCtx(e,n),f(n,{code:c.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),s.dirty()):x.assertNever(a);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:p.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:p.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}};D.create=r=>new D({checks:[],coerce:r?.coerce||!1,typeName:m.ZodDate,...g(r)});var K=class extends v{_parse(e){if(this._getType(e)!==u.symbol){let s=this._getOrReturnCtx(e);return f(s,{code:c.invalid_type,expected:u.symbol,received:s.parsedType}),y}return k(e.data)}};K.create=r=>new K({typeName:m.ZodSymbol,...g(r)});var U=class extends v{_parse(e){if(this._getType(e)!==u.undefined){let s=this._getOrReturnCtx(e);return f(s,{code:c.invalid_type,expected:u.undefined,received:s.parsedType}),y}return k(e.data)}};U.create=r=>new U({typeName:m.ZodUndefined,...g(r)});var B=class extends v{_parse(e){if(this._getType(e)!==u.null){let s=this._getOrReturnCtx(e);return f(s,{code:c.invalid_type,expected:u.null,received:s.parsedType}),y}return k(e.data)}};B.create=r=>new B({typeName:m.ZodNull,...g(r)});var P=class extends v{constructor(){super(...arguments),this._any=!0}_parse(e){return k(e.data)}};P.create=r=>new P({typeName:m.ZodAny,...g(r)});var Z=class extends v{constructor(){super(...arguments),this._unknown=!0}_parse(e){return k(e.data)}};Z.create=r=>new Z({typeName:m.ZodUnknown,...g(r)});var E=class extends v{_parse(e){let t=this._getOrReturnCtx(e);return f(t,{code:c.invalid_type,expected:u.never,received:t.parsedType}),y}};E.create=r=>new E({typeName:m.ZodNever,...g(r)});var F=class extends v{_parse(e){if(this._getType(e)!==u.undefined){let s=this._getOrReturnCtx(e);return f(s,{code:c.invalid_type,expected:u.void,received:s.parsedType}),y}return k(e.data)}};F.create=r=>new F({typeName:m.ZodVoid,...g(r)});var R=class r extends v{_parse(e){let{ctx:t,status:s}=this._processInputParams(e),n=this._def;if(t.parsedType!==u.array)return f(t,{code:c.invalid_type,expected:u.array,received:t.parsedType}),y;if(n.exactLength!==null){let i=t.data.length>n.exactLength.value,o=t.data.length<n.exactLength.value;(i||o)&&(f(t,{code:i?c.too_big:c.too_small,minimum:o?n.exactLength.value:void 0,maximum:i?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),s.dirty())}if(n.minLength!==null&&t.data.length<n.minLength.value&&(f(t,{code:c.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),s.dirty()),n.maxLength!==null&&t.data.length>n.maxLength.value&&(f(t,{code:c.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),s.dirty()),t.common.async)return Promise.all([...t.data].map((i,o)=>n.type._parseAsync(new O(t,i,t.path,o)))).then(i=>b.mergeArray(s,i));let a=[...t.data].map((i,o)=>n.type._parseSync(new O(t,i,t.path,o)));return b.mergeArray(s,a)}get element(){return this._def.type}min(e,t){return new r({...this._def,minLength:{value:e,message:p.toString(t)}})}max(e,t){return new r({...this._def,maxLength:{value:e,message:p.toString(t)}})}length(e,t){return new r({...this._def,exactLength:{value:e,message:p.toString(t)}})}nonempty(e){return this.min(1,e)}};R.create=(r,e)=>new R({type:r,minLength:null,maxLength:null,exactLength:null,typeName:m.ZodArray,...g(e)});function Q(r){if(r instanceof w){let e={};for(let t in r.shape){let s=r.shape[t];e[t]=C.create(Q(s))}return new w({...r._def,shape:()=>e})}else return r instanceof R?new R({...r._def,type:Q(r.element)}):r instanceof C?C.create(Q(r.unwrap())):r instanceof I?I.create(Q(r.unwrap())):r instanceof N?N.create(r.items.map(e=>Q(e))):r}var w=class r extends v{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=x.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==u.object){let d=this._getOrReturnCtx(e);return f(d,{code:c.invalid_type,expected:u.object,received:d.parsedType}),y}let{status:s,ctx:n}=this._processInputParams(e),{shape:a,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof E&&this._def.unknownKeys==="strip"))for(let d in n.data)i.includes(d)||o.push(d);let h=[];for(let d of i){let _=a[d],j=n.data[d];h.push({key:{status:"valid",value:d},value:_._parse(new O(n,j,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof E){let d=this._def.unknownKeys;if(d==="passthrough")for(let _ of o)h.push({key:{status:"valid",value:_},value:{status:"valid",value:n.data[_]}});else if(d==="strict")o.length>0&&(f(n,{code:c.unrecognized_keys,keys:o}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let d=this._def.catchall;for(let _ of o){let j=n.data[_];h.push({key:{status:"valid",value:_},value:d._parse(new O(n,j,n.path,_)),alwaysSet:_ in n.data})}}return n.common.async?Promise.resolve().then(async()=>{let d=[];for(let _ of h){let j=await _.key;d.push({key:j,value:await _.value,alwaysSet:_.alwaysSet})}return d}).then(d=>b.mergeObjectSync(s,d)):b.mergeObjectSync(s,h)}get shape(){return this._def.shape()}strict(e){return p.errToObj,new r({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,s)=>{var n,a,i,o;let h=(i=(a=(n=this._def).errorMap)===null||a===void 0?void 0:a.call(n,t,s).message)!==null&&i!==void 0?i:s.defaultError;return t.code==="unrecognized_keys"?{message:(o=p.errToObj(e).message)!==null&&o!==void 0?o:h}:{message:h}}}:{}})}strip(){return new r({...this._def,unknownKeys:"strip"})}passthrough(){return new r({...this._def,unknownKeys:"passthrough"})}extend(e){return new r({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new r({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:m.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new r({...this._def,catchall:e})}pick(e){let t={};return x.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(t[s]=this.shape[s])}),new r({...this._def,shape:()=>t})}omit(e){let t={};return x.objectKeys(this.shape).forEach(s=>{e[s]||(t[s]=this.shape[s])}),new r({...this._def,shape:()=>t})}deepPartial(){return Q(this)}partial(e){let t={};return x.objectKeys(this.shape).forEach(s=>{let n=this.shape[s];e&&!e[s]?t[s]=n:t[s]=n.optional()}),new r({...this._def,shape:()=>t})}required(e){let t={};return x.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])t[s]=this.shape[s];else{let a=this.shape[s];for(;a instanceof C;)a=a._def.innerType;t[s]=a}}),new r({...this._def,shape:()=>t})}keyof(){return Ee(x.objectKeys(this.shape))}};w.create=(r,e)=>new w({shape:()=>r,unknownKeys:"strip",catchall:E.create(),typeName:m.ZodObject,...g(e)});w.strictCreate=(r,e)=>new w({shape:()=>r,unknownKeys:"strict",catchall:E.create(),typeName:m.ZodObject,...g(e)});w.lazycreate=(r,e)=>new w({shape:r,unknownKeys:"strip",catchall:E.create(),typeName:m.ZodObject,...g(e)});var q=class extends v{_parse(e){let{ctx:t}=this._processInputParams(e),s=this._def.options;function n(a){for(let o of a)if(o.result.status==="valid")return o.result;for(let o of a)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;let i=a.map(o=>new T(o.ctx.common.issues));return f(t,{code:c.invalid_union,unionErrors:i}),y}if(t.common.async)return Promise.all(s.map(async a=>{let i={...t,common:{...t.common,issues:[]},parent:null};return{result:await a._parseAsync({data:t.data,path:t.path,parent:i}),ctx:i}})).then(n);{let a,i=[];for(let h of s){let d={...t,common:{...t.common,issues:[]},parent:null},_=h._parseSync({data:t.data,path:t.path,parent:d});if(_.status==="valid")return _;_.status==="dirty"&&!a&&(a={result:_,ctx:d}),d.common.issues.length&&i.push(d.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;let o=i.map(h=>new T(h));return f(t,{code:c.invalid_union,unionErrors:o}),y}}get options(){return this._def.options}};q.create=(r,e)=>new q({options:r,typeName:m.ZodUnion,...g(e)});var de=r=>r instanceof G?de(r.schema):r instanceof S?de(r.innerType()):r instanceof H?[r.value]:r instanceof J?r.options:r instanceof Y?Object.keys(r.enum):r instanceof X?de(r._def.innerType):r instanceof U?[void 0]:r instanceof B?[null]:null,he=class r extends v{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==u.object)return f(t,{code:c.invalid_type,expected:u.object,received:t.parsedType}),y;let s=this.discriminator,n=t.data[s],a=this.optionsMap.get(n);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(f(t,{code:c.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),y)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,s){let n=new Map;for(let a of t){let i=de(a.shape[e]);if(!i)throw new Error(`A discriminator value for key \\`${e}\\` could not be extracted from all schema options`);for(let o of i){if(n.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);n.set(o,a)}}return new r({typeName:m.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...g(s)})}};function ke(r,e){let t=M(r),s=M(e);if(r===e)return{valid:!0,data:r};if(t===u.object&&s===u.object){let n=x.objectKeys(e),a=x.objectKeys(r).filter(o=>n.indexOf(o)!==-1),i={...r,...e};for(let o of a){let h=ke(r[o],e[o]);if(!h.valid)return{valid:!1};i[o]=h.data}return{valid:!0,data:i}}else if(t===u.array&&s===u.array){if(r.length!==e.length)return{valid:!1};let n=[];for(let a=0;a<r.length;a++){let i=r[a],o=e[a],h=ke(i,o);if(!h.valid)return{valid:!1};n.push(h.data)}return{valid:!0,data:n}}else return t===u.date&&s===u.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}var W=class extends v{_parse(e){let{status:t,ctx:s}=this._processInputParams(e),n=(a,i)=>{if(xe(a)||xe(i))return y;let o=ke(a.value,i.value);return o.valid?((be(a)||be(i))&&t.dirty(),{status:t.value,value:o.data}):(f(s,{code:c.invalid_intersection_types}),y)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([a,i])=>n(a,i)):n(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}};W.create=(r,e,t)=>new W({left:r,right:e,typeName:m.ZodIntersection,...g(t)});var N=class r extends v{_parse(e){let{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==u.array)return f(s,{code:c.invalid_type,expected:u.array,received:s.parsedType}),y;if(s.data.length<this._def.items.length)return f(s,{code:c.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),y;!this._def.rest&&s.data.length>this._def.items.length&&(f(s,{code:c.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let a=[...s.data].map((i,o)=>{let h=this._def.items[o]||this._def.rest;return h?h._parse(new O(s,i,s.path,o)):null}).filter(i=>!!i);return s.common.async?Promise.all(a).then(i=>b.mergeArray(t,i)):b.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new r({...this._def,rest:e})}};N.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new N({items:r,typeName:m.ZodTuple,rest:null,...g(e)})};var pe=class r extends v{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==u.object)return f(s,{code:c.invalid_type,expected:u.object,received:s.parsedType}),y;let n=[],a=this._def.keyType,i=this._def.valueType;for(let o in s.data)n.push({key:a._parse(new O(s,o,s.path,o)),value:i._parse(new O(s,s.data[o],s.path,o))});return s.common.async?b.mergeObjectAsync(t,n):b.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,s){return t instanceof v?new r({keyType:e,valueType:t,typeName:m.ZodRecord,...g(s)}):new r({keyType:A.create(),valueType:e,typeName:m.ZodRecord,...g(t)})}},ee=class extends v{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==u.map)return f(s,{code:c.invalid_type,expected:u.map,received:s.parsedType}),y;let n=this._def.keyType,a=this._def.valueType,i=[...s.data.entries()].map(([o,h],d)=>({key:n._parse(new O(s,o,s.path,[d,"key"])),value:a._parse(new O(s,h,s.path,[d,"value"]))}));if(s.common.async){let o=new Map;return Promise.resolve().then(async()=>{for(let h of i){let d=await h.key,_=await h.value;if(d.status==="aborted"||_.status==="aborted")return y;(d.status==="dirty"||_.status==="dirty")&&t.dirty(),o.set(d.value,_.value)}return{status:t.value,value:o}})}else{let o=new Map;for(let h of i){let d=h.key,_=h.value;if(d.status==="aborted"||_.status==="aborted")return y;(d.status==="dirty"||_.status==="dirty")&&t.dirty(),o.set(d.value,_.value)}return{status:t.value,value:o}}}};ee.create=(r,e,t)=>new ee({valueType:e,keyType:r,typeName:m.ZodMap,...g(t)});var te=class r extends v{_parse(e){let{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==u.set)return f(s,{code:c.invalid_type,expected:u.set,received:s.parsedType}),y;let n=this._def;n.minSize!==null&&s.data.size<n.minSize.value&&(f(s,{code:c.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),n.maxSize!==null&&s.data.size>n.maxSize.value&&(f(s,{code:c.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let a=this._def.valueType;function i(h){let d=new Set;for(let _ of h){if(_.status==="aborted")return y;_.status==="dirty"&&t.dirty(),d.add(_.value)}return{status:t.value,value:d}}let o=[...s.data.values()].map((h,d)=>a._parse(new O(s,h,s.path,d)));return s.common.async?Promise.all(o).then(h=>i(h)):i(o)}min(e,t){return new r({...this._def,minSize:{value:e,message:p.toString(t)}})}max(e,t){return new r({...this._def,maxSize:{value:e,message:p.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};te.create=(r,e)=>new te({valueType:r,minSize:null,maxSize:null,typeName:m.ZodSet,...g(e)});var me=class r extends v{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==u.function)return f(t,{code:c.invalid_type,expected:u.function,received:t.parsedType}),y;function s(o,h){return le({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ue(),ae].filter(d=>!!d),issueData:{code:c.invalid_arguments,argumentsError:h}})}function n(o,h){return le({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ue(),ae].filter(d=>!!d),issueData:{code:c.invalid_return_type,returnTypeError:h}})}let a={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof V){let o=this;return k(async function(...h){let d=new T([]),_=await o._def.args.parseAsync(h,a).catch(ge=>{throw d.addIssue(s(h,ge)),d}),j=await Reflect.apply(i,this,_);return await o._def.returns._def.type.parseAsync(j,a).catch(ge=>{throw d.addIssue(n(j,ge)),d})})}else{let o=this;return k(function(...h){let d=o._def.args.safeParse(h,a);if(!d.success)throw new T([s(h,d.error)]);let _=Reflect.apply(i,this,d.data),j=o._def.returns.safeParse(_,a);if(!j.success)throw new T([n(_,j.error)]);return j.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new r({...this._def,args:N.create(e).rest(Z.create())})}returns(e){return new r({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,s){return new r({args:e||N.create([]).rest(Z.create()),returns:t||Z.create(),typeName:m.ZodFunction,...g(s)})}},G=class extends v{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};G.create=(r,e)=>new G({getter:r,typeName:m.ZodLazy,...g(e)});var H=class extends v{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return f(t,{received:t.data,code:c.invalid_literal,expected:this._def.value}),y}return{status:"valid",value:e.data}}get value(){return this._def.value}};H.create=(r,e)=>new H({value:r,typeName:m.ZodLiteral,...g(e)});function Ee(r,e){return new J({values:r,typeName:m.ZodEnum,...g(e)})}var J=class r extends v{_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),s=this._def.values;return f(t,{expected:x.joinValues(s),received:t.parsedType,code:c.invalid_type}),y}if(this._def.values.indexOf(e.data)===-1){let t=this._getOrReturnCtx(e),s=this._def.values;return f(t,{received:t.data,code:c.invalid_enum_value,options:s}),y}return k(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e){return r.create(e)}exclude(e){return r.create(this.options.filter(t=>!e.includes(t)))}};J.create=Ee;var Y=class extends v{_parse(e){let t=x.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==u.string&&s.parsedType!==u.number){let n=x.objectValues(t);return f(s,{expected:x.joinValues(n),received:s.parsedType,code:c.invalid_type}),y}if(t.indexOf(e.data)===-1){let n=x.objectValues(t);return f(s,{received:s.data,code:c.invalid_enum_value,options:n}),y}return k(e.data)}get enum(){return this._def.values}};Y.create=(r,e)=>new Y({values:r,typeName:m.ZodNativeEnum,...g(e)});var V=class extends v{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==u.promise&&t.common.async===!1)return f(t,{code:c.invalid_type,expected:u.promise,received:t.parsedType}),y;let s=t.parsedType===u.promise?t.data:Promise.resolve(t.data);return k(s.then(n=>this._def.type.parseAsync(n,{path:t.path,errorMap:t.common.contextualErrorMap})))}};V.create=(r,e)=>new V({type:r,typeName:m.ZodPromise,...g(e)});var S=class extends v{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===m.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:s}=this._processInputParams(e),n=this._def.effect||null,a={addIssue:i=>{f(s,i),i.fatal?t.abort():t.dirty()},get path(){return s.path}};if(a.addIssue=a.addIssue.bind(a),n.type==="preprocess"){let i=n.transform(s.data,a);return s.common.issues.length?{status:"dirty",value:s.data}:s.common.async?Promise.resolve(i).then(o=>this._def.schema._parseAsync({data:o,path:s.path,parent:s})):this._def.schema._parseSync({data:i,path:s.path,parent:s})}if(n.type==="refinement"){let i=o=>{let h=n.refinement(o,a);if(s.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(s.common.async===!1){let o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?y:(o.status==="dirty"&&t.dirty(),i(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>o.status==="aborted"?y:(o.status==="dirty"&&t.dirty(),i(o.value).then(()=>({status:t.value,value:o.value}))))}if(n.type==="transform")if(s.common.async===!1){let i=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!ie(i))return i;let o=n.transform(i.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(i=>ie(i)?Promise.resolve(n.transform(i.value,a)).then(o=>({status:t.value,value:o})):i);x.assertNever(n)}};S.create=(r,e,t)=>new S({schema:r,typeName:m.ZodEffects,effect:e,...g(t)});S.createWithPreprocess=(r,e,t)=>new S({schema:e,effect:{type:"preprocess",transform:r},typeName:m.ZodEffects,...g(t)});var C=class extends v{_parse(e){return this._getType(e)===u.undefined?k(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};C.create=(r,e)=>new C({innerType:r,typeName:m.ZodOptional,...g(e)});var I=class extends v{_parse(e){return this._getType(e)===u.null?k(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};I.create=(r,e)=>new I({innerType:r,typeName:m.ZodNullable,...g(e)});var X=class extends v{_parse(e){let{ctx:t}=this._processInputParams(e),s=t.data;return t.parsedType===u.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};X.create=(r,e)=>new X({innerType:r,typeName:m.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...g(e)});var re=class extends v{_parse(e){let{ctx:t}=this._processInputParams(e),s={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return fe(n)?n.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new T(s.common.issues)},input:s.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new T(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}};re.create=(r,e)=>new re({innerType:r,typeName:m.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...g(e)});var se=class extends v{_parse(e){if(this._getType(e)!==u.nan){let s=this._getOrReturnCtx(e);return f(s,{code:c.invalid_type,expected:u.nan,received:s.parsedType}),y}return{status:"valid",value:e.data}}};se.create=r=>new se({typeName:m.ZodNaN,...g(r)});var Ke=Symbol("zod_brand"),ye=class extends v{_parse(e){let{ctx:t}=this._processInputParams(e),s=t.data;return this._def.type._parse({data:s,path:t.path,parent:t})}unwrap(){return this._def.type}},oe=class r extends v{_parse(e){let{status:t,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?y:a.status==="dirty"?(t.dirty(),Ce(a.value)):this._def.out._parseAsync({data:a.value,path:s.path,parent:s})})();{let n=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return n.status==="aborted"?y:n.status==="dirty"?(t.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:s.path,parent:s})}}static create(e,t){return new r({in:e,out:t,typeName:m.ZodPipeline})}},ne=class extends v{_parse(e){let t=this._def.innerType._parse(e);return ie(t)&&(t.value=Object.freeze(t.value)),t}};ne.create=(r,e)=>new ne({innerType:r,typeName:m.ZodReadonly,...g(e)});var Ne=(r,e={},t)=>r?P.create().superRefine((s,n)=>{var a,i;if(!r(s)){let o=typeof e=="function"?e(s):typeof e=="string"?{message:e}:e,h=(i=(a=o.fatal)!==null&&a!==void 0?a:t)!==null&&i!==void 0?i:!0,d=typeof o=="string"?{message:o}:o;n.addIssue({code:"custom",...d,fatal:h})}}):P.create(),Fe={object:w.lazycreate},m;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(m||(m={}));var et=(r,e={message:`Input not instance of ${r.name}`})=>Ne(t=>t instanceof r,e),Ze=A.create,Re=L.create,tt=se.create,rt=$.create,Ie=z.create,st=D.create,nt=K.create,at=U.create,it=B.create,ot=P.create,ct=Z.create,dt=E.create,ut=F.create,lt=R.create,ft=w.create,ht=w.strictCreate,pt=q.create,mt=he.create,yt=W.create,gt=N.create,vt=pe.create,_t=ee.create,xt=te.create,bt=me.create,kt=G.create,wt=H.create,Tt=J.create,St=Y.create,jt=V.create,je=S.create,Ot=C.create,Ct=I.create,Et=S.createWithPreprocess,Nt=oe.create,Zt=()=>Ze().optional(),Rt=()=>Re().optional(),It=()=>Ie().optional(),Mt={string:r=>A.create({...r,coerce:!0}),number:r=>L.create({...r,coerce:!0}),boolean:r=>z.create({...r,coerce:!0}),bigint:r=>$.create({...r,coerce:!0}),date:r=>D.create({...r,coerce:!0})},At=y,l=Object.freeze({__proto__:null,defaultErrorMap:ae,setErrorMap:$e,getErrorMap:ue,makeIssue:le,EMPTY_PATH:ze,addIssueToContext:f,ParseStatus:b,INVALID:y,DIRTY:Ce,OK:k,isAborted:xe,isDirty:be,isValid:ie,isAsync:fe,get util(){return x},get objectUtil(){return _e},ZodParsedType:u,getParsedType:M,ZodType:v,ZodString:A,ZodNumber:L,ZodBigInt:$,ZodBoolean:z,ZodDate:D,ZodSymbol:K,ZodUndefined:U,ZodNull:B,ZodAny:P,ZodUnknown:Z,ZodNever:E,ZodVoid:F,ZodArray:R,ZodObject:w,ZodUnion:q,ZodDiscriminatedUnion:he,ZodIntersection:W,ZodTuple:N,ZodRecord:pe,ZodMap:ee,ZodSet:te,ZodFunction:me,ZodLazy:G,ZodLiteral:H,ZodEnum:J,ZodNativeEnum:Y,ZodPromise:V,ZodEffects:S,ZodTransformer:S,ZodOptional:C,ZodNullable:I,ZodDefault:X,ZodCatch:re,ZodNaN:se,BRAND:Ke,ZodBranded:ye,ZodPipeline:oe,ZodReadonly:ne,custom:Ne,Schema:v,ZodSchema:v,late:Fe,get ZodFirstPartyTypeKind(){return m},coerce:Mt,any:ot,array:lt,bigint:rt,boolean:Ie,date:st,discriminatedUnion:mt,effect:je,enum:Tt,function:bt,instanceof:et,intersection:yt,lazy:kt,literal:wt,map:_t,nan:tt,nativeEnum:St,never:dt,null:it,nullable:Ct,number:Re,object:ft,oboolean:It,onumber:Rt,optional:Ot,ostring:Zt,pipeline:Nt,preprocess:Et,promise:jt,record:vt,set:xt,strictObject:ht,string:Ze,symbol:nt,transformer:je,tuple:gt,undefined:at,union:pt,unknown:ct,void:ut,NEVER:At,ZodIssueCode:c,quotelessJson:Le,ZodError:T});var Pt=l.literal("audio").or(l.literal("image")).or(l.literal("tiles")),ce=l.string(),we=l.array(ce),Gt=l.object({lat:l.number(),lng:l.number()}),Vt=l.object({id:l.string(),title:l.string(),desc:l.string(),lat:l.number(),lng:l.number(),gallery:we,links:l.record(l.object({href:l.string()}))}),Lt=l.object({type:l.literal("control"),id:l.string(),lat:l.number(),lng:l.number(),control:l.literal("route").or(l.literal("path")).or(l.literal("none"))}),$t=l.object({type:l.literal("stop"),id:l.string(),title:l.string(),desc:l.string(),lat:l.number(),lng:l.number(),trigger_radius:l.number(),control:l.literal("route").or(l.literal("path")).or(l.literal("none")),gallery:we,transcript:l.optional(ce),narration:l.optional(ce),links:l.record(l.object({href:l.string()}))}),zt=l.object({type:l.literal("driving").or(l.literal("walking")),id:l.string(),title:l.string(),desc:l.string(),gallery:we,tiles:l.optional(ce),route:l.array(l.discriminatedUnion("type",[$t,Lt])),pois:l.array(Vt),path:l.string(),links:l.record(l.object({href:l.string()}))}),Me=l.object({originalId:l.string(),createDate:l.optional(l.coerce.date()),modifyDate:l.optional(l.coerce.date()),title:l.string(),tours:l.array(zt),assets:l.record(ce,l.object({hash:l.string(),type:Pt,alt:l.string(),attrib:l.string()}))});var Dt=(async()=>{let r=await fetch("shufti.json");if(r.ok||(r=await fetch("tourforge.json")),!r.ok){console.error("Failed to load project data");return}let e=Me.safeParse(await r.json());if(e.success)return e.data;console.error(e.error)})(),Te=async r=>await(await fetch(r)).blob();window.addEventListener("message",async r=>{try{let e=r.source;if(e==null){console.error("Cannot respond to postMessage if source is null");return}let t={targetOrigin:"*"},s=r.data;if(typeof s!="string"){console.error("Invalid data passed in postMessage"),e.postMessage({status:"failure",asset:s},t);return}if(s==="shufti.json"||s==="tourforge.json"){let a;try{a=await Te("shufti.json")}catch{a=await Te("tourforge.json")}console.log("Serving project data to postMessage sender"),e.postMessage({status:"success",asset:s,data:a},t);return}let n=await Dt;if(Object.values(n?.assets??{}).map(a=>a.hash).includes(s)){console.log("Serving asset with hash "+s+" to postMessage sender"),e.postMessage({status:"success",asset:s,data:await Te(s)},t);return}console.error("Requested asset did not match an asset in the project."),e.postMessage({status:"failure",asset:s},t)}catch(e){console.error("Got an exception while trying to respond to postMessage:",e);let t=r.source;t?.postMessage({status:"failure",asset:r.data},{targetOrigin:"*"})}});var Ut=document.querySelector("template#content"),Ae=Ut.content.cloneNode(!0),Pe=Ae.querySelector("a.edit-tour-link"),Ve=window.location.origin+"/?shufti-load-project="+encodeURIComponent(window.location.href);Pe.href=Ve;Pe.innerText=Ve;document.body.appendChild(Ae);})();\n',Lu=`This zip file contains the data for a tour made with Shufti Builder. In order for
the Shufti mobile app to use the data, it has to be uploaded to a web server.

Simply upload all the files in this zip to a server, such that they are all
available for download. This includes the index.html and index.js files, which
are there so that users of Shufti Builder can visit the URL where the tour data is
stored and have the tour data be automatically downloaded by Shufti Builder.

For example, the list of files in this archive look something like this:
- shufti.json
- index.html
- index.js
- dbd57c2b1d5aa3d84bdc7eaa7cd57dd7c66bd6cccd851394b2c4cf96570239ff
- ... more long strings of random numbers and letters ...

The files with long strings of random numbers and letters are assets for the
tour: mostly images and audio. The random numbers and letters of each file
name correspond to the SHA-256 hash of the file.

The web server needs to serve the data in this zip from some common base URL.
Continuing with the previous example, your configuration could serve the files
in a pattern like this:
- https://your.site.example.org/some/path/to/the/files/shufti.json
- https://your.site.example.org/some/path/to/the/files/index.html
- https://your.site.example.org/some/path/to/the/files/index.js
- https://your.site.example.org/some/path/to/the/files/dbd57c2b1d5aa3d84bdc7eaa7cd57dd7c66bd6cccd851394b2c4cf96570239ff
- ... make sure each asset is included ...

It is important that the files are all served from the same base URL. This URL
is what is used by the tour guide mobile app to know where to download the tour
files.`,Fu=`<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>%PROJECT_TITLE%</title>
</head>

<body>
  <p>This URL contains the data for %PROJECT_TITLE%, a set of tours created with Shufti Builder.</p>
  <noscript>
    <p>To edit this tour, copy the URL for this webpage and paste it into the relevant field in Shufti Builder.</p>
  </noscript>

  <template id="content">
    <p>To edit this tour, use the following link: <a class="edit-tour-link"></a></p>
  </template>

  <script src="%INDEX_JS%"><\/script>
</body>

</html>`;class xr extends Error{}const Ss=async(t,e,n={includeAssets:!0})=>{const i=await t.loadProject(e);if(i===void 0)throw new xr("Failed to load project for export.");delete i.id,delete i.source;const s=await $u(i,async u=>await t.loadAsset(u)),r=new Date,a=r.getFullYear(),o=String(r.getMonth()+1).padStart(2,"0"),c=String(r.getDate()).padStart(2,"0"),l=String(r.getHours()).padStart(2,"0"),h=String(r.getMinutes()).padStart(2,"0"),m=String(r.getSeconds()).padStart(2,"0"),_=`${a}-${o}-${c}-${l}-${h}-${m}`,f=URL.createObjectURL(s),y=document.createElement("a");y.href=f,y.download="Shufti-"+i.title.replaceAll(" ","-")+"-"+_+".zip",document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(f)},$u=async(t,e,n={includeAssets:!0})=>{const i={};if(n.includeAssets)for(const a of Object.values(t.assets)){const o=await e(a.hash);o===void 0?console.warn("export warning: ignoring missing blob for asset with hash '"+a.hash+"'"):i[a.hash]=o}const s=JSON.stringify(t);let r;try{const a=new vs;a.file("README.txt",Lu),a.file("index.html",Fu.replaceAll("%PROJECT_TITLE%",t.title).replaceAll("%INDEX_JS%","index.js")),a.file("index.js",Zu),a.file("shufti.json",s);for(const[o,c]of Object.entries(i))a.file(o,c);r=await a.generateAsync({type:"blob"})}catch{throw new xr("Failed to create tour zip file.")}return r},Uu="_ProjectEditor_34jky_1",qu={ProjectEditor:Uu},Hu="_ProjectEditorPanel_74upw_1",Gu="_ProjectName_74upw_15",Ju="_SidebarHeader_74upw_20",Vu="_BottomButtons_74upw_25",Ln={ProjectEditorPanel:Hu,ProjectName:Gu,SidebarHeader:Ju,BottomButtons:Vu};var Wu=ie("<span class=hint>You are currently viewing the <em></em> project."),Xu=ie("<div><span></span><span class=hint>Below is the list of tours in the project. Click to edit, and create new tours with the Create Tour button.</span><button class=primary>Create Tour</button><span>Assets</span><span class=hint>Images and audio files are stored as <em>assets</em>. In the Assets Editor, you can download, update, and delete existing assets.</span><div style=flex:1></div><div><button class=primary>Save (Ctrl+S)");const Ku=()=>{const t=Yi(),e=_t(),[n,i]=Ir(),s=async()=>{i(a=>({...a,tours:[...a.tours,{type:"driving",id:ri(),title:"Empty Tour",desc:"",gallery:[],route:[],pois:[],path:"",links:{}}]}))},r=async()=>{if(n()!=null)try{await Ss(e,n().id)}catch(a){console.error("Error while exporting project:",a),a instanceof xr?Ze.error("An error occurred while saving the project: "+a.message):Ze.error("An internal error occurred while saving the project.")}};return P(Te,{get when(){return n()},get children(){var a=Xu(),o=a.firstChild,c=o.nextSibling,l=c.nextSibling,h=l.nextSibling,m=h.nextSibling,_=m.nextSibling,f=_.nextSibling,y=f.firstChild;return U(o,()=>n()?.title),U(a,P(Te,{get when(){return n()?.title},get children(){var u=Wu(),v=u.firstChild,g=v.nextSibling;return U(g,()=>n()?.title),u}}),c),U(a,P(en,{get each(){return n()?.tours},children:u=>P(Qe,{get href(){return`/projects/${t.pid}/tours/${u.id}`},class:"secondary",get children(){return u.title}})}),l),l.$$click=s,U(a,P(Qe,{get href(){return`/projects/${t.pid}/assets`},class:"primary",children:"Assets Editor"}),_),y.$$click=r,U(f,P(Qe,{class:"secondary",get href(){return`/projects/${t.pid}/manage`},children:"Settings"}),null),ce(u=>{var v=Ln.ProjectEditorPanel,g=Ln.ProjectName,A=Ln.SidebarHeader,w=Ln.BottomButtons;return v!==u.e&&G(a,u.e=v),g!==u.t&&G(o,u.t=g),A!==u.a&&G(h,u.a=A),w!==u.o&&G(f,u.o=w),u},{e:void 0,t:void 0,a:void 0,o:void 0}),a}})};Nt(["click"]);var Yu=ie("<div>");const eh=t=>{const e=Yi(),n=_t(),i=async s=>{if(s.ctrlKey&&s.key==="s"){s.preventDefault();try{await Ss(n,e.pid)}catch(r){console.error("Error while exporting project:",r),r instanceof xr?Ze.error("An error occurred while saving the project: "+r.message):Ze.error("An internal error occurred while saving the project.")}}};return document.addEventListener("keydown",i),vt(()=>{document.removeEventListener("keydown",i)}),(()=>{var s=Yu();return U(s,P(Qu,{get id(){return e.pid},get children(){return[P(Ku,{}),_e(()=>t.children)]}})),ce(()=>G(s,qu.ProjectEditor)),s})()},th=(t,e)=>{const n=_t(),[i,s]=Re();return Ht(async()=>{const r=ze(i);r!==void 0&&URL.revokeObjectURL(r);const a=t();if(a===void 0)return;const o=e();if(o===void 0)return;const c=a.assets[o];if(c===void 0)return;const l=await n.loadAsset(c.hash);l!==void 0&&s(URL.createObjectURL(l))}),vt(()=>{const r=i();r!==void 0&&URL.revokeObjectURL(r)}),i},nh="_AssetsEditor_jsd7z_1",rh="_AssetsList_jsd7z_10",ih="_AssetCard_jsd7z_17",sh="_AssetName_jsd7z_25",ah="_AssetCardButtons_jsd7z_30",oh="_AssetThumbnail_jsd7z_34",ch="_AssetButton_jsd7z_48",Ye={AssetsEditor:nh,AssetsList:rh,AssetCard:ih,AssetName:sh,AssetCardButtons:ah,AssetThumbnail:oh,AssetButton:ch};var lh=ie("<div><span class=hint>The Asset Editor allows you to manage existing assets. To add new assets, just edit a tour and upload files as necessary.</span><div>"),dh=ie("<img>"),Bi=ie("<div>"),uh=ie('<div><div></div><div><button title="Download Asset File"></button><button title="Upload New Version"></button><button title="Delete Asset File"></button></div><input type=file style=display:none>');const hh=()=>{const[t]=Ir(),e=()=>Object.keys(t()?.assets??[]);return(()=>{var n=lh(),i=n.firstChild,s=i.firstChild,r=i.nextSibling;return U(i,P(Te,{get when(){return e()?.length===0},children:"This project currently does not currently have any asset files."}),s),U(r,P(en,{get each(){return e()},children:a=>P(fh,{asset:a})})),ce(a=>{var o=Ye.AssetsEditor,c=Ye.AssetsList;return o!==a.e&&G(n,a.e=o),c!==a.t&&G(r,a.t=c),a},{e:void 0,t:void 0}),n})()},fh=t=>{const e=Li(),n=_t(),[i,s]=Ir(),r=th(i,()=>t.asset),[a]=Et(()=>t.asset,async f=>{if(f===void 0)return;const y=i();if(y!==void 0&&y.assets[f]!=null)return await n.loadAsset(y.assets[f].hash)}),o=()=>a()!=null?["image/jpeg","image/png"].includes(a().type):!1,c=()=>a()!=null?["audio/mpeg"].includes(a().type):!1,l=async f=>{const y=f.currentTarget.files;if(y==null||y.length<1)return;const u=y[0],v=await n.storeAsset(u);s(g=>({...g,assets:{...g.assets,[t.asset]:{...g.assets[t.asset],hash:v}}}))},h=async()=>{window.open(r(),"_blank")},m=async()=>{document.getElementById(e)?.click()},_=async()=>{confirm("Are you sure you want to delete this asset? This cannot be undone.")&&s(f=>{const u={...f.assets};return delete u[t.asset],{...f,assets:u}})};return(()=>{var f=uh(),y=f.firstChild,u=y.nextSibling,v=u.firstChild,g=v.nextSibling,A=g.nextSibling,w=u.nextSibling;return U(f,P(Te,{get when(){return o()},get children(){var x=dh();return x.$$click=()=>window.open(r(),"_blank"),ce(E=>{var D=r(),B=Ye.AssetThumbnail;return D!==E.e&&Le(x,"src",E.e=D),B!==E.t&&G(x,E.t=B),E},{e:void 0,t:void 0}),x}}),y),U(f,P(Te,{get when(){return c()},get children(){var x=Bi();return x.$$click=()=>window.open(r(),"_blank"),U(x,P(gc,{})),ce(()=>G(x,Ye.AssetThumbnail)),x}}),y),U(f,P(Te,{get when(){return _e(()=>!o())()&&!c()},get children(){var x=Bi();return x.$$click=()=>window.open(r(),"_blank"),U(x,P(ms,{})),ce(()=>G(x,Ye.AssetThumbnail)),x}}),y),U(y,()=>t.asset),v.$$click=h,U(v,P(ps,{})),g.$$click=m,U(g,P(bc,{})),A.$$click=_,U(A,P(gs,{})),w.$$input=l,Le(w,"id",e),ce(x=>{var E=Ye.AssetCard,D=Ye.AssetName,B=Ye.AssetCardButtons,z=Ye.AssetButton,C=Ye.AssetButton,T=Ye.AssetButton;return E!==x.e&&G(f,x.e=E),D!==x.t&&G(y,x.t=D),B!==x.a&&G(u,x.a=B),z!==x.o&&G(v,x.o=z),C!==x.i&&G(g,x.i=C),T!==x.n&&G(A,x.n=T),x},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),f})()};Nt(["click","input"]);const ph="_Field_ciboz_1",mh="_FieldLabel_ciboz_9",Fn={Field:ph,FieldLabel:mh};var gh=ie("<legend>"),yh=ie("<fieldset>"),vh=ie("<label>"),_h=ie("<div>");const Ci=t=>{const e=Li();return t.set===!0?(()=>{var n=yh();return U(n,P(Te,{get when(){return t.label},get children(){var i=gh();return U(i,()=>t.label),ce(()=>G(i,Fn.FieldLabel)),i}}),null),U(n,()=>t.children(e),null),ce(()=>G(n,Fn.Field)),n})():(()=>{var n=_h();return U(n,P(Te,{get when(){return t.label},get children(){var i=vh();return Le(i,"for",e),U(i,()=>t.label),ce(()=>G(i,Fn.FieldLabel)),i}}),null),U(n,()=>t.children(e),null),ce(()=>G(n,Fn.Field)),n})()},Ah="_ProjectManager_1fmi9_1",bh="_Members_1fmi9_14",wh="_Member_1fmi9_14",kh="_MemberName_1fmi9_30",Ih="_MemberAdmin_1fmi9_37",xh="_MemberButton_1fmi9_45",Eh={ProjectManager:Ah,Members:bh,Member:wh,MemberName:kh,MemberAdmin:Ih,MemberButton:xh};var Bh=ie("<div>"),Ch=ie("<input type=text>"),Sh=ie("<span class=hint style=margin-bottom:12px>WARNING: Project deletion cannot be undone. All project data - tours, images, and audio files - will be permanently deleted. Perform this action with caution."),Nh=ie("<button class=danger>Delete Project");const Th=()=>{const t=wa(),[e,n,i]=Ir(),s=async a=>{const o=a.currentTarget.value;n(c=>({...c,title:o}))},r=async()=>{e()!=null&&prompt(`Are you sure you want to delete this project? This cannot be undone.
To delete the project, type its full name below.`)===e().title&&(await i(),t("/"))};return(()=>{var a=Bh();return U(a,P(Ci,{label:"Project Title",children:o=>(()=>{var c=Ch();return c.$$input=s,Le(c,"id",o),ce(()=>c.value=e()?.title??""),c})()}),null),U(a,P(Ci,{set:!0,label:"Actions",children:()=>[Sh(),(()=>{var o=Nh();return o.$$click=r,o})()]}),null),ce(()=>G(a,Eh.ProjectManager)),a})()};Nt(["input","click"]);const Dh=Gs(async()=>await Rs(()=>import("./TourEditor-CNvMTJc6.js").then(t=>t.T),__vite__mapDeps([0,1]))),Rh=document.getElementById("root"),zh=()=>[],Oh=t=>_e(()=>t.children);sa(()=>[P(Za,{get children(){return[P(Ke,{path:"/",component:Oh,get children(){return[P(Ke,{path:"/",component:wl}),P(Ke,{path:"/profile",component:Ql}),P(Ke,{path:"/bundles",component:hd})]}}),P(Ke,{path:"/admin",component:ac,get children(){return[P(Ke,{path:"/",component:Pu}),P(Ke,{path:"/projects/:pid",component:eh,get children(){return[P(Ke,{path:"/",component:zh}),P(Ke,{path:"/assets",component:hh}),P(Ke,{path:"/manage",component:Th}),P(Ke,{path:"/tours/:tid",component:Dh})]}})]}})]}}),P(lo,{position:"bottom-right",toastOptions:{duration:1e4}})],Rh);export{gs as A,_t as B,Ze as C,Ci as D,wa as E,Zh as F,ki as G,Ph as H,jh as I,ri as J,Ui as K,Te as S,Rs as _,Ir as a,Re as b,Yr as c,P as d,Qn as e,Li as f,ce as g,G as h,Ht as i,Yi as j,U as k,Gs as l,Nt as m,th as n,Di as o,oa as p,Fh as q,Lh as r,Le as s,ie as t,gr as u,en as v,$i as w,Qh as x,Mh as y,bc as z};
